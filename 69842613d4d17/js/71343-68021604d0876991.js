"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["71343"],{966346(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var r=n(157203),o=n(460657),i=n(867076),a=n(550247),l=n(186122),c=n(202298),s=n(999345),u=n(524802),f=n(778443),d=n(837855),p=n(370714),m=n(361268),y=n(467780),b=n(799632),h=n(614974),v=n(841037),g=n(792307),x=n(286040),_=n(481989),j=n(991224),w=n(215868),O=n(425347),S=n(879667);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=(0,r.lazy)(function(){return n.e("82054").then(n.bind(n,978656))}),k=new o.K5([w.f]);function T(e){var t=e.handleComplete,n=e.isNag,w=(0,j.Ay)(),E=(0,d.A)(),T=(0,l.o)().logContextEvent,I=(0,r.use)(u.l),D=(null==I?void 0:I.setObserverRef)||function(){},z=(0,p.A)(),B=(0,r.useCallback)(function(){return E.isAuth?13716:15456},[E.isAuth]),M=(0,r.useCallback)(function(){return E.isAuth?474:747},[E.isAuth]),R=P((0,r.useState)(!0),2),L=R[0],N=R[1],F=P((0,r.useState)(!1),2),U=F[0],W=F[1],H=(0,_.CG)().showOneToast,K=(0,b.A)({name:"UserResource",options:{user_id:E.isAuth&&E.id||""}}),V=(0,y._8)(),J="desktop"===w;(0,r.useEffect)(function(){T({event_type:13,component:B(),view_type:M()})},[T,B,M]);var $=function(e){var t,n,r,o,i,l,s;(0,c.xP)(V),(0,g.y1)().setItem(a.lD,(o={},i=V.unauthId,l={allow_analytic_cookies:null!=(t=e.allow_analytic_cookies)&&t,allow_marketing_cookies:null!=(n=e.allow_marketing_cookies)&&n,allow_personalization_cookies:null!=(r=e.allow_personalization_cookies)&&r},(s=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),(i="symbol"==A(s)?s:s+"")in o)?Object.defineProperty(o,i,{value:l,enumerable:!0,configurable:!0,writable:!0}):o[i]=l,o))},G=(0,S.jsxs)(o.KJ,{align:J?"start":"center",children:[z._('We use cookies to deliver personalized ads and experiences, and to analyze traffic on our site.', 'homeFeed.cookiesConsentBanner.bannerText', 'Banner description about why we use cookies')," ",(0,m.vQ)(z._('Read our {{ cookiePolicyLink }} for more information.', 'homeFeed.cookiesConsentBanner.readCookiePolicyText', 'Banner description about why we use cookies. "cookiePolicyLink" equals to "Cookie Policy" for english'),{cookiePolicyLink:(0,S.jsx)(o.KJ,{inline:!0,weight:"bold",children:(0,S.jsx)(o.N_,{display:"inlineBlock",href:x.Q$y,target:"blank",underline:"hover",children:z._('cookie policy', 'homeFeed.cookiesConsentBanner.cookiePolicyLink', 'Cookie policy link')},"cookie-policy-link")})})]}),Y=(0,S.jsxs)(o.so,{direction:J?"row":"column",gap:J?{row:2,column:0}:{column:4,row:0},children:[(0,S.jsx)(o.$n,{fullWidth:!0,onClick:function(){T({event_type:101,component:B(),view_type:M(),element:11984}),(0,O.GV)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"true",allow_marketing_cookies:"true",allow_personalization_cookies:"true",location:"app_packages_CookieConsent_Banner_handleAcceptAll"}}),E.isAuth?i.A.create("UserSettingsResource",{allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0,surface_tag:v.r.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(function(){K.refresh(),H(function(e){var t=e.hideToast;return(0,S.jsx)(f.A,{duration:3e3,onHide:t,text:z._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t()}):($({allow_analytic_cookies:!0,allow_marketing_cookies:!0,allow_personalization_cookies:!0}),H(function(e){var t=e.hideToast;return(0,S.jsx)(f.A,{duration:3e3,onHide:t,text:z._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t())},size:J?"lg":"md",text:z._('Accept all', 'navFooter.cookieConsentBanner.acceptAllButton', 'Accept all cookies button')}),(0,S.jsx)(o.$n,{fullWidth:!0,onClick:function(){T({event_type:101,component:B(),view_type:M(),element:11985}),(0,O.GV)("webapp.updateCookiePreferences",{sampleRate:.1,tags:{allow_analytic_cookies:"false",allow_marketing_cookies:"false",allow_personalization_cookies:"false",location:"app_common_react_components_CookieConsent_Banner_handleRejectAll"}}),E.isAuth?i.A.create("UserSettingsResource",{allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1,surface_tag:v.r.HOLISTIC_PROFILE_PROMPT}).callUpdate().then(function(){K.refresh(),H(function(e){var t=e.hideToast;return(0,S.jsx)(f.A,{duration:3e3,onHide:t,text:z._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t()}):($({allow_analytic_cookies:!1,allow_marketing_cookies:!1,allow_personalization_cookies:!1}),H(function(e){var t=e.hideToast;return(0,S.jsx)(f.A,{duration:3e3,onHide:t,text:z._('We saved your cookie preferences. You can change them in the settings section of your profile at any time.', 'homeFeed.cookiesConsentBanner.acceptedAllToastText', 'Success message after accepting all optional cookies')})}),t())},size:J?"lg":"md",text:z._('Reject all', 'navFooter.cookieConsentBanner.rejectAllButton', 'Manage cookie settings button')}),(0,S.jsx)(o.$n,{fullWidth:!0,onClick:function(){T({event_type:101,component:B(),view_type:M(),element:11986}),W(!0),J||N(!1)},size:J?"lg":"md",text:z._('Let me choose', 'navFooter.cookieConsentBanner.manageCookiesButton', 'Manage cookie settings button')})]});return(0,S.jsxs)(r.Fragment,{children:[L&&(J?(0,S.jsx)(o.az,{ref:D,paddingX:2,paddingY:2,smPaddingX:6,smPaddingY:2*!!n,children:(0,S.jsxs)(o.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",color:E.isAuth?"transparent":void 0,dangerouslySetInlineStyle:E.isAuth?void 0:{__style:{backgroundColor:"var(--base-color-grayscale-50)"}},"data-test-id":"cookie-consent-banner",direction:"column",display:"flex",justifyContent:"between",marginBottom:6*!n,overflow:"hidden",padding:n?3:6,position:"relative",rounding:400,smDirection:"row",children:[(0,S.jsx)(o.az,{display:"flex",marginEnd:0,smMarginEnd:7,children:G}),(0,S.jsx)(o.az,{alignItems:"center",display:"flex",flex:"none",justifyContent:"center",marginTop:4,smMarginTop:0,children:Y})]})}):(0,S.jsx)(o.Wd,{zIndex:k,children:(0,S.jsx)(o.az,{ref:D,bottom:!0,marginBottom:2,position:"fixed",width:"100%",children:(0,S.jsxs)(o.az,{alignItems:"center",color:"default",direction:"column",display:"flex",elevation:"shadowFloating",marginEnd:"auto",marginStart:"auto",padding:6,rounding:600,width:"95%",children:[G,(0,S.jsx)(o.az,{marginTop:4,minWidth:240,children:Y})]})})})),U&&(0,S.jsx)(s.A,{name:"SafeSuspense_CookieConsentBanner_SettingsModal",children:(0,S.jsx)(h.A,{children:(0,S.jsx)(o.az,{"data-test-id":"settings-modal",children:(0,S.jsx)(C,{dismissIcon:"close",handleComplete:t,onClose:function(){return W(!1)}})})})})]})}},202298(e,t,n){n.d(t,{N2:function(){return s},On:function(){return u},jU:function(){return c},mK:function(){return f},xP:function(){return d}});var r=n(550247),o=n(841368),i=n(805454),a=n(792307),l=new Set(o.A);function c(e){var t=e.countryFromIp,n=e.countryFromHostName,r=e.regionFromIp;return!!t&&l.has(t)||!!n&&l.has(n)||"CA-QC"===r}function s(e){var t;return c(e)&&(null==(t=(0,a.y1)().getItem(r.lD))||!t[e.unauthId])}function u(e){var t=(0,i.A)().checkExperiment;return c(e)&&(t("dweb_unauth_cookie_consent_modal",{dangerouslySkipActivation:!0}).anyEnabled||t("dweb_unauth_cookie_consent_banner",{dangerouslySkipActivation:!0}).anyEnabled)}function f(e){var t=(0,i.A)().checkExperiment;return c(e)&&(t("mweb_unauth_cookie_consent_modal",{dangerouslySkipActivation:!0}).anyEnabled||t("mweb_unauth_cookie_consent_banner",{dangerouslySkipActivation:!0}).anyEnabled)}function d(e){(0,a.gE)({countryFromHostName:e.countryFromHostName||"",countryFromIp:e.countryFromIp||"",regionFromIp:e.regionFromIp,isAuthenticated:e.isAuthenticated,unauthId:e.unauthId,unauthConsent:!0})}},351632(e,t,n){n.d(t,{A:function(){return r}});function r(e){return("u"<typeof window||!Object.prototype.hasOwnProperty.call(window,"requestAnimationFrame"))&&e&&e(),window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){e&&e()})})}},157559(e,t,n){n.d(t,{Lc:function(){return i},Mc:function(){return o},gJ:function(){return a}});var r=n(460657),o=new r.rk(3),i=new r.K5([o]),a=new r.K5([i])},18841(e,t,n){n.d(t,{$_:function(){return A},BP:function(){return S},CY:function(){return s},Cj:function(){return I},H3:function(){return k},HU:function(){return P},Hy:function(){return i},Ic:function(){return _},Jf:function(){return v},KN:function(){return u},LB:function(){return E},O1:function(){return m},Sf:function(){return o},TI:function(){return r},YY:function(){return d},Ym:function(){return h},eb:function(){return T},fY:function(){return a},i6:function(){return y},jC:function(){return c},lN:function(){return g},nN:function(){return C},pk:function(){return b},qx:function(){return x},sw:function(){return l},t9:function(){return f},to:function(){return p},vC:function(){return O},xg:function(){return w},zF:function(){return j}});var r=0,o=0,i=0,a=0,l=0,c="",s="",u="",f="",d="",p="",m="desktop",y=!1,b=202,h=0,v=0,g=202,x={browserName:"",browserType:null,browserVersion:"",canUseNativeApp:!1,isTablet:!1,isMobile:!1,platform:"",platformVersion:[0,0,0],osName:null,raw:""},_=[],j=[],w=[],O=[],S=[],A=100,P=10,E=28,C=1,k=18e5,T=50,I=function(){var e=Date.now();return{ts:e,sessionTimestamps:[e]}}},28860(e,t,n){n.d(t,{A:function(){return b}});var r=n(460657),o=n(713466),i=n(972078),a=n(44813),l=n(359580),c=n(250913),s=n(954408),u=n(991224),f=n(598269),d=n(879667),p=new r.rk(f.d1),m=new r.K5([p]),y=function(e){var t=e.complete,n=e.dismiss,o=e.experience.display_data,u=e.isMobile,f=(0,l.A)(c.A)(o),p=f.titleText,y=f.detailedText,b=f.completeButton,h=f.dismissButton,v=(0,i.NM)().setObserverRef,g=u?"center":"start",x=!!b&&(0,s.A)({url:b.uri});return(0,d.jsx)(r.Wd,{zIndex:m,children:(0,d.jsx)(a.Ay,{accessibilityModalLabel:p,footer:(0,d.jsxs)(r.az,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:u?"center":"end",children:[h&&(0,d.jsx)(r.az,{fit:!0,flex:u?"grow":"none",minWidth:u?130:void 0,padding:1,children:(0,d.jsx)(r.$n,{color:"secondary",fullWidth:u,onClick:n,size:"lg",text:h.text})}),b&&(0,d.jsx)(r.az,{fit:!0,flex:u?"grow":"none",minWidth:u?130:void 0,padding:1,children:(0,d.jsx)(r.vx,{color:"primary",fullWidth:u,href:b.uri,onClick:function(){return t()},rel:x?"nofollow":"none",size:"lg",text:b.text})})]}),heading:(0,d.jsx)(r.az,{marginTop:2*!!u,children:(0,d.jsxs)(r.so,{justifyContent:"between",children:[(0,d.jsx)(r._Y,{accessibilityLevel:1,size:"600",children:p}),!u&&(0,d.jsx)(r.K0,{accessibilityLabel:"Dismiss modal",bgColor:"default",icon:"close",iconColor:"default",onClick:n,size:"sm"})]})}),onDismiss:n,size:"sm",children:(0,d.jsx)(r.az,{ref:v,padding:6,children:(0,d.jsx)(r.KJ,{align:g,children:y})})})})};function b(e){var t=e.experience,n=e.placementId,r=(0,u.M)(),a=(0,i.wQ)(n),l=a.enableExperienceSession,c=a.endOnSurfaceChange;return(0,d.jsx)(o.Ay,{eligibleTypes:[14],enableExperienceSession:l,experience:t,placementId:n,sessionEndOnSurfaceChange:c,children:function(e){var t=e.complete,n=e.dismiss,o=e.experience;return(0,d.jsx)(y,{complete:t,dismiss:n,experience:o,isMobile:r})}})}},231341(e,t,n){n.d(t,{A:function(){return _}});var r=n(157203),o=n(460657),i=n(879667);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(l=function(){return!!e})()}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){var t;function n(){var e,t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return e=n,t=arguments,e=c(e),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,l()?Reflect.construct(e,t||[],c(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&s(n,e),t=[{key:"renderFlyout",value:function(){var e=this.props,t=e.anchor,n=e.tooltip,r=e.handleDismiss,a=e.handleComplete;if(!n)return null;var l=n.cancelButtonText,c=n.confirmButtonText,s=n.mainText,u=n.idealDirection,f=l&&!!r&&c&&a;return(0,i.jsx)(o.fT,{anchor:t,idealDirection:void 0===u?"down":u,message:s,onDismiss:r,primaryAction:{onClick:f?r:a,text:f?String(l):String(c),role:"button"},size:"flexible"})}},{key:"render",value:function(){return this.props.anchor?this.renderFlyout():null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.Component),f=n(843502),d=n(368114),p=n(359580),m=n(250913);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==y(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var g=function(e){var t=e.anchor,n=e.anchorExperiences;return e.passedExperience||(n?n[t]:null)},x=function(e){var t=e.display_data;return t.tooltip&&(t.tooltip=v(v({},t.tooltip.options),t.tooltip),delete t.tooltip.options),(0,p.A)(m.A,!0)(t)};function _(e){var t,n,a=e.anchor,l=e.anchorElementRef,c=e.children,s=e.containerBoxConfig,p=e.experience,m=e.isHidden,y=e.onCompleteClick,h=e.zIndex,v=(0,f.WJ)(),_=v.completeExperience,j=v.dismissExperience,w=v.experiences,O=v.viewExperience,S=g({anchor:a,anchorExperiences:Object.values(w).reduce(function(e,t){var n=(0,d.al)(t);return 8===t.type&&n&&(e[n]=t),e},{}),passedExperience:p}),A=(null==S||null==(n=S.display_data)?void 0:n.delay)||0,P=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!!A))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return b(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),E=P[0],C=P[1];if((0,r.useEffect)(function(){if(A>0&&E){var e=setTimeout(function(){C(!1)});return function(){return clearTimeout(e)}}return function(){}},[A,E]),(0,r.useEffect)(function(){!E&&S&&O(S.placement_id,S.experience_id)},[E,S]),!S||E||m)return r.Children.only(c);var k=x(S),T=function(){var e;null!=(e=S.display_data)&&e.complete_on_hover&&_(S.placement_id,S.experience_id)};return(0,i.jsxs)(o.az,{display:null==s?void 0:s.display,height:null==s?void 0:s.height,position:"relative",children:[(0,i.jsx)(o.Rp,{onMouseEnter:T,onTap:function(){y&&y(),k.skipComplete||_(S.placement_id,S.experience_id)},children:r.Children.only(c)}),(0,i.jsx)(u,{anchor:l||null,handleComplete:function(){l instanceof HTMLElement&&l.click()},handleDismiss:function(e){null!=e&&e.event&&e.event.stopPropagation(),j(S.placement_id,S.experience_id)},handlePulsarCompleteOnHover:T,pulserOnly:!!k.pulserOnly,tooltip:k.tooltip,zIndex:h})]})}},563817(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(157203),o=n(709341),i=n(460657),a=n(966346),l=n(713466),c=n(972078),s=n(227581),u=n(359580),f=n(467780),d=n(250913),p=n(370714),m=n(281680),y=n(879667),b=function(){};function h(e){var t=e.color,n=e.completeButtonText,r=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.dismissButtonText,a=e.handleComplete,l=void 0===a?b:a,c=e.handleDismiss,s=void 0===c?b:c,u=e.header,f=e.headerSubtitle,d=(0,p.A)();return(0,y.jsx)(m.A,{color:t,completeButtonText:n||d._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:r,dismissButtonText:i||d._('Close', 'Closing a Hero banner', 'Closing a Hero banner'),external:o,message:((void 0===u?"":u)+" "+(void 0===f?"":f)).trim(),onComplete:l,onDismiss:s})}var v=n(891546),g=function(e){var t=e.handleDismiss,n=e.header,r=e.headerSubtitle,o=e.dismissButtonText,i=(0,p.A)();return(0,y.jsx)(m.A,{dismissButtonText:(void 0===o?"":o)||i._('Got it', 'dismissButton.hero.dismissText', 'Dismissing the Hero banner'),message:"".concat(void 0===n?"":n," ").concat(void 0===r?"":r),onDismiss:void 0===t?function(){}:t})},x=function(e){var t=e.color,n=e.completeButtonText,r=e.completeButtonUrl,o=e.completeButtonUrlInNewTab,i=e.handleComplete,a=e.header,l=e.headerSubtitle,c=(0,p.A)();return(0,y.jsx)(m.A,{color:void 0===t?"default":t,completeButtonText:n||c._('Go', 'Completing the Hero banner', 'Completing the Hero banner'),completeUrl:r,external:o,message:((void 0===a?"":a)+" "+(void 0===l?"":l)).trim(),onComplete:void 0===i?function(){}:i})},_=n(906938),j=n(837855),w=n(361268);function O(e){var t=e.completeButtonText,n=e.headerSubtitle,r=e.handleComplete,o=e.handleDismiss,a=(0,p.A)(),l=(0,j.A)(),c=l.isAuth?null==l?void 0:l.avatar_color_index:void 0,s=l.isAuth?l:{},u=s.firstName,f=void 0===u?"":u,d=s.imageLargeUrl;return(0,y.jsx)(i.az,{display:"flex",justifyContent:"center",position:"relative",children:(0,y.jsxs)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#EBF4FE"}},display:"flex",elevation:"shadowFloating",justifyContent:"between",marginBottom:2,marginEnd:8,marginStart:8,marginTop:4,padding:8,position:"relative",rounding:400,width:1016,children:[(0,y.jsxs)(i.so,{alignItems:"center",justifyContent:"start",children:[(0,y.jsx)(i.az,{marginBottom:-2,marginEnd:6,marginTop:-2,children:(0,y.jsx)(_.eu,{color:c,name:f,outline:!0,size:"lg",src:void 0===d?"":d})}),(0,y.jsxs)(i.so,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,y.jsx)(i.az,{marginBottom:2,children:(0,y.jsx)(i._Y,{size:"400",children:(0,w.vQ)(a._('Welcome back, {{ name }}', 'shown on a banner, "welcome back, first_name"', 'shown on a banner, "welcome back, first_name"'),{name:f})})}),(0,y.jsx)(i.KJ,{children:n})]})]}),(0,y.jsx)(i.az,{marginEnd:4,children:(0,y.jsx)(i.$n,{color:"tertiary",onClick:r,size:"lg",text:t})}),(0,y.jsx)(i.az,{padding:2,position:"absolute",right:!0,top:!0,children:(0,y.jsx)(i.K0,{accessibilityLabel:a._('Close', 'accessible label for close button', 'accessible label for close button'),icon:"close",iconColor:"default",onClick:o,size:"sm"})})]})})}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var C=function(e){var t,n=e.complete,l=e.dismiss,s=e.experience,p=s.display_data,m=s.experience_id,b=e.completeButtonUrl,_=e.onDismiss,j=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return E(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),w=j[0],S=j[1],A=(0,f._8)(),C=(0,r.useRef)(null),k=function(){w||S(!0)};b&&(p.complete_button_url=b);var T=(0,c.NM)().setObserverRef,I=function(e){switch(e){case 502597:return a.default;case 500863:return O;case 501153:case 501487:return x;default:return h}}(m),D=P({requestContext:A,experienceId:m,handleComplete:n,handleDismiss:function(){_&&_(),l()},color:I===g?"dark":"infoBase"},(0,u.A)(d.A)(p));(0,v.A)(function(){k()});var z=(0,r.useCallback)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;T(e),C.current=e},[T]);return(0,y.jsx)(o.A,{classNames:"ExperienceHero",in:w,nodeRef:C,timeout:400,unmountOnExit:!0,children:(0,y.jsx)(i.az,{ref:z,marginBottom:4,children:(0,y.jsx)(I,P({},D))})})};function k(e){var t=e.completeButtonUrl,n=e.onDismiss,o=e.placementId,i=(0,c.wQ)(o),a=i.enableExperienceSession,u=i.endOnSurfaceChange;return(0,y.jsxs)(r.Fragment,{children:[(0,y.jsx)(s.A,{unsafeCSS:"\n.ExperienceHero-enter {\n  opacity: 0;\n  transform: translateY(-50px);\n}\n\n.ExperienceHero-enter-active {\n  opacity: 1;\n  transform: none;\n  transition: all 400ms ease-out;\n}\n\n.ExperienceHero-exit {\n  opacity: 1;\n}\n\n.ExperienceHero-exit-active {\n  opacity: 0;\n  transition: opacity 400ms ease-out;\n}\n"}),(0,y.jsx)(l.Ay,{eligibleTypes:[13],enableExperienceSession:a,placementId:o,sessionEndOnSurfaceChange:u,children:function(e){var r=e.complete,o=e.dismiss,i=e.experience;return(0,y.jsx)(C,{complete:r,completeButtonUrl:t,dismiss:o,experience:i,onDismiss:n})}})]})}},713466(e,t,n){n.d(t,{Ay:function(){return P}});var r=n(157203),o=n(106386),i=n(884963),a=n(999345),l=n(700886),c=n(972078),s=n(67846),u=n(878908),f=n(891546),d=n(879667),p=["enableExperienceSession","customExperienceSession"];function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return v(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(g=function(){return!!e})()}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function j(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}var O=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=x(t),j(e=function(e,t){if(t&&("object"==m(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,g()?Reflect.construct(t,r||[],x(this).constructor):t.apply(this,r)),"state",{hasCompleted:[],hasDismissed:[]}),j(e,"experienceEligibility",!1),j(e,"view",function(){var t=e.props,n=t.experience,r=t.isBackendExperience,o=t.targeting,i=t.viewExperience,a=t.viewExperienceObject,l=t.session;n&&"viewed"!==n.status&&(null==l||l.startSession(),r?(n.status="viewed",a(n)):o?i(n.placement_id,n.experience_id,o):i(n.placement_id,n.experience_id))}),j(e,"complete",function(t){var n=e.props,r=n.completeExperience,o=n.completeExperienceObject,i=n.experience,a=n.isBackendExperience,l=n.preventRemoval,c=n.targeting,s=t||1;if(i&&!e.state.hasCompleted.includes(i.experience_id)){var u,f=i||{},d=f.placement_id,p=f.experience_id,m=l||2===s;(1===s||m)&&d&&p&&(a?o(i,m):c?r(d,p,m,c):r(d,p,m),null==(u=e.props.session)||u.endSession("complete"),e.setState(function(e){return{hasCompleted:[].concat(h(e.hasCompleted),[p])}}))}}),j(e,"dismiss",function(){var t,n=e.props,r=n.dismissExperience,o=n.dismissExperienceObject,i=n.experience,a=n.isBackendExperience,l=n.preventRemoval,c=n.targeting;if(i){var s=i.placement_id,u=i.experience_id;i&&!e.state.hasDismissed.includes(u)&&(a?o(i):c?r(s,u,!!l,c):r(s,u,!!l),null==(t=e.props.session)||t.endSession("dismiss"),e.setState(function(e){return{hasDismissed:[].concat(h(e.hasDismissed),[u])}}))}}),j(e,"isEligibleExperience",function(t){if(!t)return!1;var n=e.props,r=n.eligibleIds,o=n.eligibleTypes,i=n.predicate,a=n.eligibleSchemas,l=t.experience_id,c=t.type,s=t.display_data;return 1!==l&&(r&&r.length?r.includes(l):o&&o.length?!!o.includes(c)&&(!a||!a.length||a.includes(null==s?void 0:s.sub_schema_type)):!i||i(t))}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&_(n,e),t=[{key:"setEligibility",value:function(){var e=this.props.experience,t=this.isEligibleExperience(e);this.experienceEligibility!==t&&(this.experienceEligibility=t)}},{key:"componentDidMount",value:function(){if(!this.props.disableAutoView){var e=this.props.experience;e&&this.isEligibleExperience(e)&&this.view(),this.setEligibility()}}},{key:"componentDidUpdate",value:function(e){if(!this.props.disableAutoView){var t=e.experience,n=this.props.experience,r=this.isEligibleExperience(n);if(!n||!r)return void this.setEligibility();var o=(null==t?void 0:t.experience_id)!==n.experience_id,i=r&&!this.experienceEligibility;(!t||o||i)&&(this.setEligibility(),this.view())}}},{key:"render",value:function(){var e,t=this.props,n=t.children,o=t.experience,i=t.disableAutoView;return o&&this.isEligibleExperience(o)?"function"==typeof n?n(b(b({experience:o,complete:this.complete,dismiss:this.dismiss},i?{view:this.view}:Object.freeze({})),{},{sessionSetObserverRef:null==(e=this.props.session)?void 0:e.setObserverRef})):r.Children.only(n):null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.Component);function S(e){var t=(0,u.E3)(),n=(0,o.d4)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)});(0,f.A)(function(){null==t||t.checkUsePlacementCalls(e.placementId,null==n?void 0:n.experience_id)});var r=(0,o.wA)(),a=(0,l.Hy)(),s=(0,l._4)(),p=(0,l.Dz)(),m=(0,i.A)(),y=(0,c.NM)();return(0,d.jsx)(O,b(b({},e),{},{completeExperience:function(e,t,n,o){return r(a(e,t,n,!1,{},o))},completeExperienceObject:function(e,t){return r((0,l.Pl)(m)(e,t))},dismissExperience:function(e,t,n,o){return r(s(e,t,n,!1,void 0,o))},dismissExperienceObject:function(e){return r((0,l.sj)(e))},experience:n,session:y,viewExperience:function(e,t,n){return r(p(e,t,!1,!1,void 0,n))},viewExperienceObject:function(e){return r((0,l.fE)(m)(e))}}))}function A(e){var t=e.enableExperienceSession,n=e.customExperienceSession,r=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,p),i=(0,o.d4)(function(e){var t=e.experiences;return r.experience||(r.placementId?t[r.placementId]:void 0)}),a=void 0!==t&&t;a&&void 0!==n&&n&&(a=!!i&&s.r.includes(i.experience_id));var l=i&&i.experience_id,u=i?i.placement_id:r.placementId,f=i&&i.id;return(0,d.jsx)(c.AU,{enable:a,endOnSurfaceChange:r.sessionEndOnSurfaceChange,experienceId:l,id:f,placementId:u,children:(0,d.jsx)(S,b(b({},r),{},{experience:i}))})}function P(e){return(0,d.jsx)(a.A,{name:"ExperienceComponent",children:(0,d.jsx)(A,b({},e))})}j(O,"defaultProps",{eligibleIds:[],eligibleTypes:[],eligibleSchemas:[]})},67846(e,t,n){n.d(t,{K:function(){return r},r:function(){return o}});var r=[{placementId:11,endOnSurfaceChange:!0},{placementId:40001,endOnSurfaceChange:!0},{placementId:29,endOnSurfaceChange:!0},{placementId:12,endOnSurfaceChange:!0},{placementId:1000088,endOnSurfaceChange:!0},{placementId:1000468,endOnSurfaceChange:!0},{placementId:1000168,endOnSurfaceChange:!0},{placementId:1000235,endOnSurfaceChange:!0},{placementId:1000264,endOnSurfaceChange:!0}],o=[506124,506436,504943,505226,505111,505801,507575,502535,500331,506046,506879,507502,505933,506791,502669,506234,505047,505471,506234,505974,505201,502407,505541,506473,506921,502157,502004,506469,506930,508312,508591]},524802(e,t,n){n.d(t,{l:function(){return o}});var r=(0,n(4513).A)("ExperienceSessionContext"),o=r.Provider;t.A=r.get},528994(e,t,n){n.d(t,{A:function(){return l}});var r=n(67846);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e){var t=function(e){var t=r.K.find(function(t){return t.placementId===e});return{enableExperienceSession:!!t,endOnSurfaceChange:!!(null!=t&&t.endOnSurfaceChange)}};return e?a(a({},t(e)),{},{isSessionEnabledPlacement:t}):{enableExperienceSession:void 0,endOnSurfaceChange:void 0,isSessionEnabledPlacement:t}}},972078(e,t,n){n.d(t,{AU:function(){return P},wQ:function(){return E.A},OP:function(){return h},NM:function(){return A.A}});var r,o,i=n(157203),a=n(106386),l=n(620162),c=n(700886),s=n(847505),u=(0,n(4513).A)("ExperienceSessionManagerContext"),f=u.Provider,d=(u.get,u.getMaybe),p=n(353973),m=n(368114),y=n(891546),b=n(879667);function h(e){var t=e.children,n=(0,i.useRef)({}),r=(0,l.zy)(),o=(0,a.wA)(),u=(0,c.My)(),d=function(){return 0===Object.values(n.current).length||0===Object.keys(n.current).length},h=function(e){if(e)return n.current[e]},v=(0,i.useCallback)(function(e){var t=e.getId();return n.current[t]=e,m.$1.log("[Experience Sessions] - Added experience with id ".concat(t," to experiences in session map.\nView ExperienceInSession object added: "),n.current[t]),n.current[t]},[]),g=(0,i.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown";(0,s.lP)(function(){if(0===Object.values(n.current).length)throw new s.nA({placedExperienceId:e});if(!n.current[e])throw new s.oe({placedExperienceId:e});n.current[e].addTimeStamp(t,!1,"end"),n.current[e].disconnect(),m.$1.log("[Experience Session] - Ended experience with id ".concat(e," to experiences in session map with reason '").concat(t,"'.\nView time stamps for experience: "),n.current[e].getTimeline(),"\nFull experience in session object: ",n.current[e]),(0,p.A)({placedExperienceId:e,experienceId:n.current[e].getExperienceId(),placementId:n.current[e].getPlacementId(),timeline:n.current[e].getTimelineDeepCopy(),endReason:t}),o(u(n.current[e].getPlacementId(),n.current[e].getExperienceId())),delete n.current[e]},"removeExperience",void 0,e)()},[u,o]),x=function(e){d()||Object.values(n.current).forEach(function(e){(0,s.lP)(function(){e.hasInitiated()&&g(e.id,"page-unload")},"endOnPageLeave",void 0,e.id)()})},_=(0,i.useCallback)(function(){d()||Object.values(n.current).forEach(function(e){(0,s.lP)(function(){e.getLocation()!==r.pathname&&e.getEndOnSurfaceChange()&&e.hasInitiated()&&g(e.getId(),"surface-exit")},"endOnSurfaceChange",void 0,e.getId())()})},[r,g]),j=function(){d()||document.activeElement&&"IFRAME"===document.activeElement.tagName&&(m.$1.warn("[Experience Session] - Ignoring ".concat("pauseOnPageBlur"," event in iframe")),1)||Object.values(n.current).forEach(function(e){(0,s.lP)(function(){e.hasInitiated()&&(e.addTimeStamp("blur",!1,"paused"),m.$1.log("[Experience Session] - Pausing experience ".concat(e.getId()," session.")))},"pauseOnPageBlur",void 0,e.getId())()})},w=function(){d()||Object.values(n.current).forEach(function(e){(0,s.lP)(function(){if(e.hasInitiated())if(e.getTimeline().length<2)new s.IO({placedExperienceId:e.id}).log(),e.restart();else{var t=e.getStateToResumeTo();e.addTimeStamp("focus",t,"resumed"),m.$1.log("[Experience Session] - Resuming experience ".concat(e.getId()," session from paused state with inView status: ").concat(t,"."))}},"resumeOnPageFocus",void 0,e.getId())()})};(0,i.useEffect)(function(){_()},[r,_]),(0,y.A)(function(){return m.$1.log("[Experience Sessions] - ✨ Debug enabled!"),window.addEventListener("beforeunload",x),window.addEventListener("blur",j),window.addEventListener("focus",w),function(){window.removeEventListener("beforeunload",x),window.removeEventListener("blur",j),window.removeEventListener("focus",w)}});var O=(0,i.useMemo)(function(){return{experiencesInSession:n.current,getExperience:h,addExperience:v,removeExperience:g}},[n,v,g]);return(0,b.jsx)(f,{value:O,children:t})}var v=n(194545);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==g(t)?t:t+""}var O={start:["active","paused","end"],active:["active","end","paused"],paused:["resumed","paused","end"],resumed:["active","end","paused"],end:[],unknown:["start"]},S=(r=function e(t,n,r,o,i){var a=this,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(!(this instanceof e))throw TypeError("Cannot call a class as a function");j(this,"inView",!1),j(this,"state","unknown"),j(this,"lastInitiator",null),j(this,"endReason",null),j(this,"intersectionTrigger",function(e){var t=(function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),1!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,0)||function(e,t){if(e){if("string"==typeof e)return _(e,1);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,1):void 0}}(e,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],n=a.inView;(0,s.lP)(function(){null!=t&&t.isIntersecting?a.inView=!0:a.inView=!1,a.addTimeStamp("IntersectionObserver",a.inView,0===a.timeline.length?"start":"active"),m.$1.log("[Experience Sessions] - ".concat(a.inView?"\uD83D\uDC41️ In View":"❌ Out of View"))},"IntersectionObserver",void 0,a.id,function(){a.inView=n})()}),j(this,"handleTransitionEdgeCases",function(e,t,n,r){var o=(0,v.H)(e,t);return"paused->active"===o&&"IntersectionObserver"===n&&(a.addTimeStamp("IntersectionObserver",r,"paused",0),m.$1.warn("[Experience Sessions] - ⚠️ ".concat(o," transition detected with initiator ").concat(n,". Switching to 'paused' state instead.")),!0)}),this.id=t,this.experienceId=n,this.placementId=r,this.location=o,this.endOnSurfaceChange=i,this.observer=l,this.timeline=c,this.elementNode=u,u&&this.initiateObserver(u)},o=[{key:"restart",value:function(){var e=this;(0,s.lP)(function(){e.timeline=[],m.$1.log("[Experience Sessions] - Restarting timeline for experience ",e.id)},"restart",void 0,this.id)}},{key:"disconnect",value:function(){var e=this;(0,s.lP)(function(){if(!e.observer)throw new s.WQ({placedExperienceId:e.id,customMessage:"disconnect() - Attempted to disconnect observer, but it has not been initiated yet."});e.observer.disconnect(),e.observer=null},"ExperienceInSession.disconnect",void 0,this.id)()}},{key:"initiateObserver",value:function(e){if(e&&!this.observer)this.observer=new IntersectionObserver(this.intersectionTrigger,{root:null,rootMargin:"0px",threshold:.1}),this.elementNode=e,this.observer.observe(e);else{if(null!=e&&e.isEqualNode(this.elementNode)){var t;null==(t=this.observer)||t.observe(e),this.elementNode=e,m.$1.log("[Experience Sessions] - Resuming experience ".concat(this.id,"."),e);return}m.$1.warn("[Experience Sessions] - Attempted to initiate observer with a null node or an existing observer. Node:",e)}}},{key:"hasInitiated",value:function(){return null!==this.observer&&null!==this.elementNode&&"unknown"!==this.state}},{key:"addTimeStamp",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unknown",o=arguments.length>3?arguments[3]:void 0;if(!this.hasInitiated()&&"start"!==r)throw new s.Ip({placedExperienceId:this.id});var i=(null==(n=this.getLastTimeStamp())?void 0:n.state)||"unknown";if(!O[i].includes(r)){if(this.handleTransitionEdgeCases(i,r,e,t))return!0;throw new s.QR({placedExperienceId:this.id,currentState:i,newState:r})}return this.timeline.push({time:o||(0,m.JY)(),initiator:e,inView:t,state:r}),this.state=r,this.inView=t,this.lastInitiator=e,"end"===r&&"blur"!==e&&"focus"!==e&&"IntersectionObserver"!==e&&"restart"!==e&&(this.endReason=e),!0}},{key:"setEndReason",value:function(e){this.endReason=e}},{key:"isInView",value:function(){return this.inView}},{key:"getSessionState",value:function(){var e,t;return null!=(e=null==(t=this.timeline)||null==(t=t[this.timeline.length-1])?void 0:t.state)?e:"unknown"}},{key:"getLastTimeStamp",value:function(){return this.timeline.length>0?this.timeline[this.timeline.length-1]:void 0}},{key:"getTimeStampBeforePause",value:function(){for(var e=this.timeline.length-1;e>=0;e-=1){var t=this.timeline[e];if(!t||"active"===t.state||"resumed"===t.state)break;if("paused"===t.state)if(e-1>=0)return this.timeline[e-1];else break}}},{key:"getStateToResumeTo",value:function(){var e,t=this.getLastTimeStamp();if(t&&"paused"===t.state&&"IntersectionObserver"===t.initiator)return t.inView;var n=this.getTimeStampBeforePause();return void 0===n&&new s.IO({placedExperienceId:this.id}).log(),null!=(e=null==n?void 0:n.inView)&&e}},{key:"getState",value:function(){return{inView:this.inView,state:this.state,lastInitiator:this.lastInitiator,endReason:this.endReason}}},{key:"getTimelineDeepCopy",value:function(){return this.timeline.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){j(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e)})}},{key:"getId",value:function(){return this.id}},{key:"getExperienceId",value:function(){return this.experienceId}},{key:"getPlacementId",value:function(){return this.placementId}},{key:"getLocation",value:function(){return this.location}},{key:"getEndOnSurfaceChange",value:function(){return this.endOnSurfaceChange}},{key:"getElementNode",value:function(){return this.elementNode}},{key:"getObserver",value:function(){return this.observer}},{key:"getTimeline",value:function(){return this.timeline}},{key:"getLength",value:function(){return this.timeline.length}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),r),A=n(524802);function P(e){var t,n=e.children,r=e.id,o=e.experienceId,a=e.placementId,c=e.enable,u=e.endOnSurfaceChange,f=void 0===u||u,p=d(),m=!(void 0===c||c)||!p,y=p||{getExperience:function(){},addExperience:function(){},removeExperience:function(){}},h=y.getExperience,v=y.addExperience,g=y.removeExperience,x=(0,i.useRef)(null!=(t=h(r))?t:null),_=(0,i.useRef)(null),j=(0,l.zy)(),w=(0,i.useCallback)(function(){(0,s.lP)(function(){if(!m){if(!r||!o||!a)throw new s.PJ(r,o,a);x.current||(x.current=new S(r,o,a,j.pathname,f,null,void 0,_.current),v(x.current))}},"startSession",void 0,r)()},[r,o,a,x,v,m,j,f]),O=(0,i.useCallback)(function(e){(0,s.lP)(function(){var t;if(!m){if(!r||!o||!a)throw new s.PJ(r,o,a);null!=(t=x.current)&&t.hasInitiated()&&g(r,e)}},"endView",void 0,r)()},[r,o,a,x,g,m]),P=(0,i.useCallback)(function(e){(0,s.lP)(function(){m||(x.current?x.current.initiateObserver(e):_.current=e)},"setObserverRef",void 0,r)()},[x,m,r]),E=(0,i.useMemo)(function(){return{startSession:w,endSession:O,experienceInView:x.current,setObserverRef:P}},[w,O,x,P]);return(0,b.jsx)(A.l,{value:E,children:n})}var E=n(528994);n(285845)},683965(e,t,n){n.d(t,{Hi:function(){return a},al:function(){return i},pv:function(){return o}});var r="experience_framework.frontend",o=r+"experience.not_rendered",i=r+".placement.remount",a=r+".placement.used_without_mount"},860710(e,t,n){var r=n(460657),o=n(281755),i=n(991224),a=n(879667);t.A=function(e){var t=e.data,n=e.buttonType,l=e.experienceType,c=e.experienceSchema,s=t.accessibilityLabel,u=t.disabled,f=t.label,d=(0,i.qJ)(),p=(0,o.l)({buttonType:n,isDesktop:d,experienceType:l,experienceSchema:c}),m=p.size,y=p.color,b=p.fullWidth;return(0,a.jsx)(r.az,{paddingX:1,width:b?"100%":void 0,children:"link"===t.role?(0,a.jsx)(r.vx,{accessibilityLabel:s,color:y,disabled:u,fullWidth:b,href:t.href,onClick:t.onClick,rel:t.rel,size:m,target:t.target,text:f}):(0,a.jsx)(r.$n,{accessibilityLabel:s,color:y,disabled:u,fullWidth:b,onClick:t.onClick,size:m,text:f})})}},281755(e,t,n){n.d(t,{l:function(){return c},q:function(){return s}});var r=n(954408);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=i(i({},27,{primary:{color:"secondary"},secondary:{color:"transparent"}}),28,{primary:{color:"primary"},secondary:{color:"transparent"}}),l=i({},2,{primary:{color:"primary",size:"lg",fullWidth:!0},secondary:{color:"secondary",size:"lg",fullWidth:!0}}),c=function(e){var t,n,r=e.buttonType,o=e.experienceType,i=e.experienceSchema,c=e.isDesktop,s=void 0===c||c,u={};switch(o&&(u=(null==(t=a[o])?void 0:t[r])||{}),i&&(u=(null==(n=l[i])?void 0:n[r])||{}),o){case 27:u.size=s?"sm":"md";break;case 28:u.size=s?"md":"sm"}return u},s=function(e,t,n){return e&&e.url?{label:e.text,accessibilityLabel:n||e.text,href:e.url,role:"link",rel:(0,r.A)({url:e.url})?"nofollow":"none",onClick:t}:{label:e.text,accessibilityLabel:n||e.text,onClick:t}}},998889(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t,r){var o;return(o=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=n(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==n(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o,i=(r(r(r(r(r(r(r(r(r(r(o={},1,"default"),2,"subtle"),3,"subtle"),4,"inverse"),5,"info"),6,"success"),7,"warning"),8,"error"),9,"recommendation"),10,"primary"),r(r(o,11,"light"),12,"dark"));t.A=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return i[e]||t}},451356(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){var o;return(o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{W:function(){return l}});var i,a=(o(o(o(o(o(o(o(o(o(o(i={},2,"pinterest"),1,"sparkle"),5,"plus"),7,"pin-angled"),4,"magnifying-glass-frame"),3,"magnifying-glass"),6,"speech-ellipsis"),8,"instagram"),9,"camera"),10,"image"),o(o(o(o(o(o(o(o(o(o(i,11,"board"),12,"layout"),13,"hand-pointing"),14,"share"),15,"download"),16,"shopping-bag"),17,"check"),18,"circle-exclamation-point"),19,"bell"),20,"person"),o(o(o(o(o(o(o(o(o(o(i,21,"flag"),22,"lightbulb"),23,"home"),24,"speech-heart"),25,"speech"),26,"heart"),27,"face-smiley-outline"),28,"face-smiley-sparkle"),29,"star"),30,"ads-stats"),o(o(o(o(o(o(o(o(o(o(i,31,"filter-horizontal"),32,"heart-fill"),33,"gift"),34,"crystal-ball"),35,"bookmark-fill"),36,"magnifying-glass-sparkle"),37,"performance-plus"),38,"amazon"),39,"tag"),40,"tag-star"),o(o(i,41,"scissors"),43,"collage")),l=function(e){return a[e]}},843502(e,t,n){n.d(t,{WJ:function(){return i.Ay},Rf:function(){return b.A},Yd:function(){return I},Ts:function(){return m},Du:function(){return y.A}});var r=n(157203),o=n(620162),i=n(878908),a=n(424054),l=n(132946),c=n(991224);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d=function(e,t){if(t&&(0,a.dM)(e))return 1000564},p=function(e,t){if(t){if((0,a.rz)(e))return 1000541;else if((0,a._p)(e))return 1000542;else if((0,a.dM)(e))return 1000140}else if((0,a.rz)(e))return 1000544;else if((0,a._p)(e))return 1000543;else if((0,a.dM)(e))return 1000540},m=function(){var e=(0,i.Ay)(),t=e.mountPlacement,n=e.registeredAfterActionPlacements,s=(0,c.qJ)(),u=(0,o.zy)();return(0,r.useCallback)(function(e,r,o){var i,c,m;switch(e){case"Save":c=null!=(i=r)&&i.isRepinTakeover?1000578:(m=u,((0,a._u)(m)&&m.state&&"from"in m.state&&m.state.from&&(m=m.state.from),(0,a.rz)(m))?s?1000503:1000558:(0,a._p)(m)?s?1000506:1000559:(0,a.dM)(m)?s?1000141:1000494:(0,a.iK)(m)&&s?1000647:void 0);break;case"Download":(0,a.dM)(u)&&(c=s?1000499:1000500);break;case"Clickthrough":c=p(u,s);break;case"NoAction":c=d(u,s)}null!=c&&((0,a._p)(u)&&(r=f(f({},r),{},{search_query:(0,l.A)(u.search)})),null!=c&&(n[c]||(0,a._u)(u))&&t(c,r,o))},[n,t,u,s])},y=n(810832),b=n(452248),h=n(106386),v=n(546763),g=n(700886),x=n(368114),_=n(467780),j=n(879667);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(A=function(){return!!e})()}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){return(E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function C(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){var t=function(e,t){if("object"!=S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=S(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==S(t)?t:t+""}var T={dispatchMountActionDuringSSR:!1,isAdvertiserPlacement:!1},I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return function(o){return function(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2];var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4?arguments[4]:void 0,a=function(r){var i;function a(e){var t,n,r;if(!(this instanceof a))throw TypeError("Cannot call a class as a function");return n=a,r=[e],n=P(n),C(t=function(e,t){if(t&&("object"==S(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,A()?Reflect.construct(n,r||[],P(this).constructor):n.apply(this,r)),"state",{extraContext:void 0}),C(t,"setExtraContextState",function(e){(0,v.Ay)(t.state.extraContext,e)||t.setState({extraContext:e})}),t}if("function"!=typeof r&&null!==r)throw TypeError("Super expression must either be null or a function");return a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),r&&E(a,r),i=[{key:"componentDidMount",value:function(){this.dispatchPlacementMount()}},{key:"componentDidUpdate",value:function(n,r){var o=this.props,i=o.dispatch,a=o.experience,l=o.requestContext,c=r.extraContext,s=this.state.extraContext||t||{};"function"==typeof t&&(c=t(n,r.extraContext||{}),s=t(this.props,this.state.extraContext||{})),s&&Object.keys(s).length>0&&"object"===S(s)&&!(0,v.Ay)(c,s)&&i((0,g.xL)([e],l.isBot,s)),a&&(!n.experience||a.id!==n.experience.id)&&i((0,g.vI)(e,"object"===S(s)?s:{}))}},{key:"componentWillUnmount",value:function(){this.props.unmountPlacement(e)}},{key:"dispatchPlacementMount",value:function(){var r="function"==typeof t?t(this.props,this.state.extraContext||{}):O({},t),o=n&&null!=r&&r.advertiser_id?{advertiserId:r.advertiser_id}:void 0;this.props.mountPlacement(e,r,o)}},{key:"render",value:function(){var e=this.props,t=e.experience,r=e.experiencesMulti,i=C({},n?"advertiserExperience":"experience",t&&(0,x.lC)(t)?t:null);return(0,j.jsx)(o,O(O(O({},this.props),{},{setPlacementExtraContext:this.setExtraContextState},i),{},{experiencesMulti:r}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}(a.prototype,i),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.Component);function l(t){var n=(0,h.d4)(function(t){return t.experiences[e]}),r=(0,h.d4)(function(t){return t.experiencesMulti?t.experiencesMulti[e]:void 0}),o=(0,_._8)(),l=(0,h.wA)(),c=(0,i.Ay)(),s=c.mountPlacement,u=c.unmountPlacement;return(0,c.setUsePlacementCalls)(e,!0),(0,j.jsx)(a,O(O({},t),{},{dispatch:l,experience:n,experiencesMulti:r,mountPlacement:s,requestContext:o,unmountPlacement:u}))}return l.displayName="withPlacement(".concat(o.displayName||o.name||"Component",")"),l}(e,t,(n=O(O({},T),n)).dispatchMountActionDuringSSR,n.isAdvertiserPlacement,o)}}},810832(e,t,n){n.d(t,{A:function(){return l}});var r=n(157203),o=n(878908),i=n(368114),a=n(467780);function l(e){var t=(0,o.Ay)(),n=t.mountedPlacements,l=t.completeExperience,c=t.dismissExperience,s=t.experiences,u=t.fetchAllExperiences,f=t.fetchAllExperiencesMulti,d=t.fetchExperienceForPlacements,p=t.triggerExperimentsForPlacement,m=t.viewExperience,y=(0,a._8)().isBot,b=e&&!y?(0,i.NW)(s,n,e):null;return(0,r.useMemo)(function(){return{completeExperience:l,dismissExperience:c,experienceForPlacement:b,fetchAllExperiences:u,fetchAllExperiencesMulti:f,fetchExperienceForPlacements:d,triggerExperimentsForPlacement:p,viewExperience:m}},[l,c,b,u,f,d,p,m])}},878908(e,t,n){n.d(t,{E3:function(){return a},_z:function(){return o}});var r=(0,n(4513).A)("ExperienceContext"),o=r.Provider,i=r.get,a=r.getMaybe;t.Ay=i},452248(e,t,n){n.d(t,{A:function(){return p}});var r=n(157203),o=n(106386),i=n(878908),a=(0,n(679120).createSelector)(function(e){return e.experiences},function(e,t){return t},function(e,t){return e[t]}),l=n(467780),c=n(891546),s=n(425347);function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,s.GV)("".concat(e,".").concat(t),{sampleRate:1,tags:n})},d=function(e,t){return"function"==typeof t?t(e):t},p=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p=(0,l._8)().isBot,m=(0,i.Ay)(),y=m.fetchExperienceForPlacements,b=m.mountPlacement,h=m.triggerExperimentsForPlacement,v=m.unmountPlacement,g=m.setUsePlacementCalls,x=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(d,n))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),_=x[0],j=x[1],w=(0,o.d4)(function(t){return a(t,e)}),O=(0,o.d4)(function(t){return t.experiencesMulti[e]}),S=(0,r.useMemo)(function(){return s&&null!=_&&_.advertiser_id?{advertiserId:_.advertiser_id}:void 0},[s,_]),A=JSON.stringify(w?w.triggerable_placed_exps:[]),P=(0,r.useRef)(!0);return(0,r.useDebugValue)("Placement Hook ID - ".concat(e)),g(e,!0),(0,c.A)(function(){return b(e,_,S),function(){v(e)}}),(0,r.useEffect)(function(){if(P.current){P.current=!1;return}Object.keys(_).length&&y([e],p,_,S)},[_,y,p,e,S]),(0,r.useEffect)(function(){f("experienceservice","placementHookExperimentTrigger.1",{platform:"web",placement_id:e,triggerable_experiences:A}),h(e,_)},[A,e,_,h]),{experience:w,experiencesMulti:O,setExtraContext:j}}},365506(e,t,n){n.d(t,{ZR:function(){return eJ},b5:function(){return O},Vj:function(){return F},rr:function(){return t1},cO:function(){return eK},Du:function(){return eR.Du},Rf:function(){return eR.Rf},Yd:function(){return eR.Yd},xe:function(){return nr},Jq:function(){return eS},j9:function(){return Q.default},TC:function(){return eX},am:function(){return ns},SP:function(){return nf},Gl:function(){return tk},V6:function(){return z.V6},En:function(){return t9},tc:function(){return X},Ts:function(){return eR.Ts},X$:function(){return eM},hf:function(){return p},Je:function(){return s.Ay},Kp:function(){return f},nU:function(){return j},aR:function(){return ew},r8:function(){return th},WJ:function(){return eR.WJ}}),n(28860);var r=n(460657),o=n(186122),i=n(370714),a=n(879667),l={"error-callout":"error","info-callout":"info","warning-callout":"warning"};function c(e){var t,n,c=(0,i.A)(),s=(0,o.o)().logContextEvent,u=e.displayData,f=e.experienceId,d=e.onComplete,p=e.onDismiss,m={info:c._('Information icon', 'analyticsCalloutBanner.accessibilityLabel.info', 'accessibility label for info icon'),warning:c._('Warning icon', 'analyticsCalloutBanner.accessibilityLabel.warning', 'accessibility label for warning icon'),error:c._('Error icon', 'analyticsCalloutBanner.accessibilityLabel.error', 'accessibility label for error icon')},y=l[u.type]||"info";return(0,a.jsx)(r.az,{marginTop:6,paddingX:6,children:(0,a.jsx)(r.F_,{dismissButton:{accessibilityLabel:c._('Dismiss banner', 'analyticsCalloutBanner.dismissAccessibilityLabel', 'accessibility label to dismiss banner with metric updates on analytics'),onDismiss:function(){p(),s({event_type:101,component:14071,element:11925,aux_data:{placed_experience_id:f}})}},iconAccessibilityLabel:m[y],message:(0,a.jsxs)(r.KJ,{children:[u.message,u.link?(0,a.jsx)(r.N_,{display:"inline",href:u.link.href,target:"blank",children:u.link.text}):null]},"message"),primaryAction:null!=(t=u.primaryAction)&&t.label?{label:u.primaryAction.label,accessibilityLabel:u.primaryAction.accessibilityLabel,href:u.primaryAction.href,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),d(),s({event_type:101,component:14071,element:13004,aux_data:{placed_experience_id:f}})},target:"blank",role:"link"}:void 0,secondaryAction:null!=(n=u.secondaryAction)&&n.label?{label:u.secondaryAction.label,accessibilityLabel:u.secondaryAction.accessibilityLabel,href:u.secondaryAction.href,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),p(),s({event_type:101,component:14071,element:13005,aux_data:{placed_experience_id:f}})},target:"blank",role:"link"}:void 0,title:u.title,type:y})})}var s=n(713466),u=["error-callout","info-callout","warning-callout"];function f(e){var t=e.placementId;return(0,a.jsx)(s.Ay,{placementId:t,predicate:function(e){var t,n;return(null==(t=e.display_data)?void 0:t.type)&&u.includes(e.display_data.type)&&(null==(n=e.display_data)?void 0:n.message)},children:function(e){var t=e.complete,n=e.dismiss,r=e.experience,o=r.display_data,i=r.experience_id;return(0,a.jsx)(c,{displayData:o,experienceId:i,onComplete:t,onDismiss:n})}})}function d(e){var t,n,l,c=(0,i.A)(),s=(0,o.o)().logContextEvent,u=e.displayData,f=e.experienceId,d=e.onComplete,p=e.onDismiss,m=e.marginBottom;return(0,a.jsx)(r.az,{marginBottom:m,marginTop:6,paddingX:6,children:(0,a.jsx)(r.Sl,{dismissButton:{accessibilityLabel:c._('Dismiss banner', 'analyticsCalloutBanner.dismissAccessibilityLabel', 'accessibility label to dismiss banner with metric updates on analytics'),onDismiss:function(){p(),s({event_type:101,component:14075,element:11925,aux_data:{placed_experience_id:f}})}},message:u.message,primaryAction:null!=(t=u.primaryAction)&&t.label?{label:u.primaryAction.label,accessibilityLabel:u.primaryAction.accessibilityLabel,href:u.primaryAction.href,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),d(),s({event_type:101,component:14075,element:13004,aux_data:{placed_experience_id:f}})},target:"blank",role:"link"}:void 0,secondaryAction:null!=(n=u.secondaryAction)&&n.label?{label:u.secondaryAction.label,accessibilityLabel:u.secondaryAction.accessibilityLabel,href:u.secondaryAction.href,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),p(),s({event_type:101,component:14075,element:13005,aux_data:{placed_experience_id:f}})},target:"blank",role:"link"}:void 0,title:null!=(l=u.title)?l:""})})}function p(e){var t=e.placementId,n=e.marginBottom;return(0,a.jsx)(s.Ay,{placementId:t,predicate:function(e){var t,n;return(null==(t=e.display_data)?void 0:t.type)==="upsell"&&(null==(n=e.display_data)?void 0:n.message)},children:function(e){var t=e.complete,r=e.dismiss,o=e.experience,i=o.display_data,l=o.experience_id;return(0,a.jsx)(d,{displayData:i,experienceId:l,marginBottom:n,onComplete:t,onDismiss:r})}})}var m=n(157203),y=n(954408),b=n(991224);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var v=function(e){var t=e.children,n=e.wrapper;return n?n(t):(0,a.jsx)(m.Fragment,{children:t})};function g(e){var t,n=(0,i.A)(),o=e.displayData,l=o.backgroundColorNarrow,c=o.backgroundColorWide,s=o.backgroundImageNarrow,u=o.backgroundImageWide,f=o.canClose,d=o.completeButtonText,p=o.coverImage,g=o.dismissButtonText,x=o.iconImage,_=o.layoutNarrow,j=o.layoutWide,w=o.links,O=o.linkTitles,S=void 0===O?[]:O,A=o.message,P=o.onCompleteRedirectUrl,E=o.onDismissRedirectUrl,C=o.textColorNarrow,k=o.textColorWide,T=o.titleText,I=o.external,D=e.onComplete,z=e.onDismiss,B=!(0,b.qJ)(),M=B?_:j,R=!B&&3!==M,L=B&&4===M,N=B?l:c,F=B?C:k,U=(B?s:u)||{},W=U.altText,H=U.uri,K=p||{},V=K.altText,J=K.uri,$=x||{},G=$.altText,Y=$.uri,q=B&&2===M||!B&&2===M||L,X=B&&!L?"96px":"48px",Q=B&&3===M,Z=d&&!P&&(0,a.jsx)(r.$n,{color:"tertiary",onClick:function(e){var t=e.event;null==D||D(t)},text:d}),ee=(0,y.A)({url:P}),et=d&&P&&(0,a.jsx)(r.vx,{color:L?"primary":"tertiary",fullWidth:L,href:P,onClick:function(e){var t=e.event;null==D||D(t)},rel:ee?"nofollow":"none",size:L?"md":"lg",target:I?"blank":void 0,text:d},"naglink"),en=(0,y.A)({url:E}),er=g&&E&&(0,a.jsx)(r.vx,{color:"tertiary",href:E,onClick:function(e){var t=e.event;null==z||z(t)},rel:en?"nofollow":"none",size:"lg",target:I?"blank":void 0,text:g},"naglink"),eo=g&&!E&&(0,a.jsx)(r.$n,{color:"tertiary",onClick:function(e){var t=e.event;null==z||z(t)},size:"lg",text:g}),ei=f&&(0,a.jsx)(r.K0,{accessibilityLabel:n._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"secondary",icon:"close",iconColor:"subtle",onClick:function(e){var t=e.event;null==z||z(t)},size:"md"}),ea=(void 0===w?[]:w).reduce(function(e,t,n){var r=t.startsWith("https://")||t.startsWith("http://")?'rel="noreferrer noopener" target="_blank"':"",o='<a href="'.concat(t,'" ').concat(r,">").concat(S[n],"</a>");return e.replace("{".concat(n,"}"),o)},A),el=L?3:4,ec=L?0:-1,es=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return h(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eu=es[0],ef=es[1];return(0,m.useEffect)(function(){if(Y&&L){var e=new Image;e.src=Y,e.onload=function(){ef(e.height/e.width)}}},[Y,L]),(0,a.jsx)(r.az,{direction:R?"row":"column",display:"flex",marginBottom:5,marginEnd:2,marginStart:2,marginTop:L?6:2,children:(0,a.jsx)("div",{className:"banner-content",style:{borderRadius:"16px",boxShadow:L?"0px 0px 8px rgba(0, 0, 0, 0.1)":"none",margin:"0 auto"},children:(0,a.jsxs)(r.n1,{rounding:400,width:"100%",children:[Q&&J&&(0,a.jsx)(r.so,{alignItems:"start",height:128,justifyContent:"center",width:"100%",children:(0,a.jsx)(r._V,{alt:V||"cover image",fit:"cover",naturalHeight:1,naturalWidth:3,src:J})}),(0,a.jsxs)(r.az,{alignItems:"center","aria-label":W,dangerouslySetInlineStyle:{__style:{backgroundColor:N,backgroundImage:!H||q||Q?void 0:"url(".concat(H,")"),backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},direction:R?"row":"column",display:"flex",justifyContent:"between",marginTop:Q?-2:0,padding:L?3:6,children:[(0,a.jsxs)(r.so,{alignItems:"center",direction:R||L?"row":"column",gap:{row:2*!!L,column:2*!!L},justifyContent:"between",maxWidth:R?void 0:"560px",children:[q&&Y&&(0,a.jsx)(r.az,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginBottom:6*!R,marginEnd:4*!!R,children:(0,a.jsx)(r.az,{height:L?"unset":X,width:X,children:(0,a.jsx)(r.n1,{rounding:L?0:R?400:600,children:(0,a.jsx)(r._V,{alt:G||"icon",naturalHeight:eu,naturalWidth:1,src:Y})})})}),(0,a.jsxs)(v,{wrapper:L?function(e){return(0,a.jsx)(r.so,{alignItems:L?"start":"center",direction:R?"row":"column",justifyContent:"between",children:e})}:void 0,children:[!R&&T&&(0,a.jsx)(r.KJ,{align:L?"start":"center",weight:"bold",children:(0,a.jsx)("div",{className:"banner-title",style:{color:F,fontSize:L?"20px":"28px",marginBottom:R?0:"8px"},children:T})}),ea&&(0,a.jsxs)(r.KJ,{align:R||L?"start":"center",overflow:"normal",children:[(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                        .banner-text a {\n                          color: ".concat(F||"",";\n                          font-weight: bold;\n                        }")}}),(0,a.jsx)("div",{className:"banner-text",dangerouslySetInnerHTML:{__html:ea},style:{color:F}})]})]})]}),(0,a.jsx)(r.az,{marginBottom:R?0:ec,marginStart:4*!!R,marginTop:R?0:el,width:L?"100%":void 0,children:(0,a.jsxs)(v,{wrapper:L?void 0:function(e){return(0,a.jsx)(r.so,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",wrap:!R,children:e})},children:[eo||er,Z||et,ei]})})]})]})})})}var x=n(359580),_=n(250913),j=function(e){var t=e.placementId;return(0,a.jsx)(s.Ay,{placementId:t,predicate:function(e){var t;return(null==(t=e.display_data)?void 0:t.component_type)===1},children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,o=(0,x.A)(_.A)(r);return(0,a.jsx)(g,{displayData:o,onComplete:function(){return t()},onDismiss:n})}})},w=[502312,502320,502321,502322],O=function(e){var t=e.placementId;return(0,a.jsx)(s.Ay,{eligibleIds:w,placementId:t,preventRemoval:!0,children:function(e){return(0,e.complete)(),null}})},S=n(972078),A=n(860710);function P(e){var t=e.dismissButton,n=e.message,o=e.primaryAction,l=e.secondaryAction,c=e.title,s=(0,b.qJ)(),u=o||l,f=(0,i.A)(),d=(0,S.NM)().setObserverRef,p=t&&(0,a.jsx)(r.az,{alignSelf:"baseline",children:(0,a.jsx)(r.K0,{accessibilityLabel:t.accessibilityLabel||f._('Dismiss callout', 'experiences.ExperienceCallout.CalloutNeutral.dismissLabel', 'Accessibility label for the X button to dismiss a callout'),icon:"close",iconColor:"default",onClick:t.onDismiss,size:"xs"})});return(0,a.jsxs)(r.az,{ref:d,borderColor:"decorative",borderWidth:"sm",color:"transparent",direction:"row",display:"flex",marginBottom:4,padding:4,rounding:400,children:[(0,a.jsxs)(r.so,{direction:s?"row":"column",width:"100%",wrap:!s,children:[(0,a.jsxs)(r.so,{flex:"grow",justifyContent:"between",minWidth:0,children:[(0,a.jsxs)(r.so,{direction:"column",flex:"shrink",children:[c&&(0,a.jsx)(r.az,{marginBottom:2,children:(0,a.jsx)(r.KJ,{size:"400",weight:"bold",children:c})}),(0,a.jsx)(r.KJ,{children:n})]}),!s&&p]}),u&&(0,a.jsxs)(r.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",marginTop:2*!s,children:[l&&(0,a.jsx)(A.A,{buttonType:"secondary",data:l,experienceType:27}),o&&(0,a.jsx)(A.A,{buttonType:"primary",data:o,experienceType:27})]})]}),s&&p]})}var E=n(690870);function C(e){var t,n,o,l=e.dismissButton,c=e.imageData,s=e.message,u=e.primaryAction,f=e.secondaryAction,d=e.title,p=(null==c?void 0:c.component)&&c.component.type===r._V,m=(0,E.D2)().isDarkMode,y=(0,b.qJ)(),h=(0,i.A)(),v=(0,S.NM)().setObserverRef,g=!!(u||f);"string"==typeof s&&(o=(0,a.jsx)(r.KJ,{children:s}));var x=h._('Dismiss callout', 'experiences.ExperienceCallout.UpsellCallout.dismissLabel', 'Accessibility label for the X button to dismiss an upsell callout'),_=l&&(0,a.jsx)(r.az,{alignSelf:y?"center":"baseline",children:(0,a.jsx)(r.K0,{accessibilityLabel:l.accessibilityLabel||x,icon:"close",iconColor:"default",onClick:l.onDismiss,size:"xs"})});return(0,a.jsxs)(r.az,{ref:v,color:m&&!y?void 0:"default",dangerouslySetInlineStyle:m&&!y?{__style:{backgroundColor:"var(--base-color-transparent)"}}:void 0,direction:"row",display:"flex",elevation:"shadowFloating",maxWidth:y?900:348,minWidth:y?380:348,padding:4,position:"relative",rounding:400,children:[(0,a.jsxs)(r.so,{direction:y?"row":"column",width:"100%",wrap:!y,children:[(0,a.jsxs)(r.so,{alignItems:y?"center":"start",flex:"grow",justifyContent:"between",minWidth:0,children:[c&&(0,a.jsx)(r.az,{flex:"none",marginEnd:4,width:p?Math.min(c.width||128,128):void 0,children:(0,a.jsx)(r.n1,{rounding:(null==(t=c.mask)?void 0:t.rounding)||0,wash:(null==(n=c.mask)?void 0:n.wash)||!1,children:c.component})}),(0,a.jsx)(r.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:"auto",marginEnd:0,marginStart:0,marginTop:"auto",smDisplay:"block",smMarginEnd:6,smMarginStart:6*!!c,children:(0,a.jsxs)(r.az,{maxWidth:648,children:[d&&(0,a.jsx)(r.az,{marginBottom:2,children:(0,a.jsx)(r.KJ,{size:"400",weight:"bold",children:d})}),o||s]})}),!y&&_]}),g&&(0,a.jsxs)(r.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"end",marginTop:2*!y,children:[f&&(0,a.jsx)(A.A,{buttonType:"secondary",data:f,experienceType:28}),u&&(0,a.jsx)(A.A,{buttonType:"primary",data:u,experienceType:28})]})]}),y&&_]})}var k=n(528994),T=n(281755),I=n(998889),D=n(451356),z=n(368114),B=n(598269),M=n(695231),R=new r.rk(B.d1),L=new r.K5([R]),N=function(e,t){var n=(0,D.W)(e),o=(0,I.A)(t);return n?(0,a.jsx)(r.In,{accessibilityLabel:"",color:o,icon:n,size:32}):null},F=function(e){var t=e.experience,n=e.placementId,o=e.customFooterHeight,l=(0,b.qJ)(),c=(0,i.A)(),u=(0,k.A)(n),f=u.enableExperienceSession,d=u.endOnSurfaceChange,p=(0,M.o)().navFooterHeight;return(0,a.jsx)(s.Ay,{eligibleTypes:[27,28],enableExperienceSession:f,experience:t,placementId:n,sessionEndOnSurfaceChange:d,children:function(e){var t=e.complete,n=e.dismiss,i=e.experience,s=(0,x.A)(_.A)(i.display_data),u=c._('Dismiss callout', 'experiences.ExperienceCallout.dismissLabel', 'Accessibility label for the X button to dismiss an callout'),f=s.completeButton?(0,T.q)(s.completeButton,function(){return t()},u):void 0,d=s.dismissButton&&!s.dismissButton.hideDismissButton?(0,T.q)(s.dismissButton,function(){return n()},u):void 0;switch(i.type){case 27:return(0,a.jsx)(r.az,{paddingX:4*!!l,children:(0,a.jsx)(P,{dismissButton:{onDismiss:function(){return n()},accessibilityLabel:u},message:(0,z.dz)(s.message),primaryAction:f,secondaryAction:d,title:s.title})});case 28:var y=N(s.icon,s.iconColor);return(0,a.jsx)(r.Wd,{zIndex:L,children:(0,a.jsx)(r.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:l?24:(null!=o?o:p)+8,transition:"margin-bottom ".concat(300,"ms ease-in-out")}},display:"flex",justifyContent:"center",left:!0,position:"fixed",right:!0,children:(0,a.jsx)(r.az,{children:(0,a.jsx)(C,{dismissButton:{onDismiss:function(){return n()},accessibilityLabel:u},imageData:y?{component:y}:void 0,message:(0,z.dz)(s.message),primaryAction:f,secondaryAction:d,title:s.title})})})});default:return(0,a.jsx)(m.Fragment,{})}}})},U=n(810832),W=n(452248);function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=J(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e){var t=function(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==H(t)?t:t+""}function $(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return($=function(){return!!e})()}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){var t;function n(){var e,t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return e=n,t=arguments,e=G(e),function(e,t){if(t&&("object"==H(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,$()?Reflect.construct(e,t||[],G(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&Y(n,e),t=[{key:"componentDidMount",value:function(){var e=this.props.experience;if(e&&500500===e.experience_id){var t=e.experience_id,n=e.placement_id;this.props.experienceClient.viewExperience(n,t)}}},{key:"componentDidUpdate",value:function(e){var t=e.experience,n=this.props.experience;if(n&&!t){var r=n.experience_id,o=n.placement_id;this.props.experienceClient.viewExperience(o,r)}}},{key:"render",value:function(){return this.props.children}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,J(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.PureComponent);function X(e){var t=(0,U.A)(),n=(0,W.A)(1000075).experience;return(0,a.jsx)(q,V(V({},e),{},{experience:n,experienceClient:t}))}var Q=n(563817),Z=n(106386),ee=n(667533),et=new r.rk(B.d1),en=new r.K5([et]),er=new r.K5([en]),eo={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:6},ei={width:540,height:363},ea={modalMargin:24,gestaltModalMargin:6,closeButtonMargin:4},el={width:320,height:215},ec=(0,ee.A)(function(){return Promise.all([n.e("91796"),n.e("44175"),n.e("29640"),n.e("57120")]).then(n.bind(n,516006))},void 0,function(e){return 516006},"app-www-video-VideoWrapper",function(e){return ["91796","44175","29640","57120"]}),es=function(e){var t,n,o=e.isMobile,l=e.image,c=e.video,s=e.handleDismiss,u=e.title,f=(0,i.A)(),d=o?ea:eo,p=o?el:ei,m=(0,a.jsx)(r.az,{display:"flex",justifyContent:o?"start":"end",margin:d.closeButtonMargin,position:"absolute",width:p.width-2*d.modalMargin,zIndex:er,children:(0,a.jsx)(r.K0,{accessibilityLabel:f._('Dismiss', 'experiences.ExperienceModalWindow.modalDismissIconButton', 'Accessibility lable for the X icon button to dismiss the modal window'),bgColor:"secondary",icon:"close",iconColor:"default",onClick:s,size:"sm"})}),y=l?l.imageAlt:u,b=l?l.url:null==c||null==(t=c.metadata)?void 0:t.thumbnail,h=(null==l||null==(n=l.dominantColor)?void 0:n.length)===3?"rgb(".concat(l.dominantColor[0],", ").concat(l.dominantColor[1],", ").concat(l.dominantColor[2],")"):"rgb(111, 91, 77)",v=p.width/p.height,g={width:p.width,height:p.height};l&&l.width&&l.height?(v=l.width/l.height,g={width:l.width,height:l.height}):c&&c.metadata.width&&c.metadata.height&&(v=c.metadata.width/c.metadata.height,g={width:c.metadata.width,height:c.metadata.height});var x=b?(0,a.jsx)(r._V,{alt:y||"",color:h,fit:"cover",naturalHeight:g.height,naturalWidth:g.width,src:b}):void 0,_=Math.trunc(p.width/v);return(0,a.jsxs)(r.az,{bottom:!0,height:_,left:!0,overflow:"hidden",right:!0,top:!0,width:p.width,children:[m,l&&x,c&&(0,a.jsx)(ec,{aspectRatio:v,backgroundColor:"transparent",captions:"",controls:!1,fallback:x,isAutoPlay:!0,loop:!0,objectFit:"cover",onPlay:function(){},onPlayError:function(){},pinKey:null,playbackRate:1,playing:!0,playsInline:!0,poster:(null==l?void 0:l.url)||c.metadata.thumbnail,preload:"auto",src:c.url,volume:0})]})};function eu(e){var t=e.displayData,n=e.handleComplete,o=e.handleDismiss,i=e.isMobile,l=t.video,c=t.image,s=t.title,u=t.body,f=t.completeButton,d=t.dismissButton,p=i?ea:eo,b=i?"center":"start",h=(0,y.A)({url:f.url}),v=(0,S.NM)().setObserverRef;return(0,a.jsxs)(m.Fragment,{children:[(0,a.jsx)(es,{handleDismiss:o,image:c,isMobile:i,title:s,video:l}),(0,a.jsxs)(r.az,{ref:v,direction:"column",display:"flex",justifyContent:"center",margin:p.gestaltModalMargin,children:[(0,a.jsx)(r._Y,{align:b,children:s}),(0,a.jsx)(r.az,{marginBottom:4,marginTop:2,children:(0,a.jsx)(r.KJ,{align:b,children:(0,z.dz)(u)})}),(0,a.jsxs)(r.az,{dangerouslySetInlineStyle:{__style:{flexWrap:"wrap-reverse"}},display:"flex",justifyContent:i?"center":"end",margin:-1,children:[d&&!d.hideDismissButton&&(0,a.jsx)(r.az,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:(0,a.jsx)(r.$n,{color:"secondary",fullWidth:i,onClick:o,size:"lg",text:d.text})}),f&&(0,a.jsx)(r.az,{fit:!0,flex:i?"grow":"none",minWidth:i?130:void 0,padding:1,children:f.url?(0,a.jsx)(r.vx,{color:"primary",fullWidth:i,href:f.url,onClick:n,rel:h?"nofollow":"none",size:"lg",text:f.text}):(0,a.jsx)(r.$n,{color:"primary",fullWidth:i,onClick:n,size:"lg",text:f.text})})]})]})]})}var ef=n(44813),ed=n(351632),ep=n(476766),em=n(998619),ey=n(948828),eb=n(464301),eh=function(){if(document.body){var e=document.body.style;e.overflow="hidden",e.touchAction="none"}},ev=function(){if(document.body){var e=document.body.style;e.overflow="visible",e.touchAction="auto"}};function eg(e){var t=e.accessibilityModalLabel,n=e.allowScroll,o=void 0!==n&&n,l=e.children,c=e.closeOnOutsideClick,s=void 0===c||c,u=e.footer,f=e.isOpen,d=e.modalWidth,p=e.onDismiss,y=e.zIndex,b=(0,i.A)(),h=(0,m.useRef)(null),v=(0,eb.Y)().setAppFocusState;return((0,m.useEffect)(function(){return h.current=(0,ed.A)(function(){}),function(){"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&h.current&&(window.cancelAnimationFrame(h.current),h.current=null)}},[]),(0,m.useEffect)(function(){return f?(em.A.pause(),v(!1)):(em.A.resume(),v(!0)),function(){f&&(em.A.resume(),v(!0))}},[v,f]),(0,m.useEffect)(function(){var e=f&&!o;return e&&eh(),function(){e&&ev()}},[f,o]),f)?(0,a.jsx)(ey.A,{children:(0,a.jsx)(r.Wd,{children:(0,a.jsxs)(r.az,{"aria-label":t,position:"relative",role:"dialog",zIndex:y||ep.nH,children:[(0,a.jsx)(r.Rp,{accessibilityLabel:b._('Mobile Popup Modal Mask', 'mweb.experience_popup_modal.mask', 'The acessibility label for the mask of popup modal'),onTap:function(){s&&p()},tapStyle:"none",children:(0,a.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:new r.rk(1)})}),(0,a.jsxs)(r.az,{color:"default",dangerouslySetInlineStyle:{__style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out"}},overflow:"hidden",position:"fixed",rounding:400,top:!0,width:d,zIndex:new r.rk(1),children:[l,u]})]})})}):null}function ex(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e_=new r.rk(B.d1),ej=new r.K5([e_]);function ew(e){var t,n,i=(0,Z.d4)(function(t){var n=t.experiences;return e.experience||(e.placementId?n[e.placementId]:void 0)}),l=null==i||null==(n=i.display_data)?void 0:n.delay_in_millis,c=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(i&&!l))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return ex(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ex(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),u=c[0],f=c[1],d=(0,o.o)().logContextEvent,p=(0,b.qJ)(),y=(0,k.A)(e.placementId),h=y.enableExperienceSession,v=y.endOnSurfaceChange,g=(0,m.useCallback)(function(e,t){var n,r=new URL(e.display_data.complete_button.url),o=r.searchParams.get("repin_id"),i=r.pathname.split("/").pop(),a=(null==(n=e.metadata)?void 0:n[e.experience_id])||{},l=a.pin_count;d({event_type:t,aux_data:{cluster_selected_name:a.cluster_title,component_id:i,navigation_source:3,pin_count:l,repin_id:o}})},[d]);return(0,m.useEffect)(function(){var e,t=i&&!(null!=(e=i.display_data)&&e.delay_in_millis);f(t),t&&(null==i?void 0:i.experience_id)===507669&&g(i,16498)},[i,g]),(0,m.useEffect)(function(){var e;return l&&(e=setTimeout(function(){f(!0)},l)),function(){return clearTimeout(e)}},[l]),(0,a.jsx)(m.Fragment,{children:u&&(0,a.jsx)(s.Ay,{eligibleSchemas:[1],eligibleTypes:[26],enableExperienceSession:h,experience:i,placementId:e.placementId,sessionEndOnSurfaceChange:v,children:function(e){var t=e.complete,n=e.dismiss,o=e.experience.display_data,l=(0,x.A)(_.A)(o),c=(null==i?void 0:i.experience_id)===507054,s=(null==i?void 0:i.experience_id)===507669,u=function(){s&&g(i,16499),f(!1),n()},d=function(e){var n=e.dangerouslyDisableOnNavigation;c&&n(),t(),f(!1)},m=l.title,y=l.body,b=l.completeButton;return m&&y&&b.text?p?(0,a.jsx)(r.Wd,{zIndex:ej,children:(0,a.jsx)(ef.Ay,{accessibilityModalLabel:"",onDismiss:u,size:"sm",children:(0,a.jsx)(eu,{displayData:l,handleComplete:d,handleDismiss:u,isMobile:!1})})}):(0,a.jsx)(eg,{accessibilityModalLabel:null==l?void 0:l.title,isOpen:!0,modalWidth:320,onDismiss:u,children:(0,a.jsx)(eu,{displayData:l,handleComplete:d,handleDismiss:u,isMobile:!0})}):null}})})}function eO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eS=function(e){var t,n=(0,i.A)(),o=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!0))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return eO(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eO(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=o[0],c=o[1],u=e.placementId;return(0,a.jsx)(s.Ay,{eligibleIds:[502527],placementId:u,children:function(e){var t=e.experience,o=t.display_data,i=t.type;return(0,a.jsx)(m.Fragment,{children:l&&5===i&&!!o.buttons&&o.buttons.length>=2&&!!o.title_text&&!!o.subtitle_text&&(0,a.jsx)(r.az,{marginBottom:6,marginTop:6,children:(0,a.jsx)(r.F_,{dismissButton:{accessibilityLabel:o.buttons[1].text,onDismiss:function(){c(!1)}},iconAccessibilityLabel:n._('Info icon', 'experiences.experienceMetricsUnificationBanner.iconAccessibilityLabel', 'Accessibility label for info icon'),message:o.subtitle_text,primaryAction:{href:o.buttons[0].uri,label:o.buttons[0].text,accessibilityLabel:o.buttons[0].text,onClick:function(e){return(0,e.dangerouslyDisableOnNavigation)()},role:"link"},title:o.title_text,type:"info"})})})}})},eA=n(999345),eP=n(524802);function eE(e){return(eE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ek(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eE(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eI=B.d1,eD=new r.rk(eI-1);function ez(e){var t=e.button,n=e.onClick;return t.url?(0,a.jsx)(r.vx,{color:"tertiary",fullWidth:!0,href:t.url,onClick:n,rel:(0,y.A)({url:t.url})?"nofollow":"none",text:t.text}):(0,a.jsx)(r.$n,{color:"tertiary",fullWidth:!0,onClick:n,text:t.text})}var eB=function(e){var t,n=e.anchors,o=e.experience,i=e.dismiss,l=e.complete,c=e.scrollToDismiss,s=e.onAnchorHover,u=e.onAnchorTouch,f=e.idealDirection,d=e.zIndex,p=!0,y=(o||{}).display_data,b=y.message,h=y.anchor,v=y.complete_button,g=n[h],x=function(){t&&clearTimeout(t),i()},_=function(){t||p||(t=setTimeout(function(){return x()},1500)),p=!1};(0,m.useEffect)(function(){return g&&(c&&(window.addEventListener("scroll",_),window.addEventListener("touchmove",_)),u&&g&&g.addEventListener("click","complete"===u?l:x),s&&g&&g.addEventListener("mouseenter","complete"===s?l:x)),function(){c&&(window.removeEventListener("scroll",_),window.removeEventListener("touchmove",_),t&&clearTimeout(t)),u&&g&&g.removeEventListener("click","complete"===u?l:x),s&&g&&g.removeEventListener("mouseenter","complete"===s?l:x)}},[g]);var j=(0,eP.A)().setObserverRef,w=(0,a.jsx)(r.fT,{anchor:g,idealDirection:f,onDismiss:x,zIndex:eD,children:(0,a.jsx)(r.az,{ref:j,padding:4,tabIndex:0,children:(0,a.jsxs)(r.so,{direction:"column",gap:3,children:[(0,a.jsx)(r.KJ,{color:"light",children:b}),v&&(0,a.jsx)(ez,{button:v,onClick:l})]})})});return d?(0,a.jsx)(r.az,{position:"fixed",zIndex:d,children:w}):w},eM=function(e){var t,n=e.placementId,r=e.anchors,o=e.advertiserId,i=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!0))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return eT(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eT(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),l=i[0],c=i[1],u=function(){return c(!1)},f=(0,S.wQ)(n),d=f.enableExperienceSession,p=f.endOnSurfaceChange;return(0,a.jsx)(eA.A,{name:"ExperiencePopoverEducational",children:l&&(0,a.jsx)(s.Ay,{enableExperienceSession:d,placementId:n,predicate:function(e){if((null==e?void 0:e.type)!==29)return!1;var t=(e||{}).display_data.anchor;return!!t&&!!r[t]},sessionEndOnSurfaceChange:p,targeting:o?{advertiserId:parseInt(o,10)}:null,children:function(t){var n=t.complete,r=t.dismiss,o=t.experience;return(0,a.jsx)(eB,ek(ek({},e),{},{complete:function(){u(),n()},dismiss:function(){u(),r()},experience:o}))}})})},eR=n(843502);function eL(e){return(eL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eN(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=eL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eL(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eL(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eU(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return eW(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eW(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eW(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var eH=function(e,t){var n=RegExp("\\b"+t+"\\b","i");return e===t||e.match(n)};function eK(e){var t=e.children,n=e.experiences,r=e.placementId,o=e.searchTerm,i=e.suggestions,a=(0,eR.WJ)().viewExperience,l=eU((0,m.useState)(null),2),c=l[0],s=l[1],u=eU((0,m.useState)(new Set),2),f=u[0],d=u[1],p=(null==n?void 0:n.filter(function(e){var t;return(null==(t=e.display_data)?void 0:t.component_type)===3}).map(function(e){return eF(eF({},e.display_data),{},{id:e.experience_id})}))||[];return(0,m.useEffect)(function(){if(!o||!i)return void s(null);if(!(null==c?void 0:c.search_query_list.find(function(e){return i.some(function(t){var n=t.label;return eH(null!=n?n:"",e)})}))){var e=p.find(function(e){var t;return e.id!==(null==c?void 0:c.id)&&(null==(t=e.search_query_list)?void 0:t.find(function(e){return i.some(function(t){var n=t.label;return eH(null!=n?n:"",e)})}))});if(e){s(e);var t=e.id;f.has(t)||("number"==typeof t&&a(r,t),d(new Set(f).add(t)))}}},[o]),t({searchDelightConfig:c})}var eV=function(e,t){var n=RegExp("\\b"+t+"\\b","i");if(!e.match(n))return null;var r=e.toLowerCase().indexOf(t.toLowerCase());return[e.slice(0,r),e.slice(r,r+t.length)]};function eJ(e,t){return t.map(function(t){return eV(e,t)}).filter(Boolean).sort(function(e,t){return e&&t?t[1].length-e[1].length:0}).shift()}function e$(e){return(e$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eG(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eY(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eG(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=e$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e$(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eG(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eq(e){var t=e.searchDelightText,n=e.searchDelightConfig,r=n.text_background_color,o=n.text_colors,i=void 0===o?[]:o,l=r?{backgroundColor:r,margin:"-2px",padding:"2px"}:void 0;if(!(i.length>1))return(0,a.jsx)("span",{style:eY({color:i[0],whiteSpace:"pre-wrap"},l),children:t},"searchDelight-".concat(t));var c=0;return(0,a.jsx)("span",{style:eY({whiteSpace:"pre-wrap"},l),children:t.split("").map(function(e,t){var n=i[c];return" "!==e&&(c=(c+1)%i.length),(0,a.jsx)("span",{style:{color:n},children:e},"searchDelight-".concat(t))})})}function eX(e){var t=e.allBold,n=e.searchDelightParts,o=e.searchDelightConfig,i=e.text,l=e.weightPivot,c=n[1],s=i.indexOf(c),u=s+c.length;return l<=s?(0,a.jsxs)(m.Fragment,{children:[(0,a.jsx)(r.KJ,{color:"subtle",inline:!0,weight:t?"bold":"normal",children:i.substring(0,l)}),(0,a.jsxs)(r.KJ,{inline:!0,weight:"bold",children:[i.substring(l,s),(0,a.jsx)(eq,{searchDelightConfig:o,searchDelightText:c}),i.substring(u)]})]}):l<=u?(0,a.jsxs)(m.Fragment,{children:[(0,a.jsx)(r.KJ,{color:"subtle",inline:!0,weight:t?"bold":"normal",children:i.substring(0,s)}),(0,a.jsxs)(r.KJ,{inline:!0,weight:"bold",children:[(0,a.jsx)(eq,{searchDelightConfig:o,searchDelightText:c}),i.substring(u)]})]}):(0,a.jsxs)(m.Fragment,{children:[(0,a.jsx)(r.KJ,{color:"subtle",inline:!0,weight:t?"bold":"normal",children:i.substring(0,s)}),(0,a.jsx)(r.KJ,{inline:!0,weight:"bold",children:(0,a.jsx)(eq,{searchDelightConfig:o,searchDelightText:c})}),(0,a.jsx)(r.KJ,{color:"subtle",inline:!0,weight:t?"bold":"normal",children:i.substring(u,l)}),(0,a.jsx)(r.KJ,{inline:!0,weight:"bold",children:i.substring(l)})]})}function eQ(e){return(eQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eZ(Object(n),!0).forEach(function(t){e6(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e1(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e1=function(){return!!e})()}function e2(e){return(e2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e5(e,t){return(e5=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e6(e,t,n){return(t=e8(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function e8(e){var t=function(e,t){if("object"!=eQ(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eQ(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eQ(t)?t:t+""}var e4=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=e2(t),e6(e=function(e,t){if(t&&("object"==eQ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,e1()?Reflect.construct(t,r||[],e2(this).constructor):t.apply(this,r)),"state",{surveyLoaded:!1}),e6(e,"loadSurvey",function(){var t,n;e.setState({surveyLoaded:!0}),null==(t=(n=e.props).view)||t.call(n)}),e6(e,"handleDismiss",function(){e.props.dismiss(),e.setState({surveyLoaded:!1})}),e6(e,"handleComplete",function(){e.props.complete(),e.setState({surveyLoaded:!1})}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&e5(n,e),t=[{key:"componentDidMount",value:function(){var e=this.props.displayData.delay;this.surveyTimer=window.setTimeout(this.loadSurvey,e)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.surveyTimer)}},{key:"render",value:function(){var e=this;if(!this.state.surveyLoaded)return null;var t=this.props,n=t.displayData,o=n.buttons,i=n.detailed_text,l=n.title_text,c=t.setObserverRef;return(0,a.jsx)(ef.Ay,{accessibilityModalLabel:this.props.i18n._('Would you mind taking a survey?', 'User eval survey', 'User eval survey'),footer:(0,a.jsx)(r.so,{alignItems:"stretch",justifyContent:"end",children:o.map(function(t){if(!t.uri)return(0,a.jsx)(r.az,{marginStart:1,children:(0,a.jsx)(r.$n,{fullWidth:!0,onClick:e.handleDismiss,text:t.text})},t.text);var n=t.uri,o=(0,y.A)({url:n});return(0,a.jsx)(r.az,{marginStart:1,children:(0,a.jsx)(r.vx,{color:"primary",fullWidth:!0,href:n,onClick:e.handleComplete,rel:o?"nofollow":"none",target:"blank",text:t.text})},t.text)})}),heading:l,onDismiss:this.handleDismiss,size:"sm",children:(0,a.jsx)(r.az,{ref:c,padding:3,children:(0,a.jsx)(r.KJ,{children:i})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,e8(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.Component);function e3(e){var t=(0,i.A)();return(0,a.jsx)(e4,e0(e0({},e),{},{i18n:t}))}var e7=n(620162);function e9(e){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach(function(t){ta(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tr(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tr=function(){return!!e})()}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ti(e,t){return(ti=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ta(e,t,n){return(t=tl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tl(e){var t=function(e,t){if("object"!=e9(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e9(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e9(t)?t:t+""}var tc=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=to(t),ta(e=function(e,t){if(t&&("object"==e9(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,tr()?Reflect.construct(t,r||[],to(this).constructor):t.apply(this,r)),"isOnClose",e.props.onCloseEnabled&&2===e.props.actionTrigger),ta(e,"state",{surveyAccepted:!1,surveyLoaded:!1,surveyLoadFailed:!1,showSurveyOnClose:e.isOnClose}),ta(e,"loadSurvey",function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=e.props.onView;t&&(null==n||n()),e.setState({surveyLoaded:!0})}),ta(e,"processIFrameMessage",function(t){var n=e.props,r=n.presentationDelay,o=n.onComplete,i=n.surveyLink,a=n.onCloseEnabled,l=t.origin||t.originalEvent.origin;i.startsWith(l)&&("surveyFinished"===t.data?o():"surveyLoaded"===t.data&&(window.clearTimeout(e.loadSurveyFailureTimeout),e.isOnClose&&e.showSurveyOnLeavingPage(),a?e.actionTriggerHandler():e.loadSurveyTimeout=window.setTimeout(e.loadSurvey,void 0===r?5e3:r)))}),ta(e,"handleShowSurvey",function(){e.setState({surveyAccepted:!0})}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ti(n,e),t=[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("message",this.processIFrameMessage),this.loadSurveyFailureTimeout=window.setTimeout(function(){e.state.surveyLoaded||(window.clearTimeout(e.loadSurveyTimeout),e.setState({surveyLoadFailed:!0}))},15e3)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.processIFrameMessage),window.clearTimeout(this.loadSurveyTimeout),window.clearTimeout(this.loadSurveyFailureTimeout),this.isOnClose&&this.props.unblock()}},{key:"actionTriggerHandler",value:function(){var e=this.props,t=e.actionTrigger,n=e.presentationDelay;switch(t){case 1:this.loadSurvey();break;case 2:this.loadSurvey(!1);break;default:this.loadSurveyTimeout=window.setTimeout(this.loadSurvey,void 0===n?5e3:n)}}},{key:"showSurveyOnLeavingPage",value:function(){var e=this,t=this.props,n=t.onView;(0,t.block)(function(){null==n||n(),e.setState({showSurveyOnClose:!1})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.surveyAccepted,o=t.surveyLoadFailed,i=t.surveyLoaded,l=t.showSurveyOnClose;if(o)return null;var c=this.props,s=c.acceptButtonText,u=c.bodyText,f=c.declineButtonText,d=c.onDismiss,p=c.subtitleText,m=c.surveyLink,y=c.titleText,b=c.setObserverRef,h=(0,a.jsx)("iframe",{"data-test-id":"anket-iframe",src:m,style:n?{border:0,minHeight:810,paddingBottom:4,width:"100%"}:{display:"none"},title:this.props.i18n._('Pinterest Survey', 'Accessible label for survey frame', 'Accessible label for survey frame')});return i&&!l?(0,a.jsx)(r.az,{position:"absolute",zIndex:new r.rk(1e3),children:(0,a.jsxs)(r.aF,{accessibilityModalLabel:this.props.i18n._('Have a few minutes to take a survey?', 'User evaluation survey', 'User evaluation survey'),footer:!n&&(0,a.jsxs)(r.az,{display:"flex",justifyContent:"end",paddingX:1,children:[(0,a.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,a.jsx)(r.$n,{fullWidth:!0,onClick:function(){e.setState({surveyAccepted:!1}),d()},text:f})}),(0,a.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{padding:"6px 8px"}},children:(0,a.jsx)(r.$n,{color:"primary",fullWidth:!0,onClick:this.handleShowSurvey,text:s})})]}),heading:n?"":y,onDismiss:d,padding:"none",role:"alertdialog",size:n?"lg":"md",children:[(0,a.jsx)(r.az,{ref:b,children:h}),!n&&(0,a.jsxs)(r.az,{padding:3,children:[(0,a.jsx)(r.KJ,{children:p}),(0,a.jsx)(r.KJ,{children:u})]})]})}):h}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tl(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.Component),ts=function(e){var t,n=(0,i.A)(),r=function(e){if(Array.isArray(e))return e}(t=(0,m.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return tn(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tn(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=r[0],l=r[1],c=(0,m.useRef)(null),s=(0,e7.KP)(o);return(0,m.useEffect)(function(){if("blocked"===s.state){var e;null==(e=c.current)||e.call(c)}},[s.state]),(0,a.jsx)(tc,tt(tt({},e),{},{block:function(e){c.current=e,l(!0)},i18n:n,onCloseEnabled:!1,unblock:function(){l(!1),c.current=null,"blocked"===s.state&&s.proceed()}}))};function tu(e){return(tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tf(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=tu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tu(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tu(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tf(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tp(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tm(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tm(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var ty=function(e){var t=e.complete,n=e.dismiss,r=e.view,o=e.displayData,i=(0,S.NM)().setObserverRef,l=o.anket,c=o.buttons,s=o.delay,u=o.detailed_text,f=o.subtitle_text,d=o.title_text,p=o.action_trigger,m=tp(c,2),y=m[0],b=m[1];return l?(0,a.jsx)(ts,{acceptButtonText:(null==b?void 0:b.text)||"",actionTrigger:void 0===p?3:p,bodyText:u,declineButtonText:(null==y?void 0:y.text)||"",onComplete:t,onDismiss:n,onView:r,presentationDelay:s,setObserverRef:i,subtitleText:f,surveyLink:(null==b?void 0:b.uri)||"",titleText:d}):(0,a.jsx)(e3,{complete:t,dismiss:n,displayData:o,setObserverRef:i,view:r})},tb=function(e){var t=e.experienceId,n=e.displayData,r=n.delay,o=void 0===r?0:r,i=td(td({},n),{},{delay:0}),l=td(td({},e),{},{displayData:td({},i)}),c=(0,m.useRef)(void 0),s=tp((0,m.useState)(!1),2),u=s[0],f=s[1];return(0,m.useEffect)(function(){var e=["/pin-builder","/idea-pin-builder"],t=function(e){return window.location.pathname.includes(e)},n=function(){e.some(t)?c.current=setTimeout(function(){return n()},3e3):f(!0)};return c.current=setTimeout(function(){return n()},o),function(){clearTimeout(c.current)}},[t,o]),u?(0,a.jsx)(ty,td({},l)):null};function th(e){var t=e.placementId,n=e.experience,r=e.targeting,o=e.eligibleIds,i=(0,S.wQ)(t),l=i.enableExperienceSession,c=i.endOnSurfaceChange;return(0,a.jsx)(s.Ay,{disableAutoView:!0,eligibleIds:o||[],eligibleTypes:[5],enableExperienceSession:l,experience:n,placementId:t,sessionEndOnSurfaceChange:c,targeting:r,children:function(e){var n=e.complete,r=e.dismiss,o=e.view,i=e.experience,l=i.display_data,c=i.experience_id;return 1000421===t?(0,a.jsx)(tb,{complete:n,dismiss:r,displayData:l,experienceId:c,view:o}):(0,a.jsx)(ty,{complete:n,dismiss:r,displayData:l,experienceId:c,view:o})}})}var tv=n(778443),tg=function(e){var t=(0,o.o)().logContextEvent;return(0,a.jsx)(s.Ay,{eligibleIds:e.eligibleIds,eligibleTypes:[10],placementId:e.placementId,children:function(n){var r=n.complete,o=n.dismiss,i=n.experience.display_data,l=i.link||e.linkUrl,c=function(){e.shouldLogClicks&&t({event_type:101,object_id_str:e.objectId,component:e.thriftComponentType,element:e.thriftElementType})};return(0,a.jsx)(tv.A,{duration:i.duration,href:l,onClick:function(){r(),e.onClick&&e.onClick(),e.shouldLogClicks&&c()},onHide:function(){e.onHide(),e.completionOnDismissal?r():o()},text:i.text||""})}})},tx=n(481989);function t_(e){return(t_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tj(Object(n),!0).forEach(function(t){tP(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tj(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tO=function(){return!!e})()}function tS(e){return(tS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tA(e,t){return(tA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tP(e,t,n){return(t=tE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tE(e){var t=function(e,t){if("object"!=t_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t_(t)?t:t+""}var tC=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=tS(t),tP(e=function(e,t){if(t&&("object"==t_(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,tO()?Reflect.construct(t,r||[],tS(this).constructor):t.apply(this,r)),"componentDidMount",function(){var t=e.props.delay;e.experienceToastsTimeout=window.setTimeout(function(){return e.triggerEducationToasts()},void 0===t?2e3:t)}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tA(n,e),t=[{key:"componentWillUnmount",value:function(){window.clearTimeout(this.experienceToastsTimeout)}},{key:"triggerEducationToasts",value:function(){var e=this.props,t=e.toastManagerContext,n=e.completionOnDismissal,r=e.placementId,o=e.experienceIds;t.showToast(function(e){var t=e.hideToast;return(0,a.jsx)(tg,{completionOnDismissal:n,eligibleIds:o,onHide:t,placementId:r,shouldLogClicks:!1})})}},{key:"render",value:function(){return null}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tE(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.Component);function tk(e){return(0,a.jsx)(tC,tw(tw({},e),{},{toastManagerContext:(0,tx.CG)()}))}function tT(e){return(tT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(tI=function(){return!!e})()}function tD(e){return(tD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tz(e,t){return(tz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function tB(e,t,n){return(t=tM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tM(e){var t=function(e,t){if("object"!=tT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tT(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tT(t)?t:t+""}tP(tC,"defaultProps",{completionOnDismissal:!1});var tR=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=tD(t),tB(e=function(e,t){if(t&&("object"==tT(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,tI()?Reflect.construct(t,r||[],tD(this).constructor):t.apply(this,r)),"onScroll",function(){var t=e.props.dismiss;e.dismissed||e.timer||(e.timer=setTimeout(function(){t(),e.dismissed=!0,e.timer=void 0},3e3))}),tB(e,"dismissed",!1),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&tz(n,e),t=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.onScroll)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.text,o=e.thumbnails,i=e.idealDirection,l=e.forceDirection,c=o.slice(-3);return(0,a.jsx)(r.AM,{anchor:t,color:"white",forceDirection:l,idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(r.az,{alignContent:"center",display:"flex",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(r.az,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(r.KJ,{color:"default",weight:"bold",children:n})}),(0,a.jsx)(r.az,{display:"flex",marginEnd:-2,paddingX:2,children:c.map(function(e){return(0,a.jsx)(r.az,{height:60,paddingX:1,width:50,children:(0,a.jsx)(r.n1,{height:60,rounding:200,children:(0,a.jsx)(r._V,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tM(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.PureComponent),tL=n(634119),tN=n(700886),tF=n(956804),tU=n(683965),tW=n(878908),tH=n(425347),tK=function(e,t,n,r){(0,tH.GV)("".concat(e,".").concat(t),{tags:{placementId:n,refreshReasoning:r}})},tV=function(){var e=(0,e7.zy)(),t=(0,Z.d4)(function(e){return e.experiences}),n=function(e,n,r,o){var i=!(arguments.length>4)||void 0===arguments[4]||arguments[4],a=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=(0,z.Pf)(r,n,a,t[r],o,i),s=c.shouldRefresh,u=c.refreshReasoning;s||(e[r]=t[r]),l&&tK(l,s?"refreshed":"not_refreshed",r,u)};return{checkSurfaceForRefresh:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=o.dontRefreshSSRPlacements,a=void 0!==i&&i,l=o.experimentType,c=o.checkIfMounted,s=void 0===c||c,u=(0,z.C3)(e);u&&u.placements.forEach(function(e){n(t,r,e,a,s,u,l)})}}},tJ=n(71197);function t$(e){return(t$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tG(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var c=Object.create((r&&r.prototype instanceof l?r:l).prototype);return tY(c,"_invoke",function(n,r,o){var i,l,c,s=0,u=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,c=e,d.n=n,a}};function p(n,r){for(l=n,c=r,t=0;!f&&s&&!o&&t<u.length;t++){var o,i=u[t],p=d.p,m=i[2];n>3?(o=m===r)&&(c=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,d.v=r,d.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,d.n=m,l=0))}if(o||n>1)return a;throw f=!0,r}return function(o,u,m){if(s>1)throw TypeError("Generator is already running");for(f&&1===u&&p(u,m),l=u,c=m;(t=l<2?e:c)||!f;){i||(l?l<3?(l>1&&(d.n=-1),p(l,c)):d.n=c:d.v=c);try{if(s=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(f=d.n<0)?c:n.call(r,d))!==a)break}catch(t){i=e,l=1,c=t}finally{s=1}}return{value:t,done:f}}}(n,o,i),!0),c}var a={};function l(){}function c(){}function s(){}t=Object.getPrototypeOf;var u=s.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(tY(t={},r,function(){return this}),t));function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,s):(e.__proto__=s,tY(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return c.prototype=s,tY(u,"constructor",s),tY(s,"constructor",c),c.displayName="GeneratorFunction",tY(s,o,"GeneratorFunction"),tY(u),tY(u,o,"Generator"),tY(u,r,function(){return this}),tY(u,"toString",function(){return"[object Generator]"}),(tG=function(){return{w:i,m:f}})()}function tY(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(tY=function(e,t,n,r){function i(t,n){tY(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function tq(e,t,n,r,o,i,a){try{var l=e[i](a),c=l.value}catch(e){return void n(e)}l.done?t(c):Promise.resolve(c).then(r,o)}function tX(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tQ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tZ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tQ(Object(n),!0).forEach(function(t){t0(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tQ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t0(e,t,n){var r;return(r=function(e,t){if("object"!=t$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==t$(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t1(e){var t,n,r,o=e.children,i=(0,S.wQ)().isSessionEnabledPlacement,l=(0,b.Ay)(),c=(0,m.useMemo)(function(){return{device:l,platform:(0,b.bh)(l)?5:6}},[l]),s=(0,m.useRef)({}),u=(0,m.useCallback)(function(e,t){e&&!s.current[e]&&(0,tH.GV)(tU.Hi,{sampleRate:.1,tags:tZ(tZ({},c),{},{placementId:e,experienceId:t||"none"})})},[s,c]),f=(0,m.useCallback)(function(e,t){s.current[e]=t},[s]),d=function(e){if(Array.isArray(e))return e}(t=(0,m.useReducer)(function(e,t){var n=t.payload;if("MOUNT_PLACEMENT"===t.type)return e.mountedPlacements[n]&&(0,tH.GV)(tU.al,{sampleRate:.1,tags:tZ(tZ({},c),{},{placementId:n})}),tZ(tZ({},e),{},{mountedPlacements:tZ(tZ({},e.mountedPlacements),{},t0({},n,!0))});if("UNMOUNT_PLACEMENT"===t.type){var r=tZ({},e);return delete r.mountedPlacements[n],delete r.registeredAfterActionPlacements[n],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?tZ(tZ({},e),{},{registeredAfterActionPlacements:tZ(tZ({},e.registeredAfterActionPlacements),{},t0({},n,!0))}):e},{mountedPlacements:{},registeredAfterActionPlacements:{}}))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{for(i=(n=n.call(e)).next;!(c=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return tX(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tX(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),p=d[0],y=d[1],h=p.mountedPlacements,v=p.registeredAfterActionPlacements,g=(0,Z.wA)(),x=(0,Z.d4)(function(e){return e.experiences}),_=(0,tN.Hy)(),j=(0,tN._4)(),w=(0,tN.Dz)(),O=tV().checkSurfaceForRefresh,A=(n=tG().m(function e(t,n){var r,o,i,a=arguments;return tG().w(function(e){for(;;)switch(e.p=e.n){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.p=1,e.n=2,(0,tN.Y4)(t,n);case 2:(o=(e.v.resource_response||{}).data)&&(O(o,p,{dontRefreshSSRPlacements:r,experimentType:"experience_framework_home_feed_init_fetch"}),g((0,tJ.vv)(o))),e.n=4;break;case 3:e.p=3,i=e.v,(0,tH.GV)("experience_framework_home_feed_init_fetch.error",{tags:tZ(tZ({},c),{},{type:i instanceof Error?i.name:"unknown"})});case 4:return e.a(2)}},e,null,[[1,3]])}),r=function(){var e=this,t=arguments;return new Promise(function(r,o){var i=n.apply(e,t);function a(e){tq(i,r,o,a,l,"next",e)}function l(e){tq(i,r,o,a,l,"throw",e)}a(void 0)})},function(e,t){return r.apply(this,arguments)}),P=function(e,t,n){var r=n||{},o=r.isExperienceInitFetch,i=r.dontRefreshSSRPlacements;o?A(e,t,i):g((0,tF.$O)(e,t))},E=(0,m.useMemo)(function(){return tZ(tZ({},(0,tL.bindActionCreators)({completeExperience:_,dismissExperience:j,fetchAllExperiencesMulti:tN.EZ,fetchExperienceForPlacements:tN.xL,mountPlacement:tN.hG,triggerExperimentsForPlacement:tN.vI,viewExperience:w},g)),{},{fetchAllExperiences:P,mountPlacement:function(e,t,n,r){var o=i(e).enableExperienceSession;g((0,tN.hG)(e,t,n,r||o)),y({type:"MOUNT_PLACEMENT",payload:e})},unmountPlacement:function(e){y({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:function(e){y({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})},checkUsePlacementCalls:u,setUsePlacementCalls:f})},[_,j,g,y,w]),C=(0,m.useMemo)(function(){return tZ({experiences:x,mountedPlacements:h,registeredAfterActionPlacements:v},E)},[x,h,v,E]);return(0,a.jsx)(tW._z,{value:C,children:o})}var t2=["scroll_to_dismiss","scroll_to_dismiss_delay_in_seconds"];function t5(e){return(t5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(t6=function(){return!!e})()}function t8(e){return(t8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function t4(e,t){return(t4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function t3(e,t,n){return(t=t7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t7(e){var t=function(e,t){if("object"!=t5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t5(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t5(t)?t:t+""}var t9=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=t8(t),t3(e=function(e,t){if(t&&("object"==t5(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,t6()?Reflect.construct(t,r||[],t8(this).constructor):t.apply(this,r)),"dismissRef",(0,m.createRef)()),t3(e,"state",{paused:!1}),t3(e,"dismissCb",function(){var t,n;null==(t=(n=e.dismissRef).current)||t.call(n)}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&t4(n,e),t=[{key:"componentWillUnmount",value:function(){var e=this.props.anchor;this.timer&&clearTimeout(this.timer),null==e||e.removeEventListener("click",this.dismissCb)}},{key:"setDefaultTooltip",value:function(e){e.has_tooltip=null==e.has_tooltip||e.has_tooltip}},{key:"getText",value:function(e,t,n){return(t&&e.text.replace("{boardName}",t),n)?n(e):e.text}},{key:"render",value:function(){var e=this,t=this.props,n=t.anchor,o=t.customWrapper,i=t.experienceIds,l=t.boardTextOverride,c=t.fontSize,u=t.forceDirection,f=t.hasFullWidthButton,d=void 0===f||f,p=t.idealDirection,y=t.useMasonryFlyout,b=t.noClickToDismiss,h=t.onClickComplete,v=t.onClickDismiss,g=t.placementId,x=t.shouldTimeoutDismiss,_=t.textAlign,j=t.textOverflow,w=t.textOverrideFn,O=t.textWeight,S=t.customizedComplete,A=t.advertiserId,P=t.dismissButtonLocation,E=t.dismissButtonMarginTop,C=t.zIndex,k=o||function(e){var t=e.children;return y?(0,a.jsx)(r.Wd,{children:t}):t};return(0,a.jsx)(s.Ay,{eligibleIds:i,eligibleTypes:[8],placementId:g,targeting:A?{advertiserId:parseInt(A,10)}:null,children:function(t){var o=t.complete,i=t.dismiss,s=t.experience.display_data,f=s.scroll_to_dismiss,y=s.scroll_to_dismiss_delay_in_seconds,g=void 0===y?0:y,A=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(s,t2),T=f&&n,I=function(){D(),e.timer||(e.timer=setTimeout(i,1e3*g))},D=function(){T&&(window.removeEventListener("scroll",I),window.removeEventListener("touchmove",I))},z=function(){D(),o()};return(T&&(window.addEventListener("scroll",I),window.addEventListener("touchmove",I)),e.setDefaultTooltip(A),A.has_tooltip)?(x&&A.disappearTime&&A.disappearTime>0&&(e.timer=setTimeout(function(){return I(),null},A.disappearTime)),A.has_tooltip&&(e.dismissRef.current=I,null==n||n.addEventListener("click",e.dismissCb)),(0,a.jsx)(m.Fragment,{children:A.has_tooltip&&!e.state.paused&&(A.thumbnail_urls?(0,a.jsx)(tR,{anchor:n,dismiss:I,forceDirection:u,idealDirection:p||"down",text:A.text,thumbnails:A.thumbnail_urls}):(0,a.jsx)(k,{children:(0,a.jsx)(r.fT,{anchor:n,forceDirection:u,idealDirection:p||"down",onDismiss:b?function(){}:I,shouldFocus:!1,size:"sm",zIndex:C,children:(0,a.jsxs)(r.az,{column:12,padding:3,children:[(0,a.jsxs)(r.KJ,{align:"right"===_?"end":_,color:"light",overflow:j,size:c,weight:O||"bold",children:[e.getText(A,l,w),A.secondary_cta_link&&(0,a.jsx)(r.az,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(r.KJ,{color:"light",size:c,weight:"bold",children:(0,a.jsx)(r.N_,{display:"inlineBlock",href:A.secondary_cta_link.url,target:"blank",underline:"hover",children:A.secondary_cta_link.text})})})]}),A.sub_text&&(0,a.jsx)(r.az,{paddingY:2,children:(0,a.jsx)(r.KJ,{color:"light",size:c,children:A.sub_text})}),(A.dismiss_button_text||A.complete_button_text)&&(0,a.jsxs)(r.az,{alignItems:"center",display:"flex",justifyContent:P||"start",marginTop:E||2,children:[A.dismiss_button_text&&(0,a.jsx)(r.az,{column:6,marginEnd:1,children:(0,a.jsx)(r.$n,{color:"tertiary",fullWidth:d,onClick:function(){v&&v(),I()},size:"md",text:A.dismiss_button_text})}),A.complete_button_text&&(0,a.jsx)(r.az,{column:A.dismiss_button_text?6:12,children:S?(0,a.jsx)(r.Rp,{fullHeight:!0,onTap:function(){z(),h&&h()},rounding:200,children:(0,a.jsx)(r.az,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"10px"}},display:"flex",justifyContent:"center",padding:2,rounding:200,children:(0,a.jsx)(r.KJ,{color:"light",weight:"bold",children:A.complete_button_text})})}):(0,a.jsxs)(r.so,{justifyContent:"center",children:[A.complete_button_cta_url&&(0,a.jsx)(r.vx,{color:"tertiary",fullWidth:d,href:A.complete_button_cta_url,onClick:function(e){var t=e.event;t.preventDefault(),t.stopPropagation(),z(),h&&h()},size:"md",target:A.complete_button_cta_url?"blank":null,text:A.complete_button_text}),!A.complete_button_cta_url&&(0,a.jsx)(r.$n,{color:"tertiary",fullWidth:d,onClick:function(){z(),h&&h()},size:"md",text:A.complete_button_text})]})})]})]})})}))})):(z(),null)}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t7(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.Component);t3(t9,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0});var ne=new r.rk(669),nt={1:"up",2:"right",3:"down",4:"left"},nn=function(e){var t,n=e.anchors,o=e.complete,i=e.dismiss,l=e.displayData,c=e.idealDirection,s=e.platform,u=e.touchToDismiss,f=void 0===u||u,d=e.useMasonryFlyout,p=void 0!==d&&d,y=l||{},b=y.anchors_by_platform,h=y.button_text,v=y.button_uri,g=y.display_type,x=y.flyout_direction,_=y.scroll_to_dismiss,j=y.scroll_to_dismiss_delay_in_seconds,w=void 0===j?0:j,O=y.text,S=(void 0===n?{}:n)[null==(t=b[s])?void 0:t.anchor],A=(0,m.useCallback)(function(){_&&(window.removeEventListener("scroll",A),window.removeEventListener("touchmove",A)),f&&S&&S.removeEventListener("click",A),setTimeout(function(){return i()},1e3*w)},[S]);if((0,m.useEffect)(function(){S&&(_&&(window.addEventListener("scroll",A),window.addEventListener("touchmove",A)),f&&S.addEventListener("click",A))},[S]),!S)return null;var P=nt[x],E=v&&(v.startsWith("https://")||v.startsWith("http://")),C=function(){_&&(window.removeEventListener("scroll",A),window.removeEventListener("touchmove",A)),f&&S.removeEventListener("click",A),o()};return(0,a.jsx)(m.Fragment,{children:1===g&&(0,a.jsx)(function(e){var t=e.children;return p?(0,a.jsx)(r.Wd,{zIndex:ne,children:t}):(0,a.jsx)(r.az,{zIndex:ne,children:t})},{children:(0,a.jsx)(r.fT,{anchor:S,idealDirection:P||c||"down",onDismiss:A,shouldFocus:!1,size:"sm",children:(0,a.jsxs)(r.az,{padding:4,width:"220px",children:[(0,a.jsx)(r.KJ,{align:"center",color:"light",weight:"bold",children:O}),h?(0,a.jsx)(r.az,{display:"flex",justifyContent:"center",marginTop:4,children:(0,a.jsx)(r.az,{column:8,children:v?(0,a.jsx)(r.vx,{color:"tertiary",fullWidth:!0,href:v,onClick:function(e){(0,e.dangerouslyDisableOnNavigation)(),C()},size:"md",target:E?"blank":null,text:h}):(0,a.jsx)(r.$n,{color:"tertiary",fullWidth:!0,onClick:C,size:"md",text:h})})}):null]})})})})},nr=function(e){var t=e.anchors,n=e.idealDirection,r=e.onCompleteByAnchor,o=e.placementId,i=e.positionRelativeToAnchor,l=e.touchToDismiss,c=e.useMasonryFlyout,u=(0,b.M)();return(0,a.jsx)(s.Ay,{placementId:o,predicate:function(e){var n=e.display_data;if((null==n?void 0:n.component_type)===2){var r=n.anchors_by_platform;if(null!=r&&r.web){var i=r.web,a=i.anchor;return i.placement===o&&a in t}}return!1},children:function(e){var o=e.complete,s=e.dismiss,f=e.experience;return(0,a.jsx)(nn,{anchors:t,complete:o,dismiss:s,displayData:f.display_data,idealDirection:n,onCompleteByAnchor:r,platform:u?"web_mobile":"web",positionRelativeToAnchor:i,touchToDismiss:l,useMasonryFlyout:c})}})};function no(e){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ni(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ni=function(){return!!e})()}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nl(e,t){return(nl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function nc(e){var t=function(e,t){if("object"!=no(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=no(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==no(t)?t:t+""}var ns=function(e){var t;function n(){var e,t,r,o,i,a;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return t=n,r=[].concat(c),t=na(t),o=e=function(e,t){if(t&&("object"==no(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,ni()?Reflect.construct(t,r||[],na(this).constructor):t.apply(this,r)),a={paused:!1},(i=nc(i="state"))in o?Object.defineProperty(o,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[i]=a,e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&nl(n,e),t=[{key:"componentDidMount",value:function(){this.props.onExperienceMount&&this.experience&&this.props.onExperienceMount(this.experience)}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"renderFlyout",value:function(e){var t=this.props,n=t.anchor,o=t.flyoutSize,i=t.idealDirection;return(0,a.jsx)(r.fT,{anchor:n,idealDirection:i||"down",message:e,onDismiss:function(){},size:o})}},{key:"render",value:function(){var e=this,t=this.props,n=t.experienceIds,o=t.placementId,i=t.shouldTimeoutDismiss;return(0,a.jsx)(s.Ay,{eligibleIds:n,eligibleTypes:[8],placementId:o,children:function(t){var n=t.complete,o=t.dismiss,l=t.experience;e.experience=l;var c=l.display_data;return c.has_tooltip?(i&&c.disappearTime&&c.disappearTime>0&&(e.timer=setTimeout(function(){return o(),null},c.disappearTime)),(0,a.jsx)(r.az,{"data-test-id":"experience-tooltip-no-buttons",zIndex:new r.rk(10),children:c.has_tooltip&&!e.state.paused&&e.renderFlyout(c.text)})):(n(),null)}})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nc(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(m.Component);function nu(e){var t=(0,i.A)(),n=e.handleComplete,o=e.handleDismiss;return(0,a.jsx)(r.az,{marginBottom:2,marginEnd:"auto",marginStart:"auto",marginTop:2,width:"55%",children:(0,a.jsx)(r.Sl,{dismissButton:{accessibilityLabel:t._('Dismiss Banner Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Dismis Banner Button accesibility Label of the Banner to upgrade pinners to business account'),onDismiss:o},imageData:{component:(0,a.jsx)(r.In,{accessibilityLabel:"graph",color:"default",icon:"graph-bar",size:45})},message:t._('Upgrade to a free Pinterest business account to unlock tools that help drive traffic, grow your audience and sell more products', 'PinnerUpgradeToBusinessBanner.message', 'Message of the Banner to upgrade pinners to business account'),primaryAction:{label:t._('Upgrade', 'PinnerUpgradeToBusinessBanner.primaryAction', 'Upgrade action of the Banner to upgrade pinners to business account'),href:"/business/convert/",accessibilityLabel:t._('Upgrade Button', 'PinnerUpgradeToBusinessBanner.primaryAction.accesibility', 'Upgrade Button accesibility Label of the Banner to upgrade pinners to business account'),onClick:n,role:"link"},title:t._('Discover your top performing Pins', 'PinnerUpgradeToBusinessBanner.title.variant_a', 'Title of the Banner to upgrade pinners to business account')})})}var nf=function(e){var t=e.placementId;return(0,a.jsx)(s.Ay,{eligibleIds:[503755],placementId:t,children:function(e){var t=e.complete,n=e.dismiss;return(0,a.jsx)(nu,{handleComplete:t,handleDismiss:n})}})}},476766(e,t,n){n.d(t,{GV:function(){return m},QN:function(){return d},aj:function(){return b},m2:function(){return p},nH:function(){return f},ou:function(){return y}});var r=n(460657),o=n(157559),i=n(690870),a=n(354616),l=n(215868);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=new r.rk(1e3),d=new r.K5([l.f,a.U7,o.gJ]),p=new r.K5([d]),m=12,y=function(e){var t=e.variant,n=e.isDarkMode,r=n?i.be:"#FFFFFF";return{__style:"fullpage"===t?{backgroundColor:r,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100%",height:"100%",left:0,right:0,top:0,bottom:0,zIndex:1,overflowY:"hidden"}:"fullscreen"===t?{backgroundColor:r,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"90vw",height:"70vh",borderRadius:"8px",zIndex:1,left:"5vw",bottom:"13vh",overflowY:"hidden"}:"tablet"===t?{backgroundColor:r,border:void 0,borderRadius:"32px",top:"50%",left:"50%",minWidth:"350px",overflow:"hidden",touchAction:"none",transform:"translate(-50%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1}:"footer"===t?{backgroundColor:r,border:n?void 0:"1px solid #efefef",borderRadius:"32px 32px 0 0",bottom:0,boxShadow:"0 0 16px rgba(0,0,0, 0.16)",left:0,touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:"signup"===t||"euPrompt"===t?{backgroundColor:r,border:void 0,borderRadius:"32px",top:"50%",touchAction:"none",transform:"translate(0%, -50%)",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",zIndex:1,left:"euPrompt"===t?"5%":"8px",right:"euPrompt"===t?"5%":"8px",overflow:"auto"}:"repinPage"===t?{backgroundColor:n?i.ee:"#FFFFFF",borderRadius:"32px 32px 0 0",border:n?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}:{backgroundColor:r,borderRadius:"32px 32px 0 0",border:n?void 0:"1px solid #efefef",bottom:0,boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)",left:"0px",maxHeight:"100%",overflow:"hidden",touchAction:"none",transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",width:"100vw",zIndex:1}}},b=function(e){var t=e.isFullscreen,n=e.isTablet,r=e.isShowing,o=e.isRelatedInterestsModal,i={border:e.isDarkMode?void 0:"1px solid #efefef",touchAction:"none",width:"100vw",height:"",zIndex:1,left:0,bottom:0,borderRadius:"32px 32px 0px 0px",boxShadow:"0px 0px 8px rgba(0, 0, 0, 0.1)"},a=r?"translateY(0)":"translateY(100vh)";return i.height=t?"100vh":"",n&&o&&(i=u(u({},i),{width:425,left:"50%",transform:"translateX(-50%)"}),a=r?"translate(-50%, 0)":"translate(-50%, 100vh)"),{__style:u(u({},i),{transition:"all 225ms cubic-bezier(0.0,0.0,0.2,1) 500ms",transform:a})}}},969600(e,t,n){n.d(t,{A:function(){return r}});function r(e){if(!e)return!1;var t=new Date(e);return t.setDate(t.getDate()+28),new Date().getTime()<t.getTime()}},26412(e,t,n){n.d(t,{A:function(){return r}});function r(e,t){var n,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:28;if(!(null!=e&&e.resurrection_info)&&!(null!=t&&t.isAuth&&t.resurrectionInfo))return!1;var i=t?t.isAuth&&(null==(n=t.resurrectionInfo)?void 0:n.resurrectionDate):null==e||null==(r=e.resurrection_info)?void 0:r.resurrection_dt,a=new Date,l=i?new Date(i):a;return l.setDate(l.getDate()+o),new Date().getTime()<l.getTime()}},575406(e,t){t.A={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},359580(e,t,n){n.d(t,{A:function(){return o}});var r=n(102649);function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=function(t,n){return e(n)};return function(e){return(0,r.A)(n,t)(e)}}},841037(e,t,n){n.d(t,{r:function(){return r}});var r={REGISTRATION:"registration",SETTINGS:"settings",GOOGLE_PEOPLE_API:"google_people_api",HOLISTIC_PROFILE_PROMPT:"holistic_profile_prompt",IN_APP_BIRTHDAY_PROMPT:"in_app_birthday_prompt",FIX_EMAIL_PROMPT:"fix_email_prompt",NUX:"nux",BUSINESS_HUB:"business_hub",UNKNOWN:"unknown"}},948828(e,t,n){n.d(t,{A:function(){return l}});var r=n(575406),o=n(816942),i=n(879667),a=function(){};function l(e){var t=e.allowClickAndDrag,n=e.allowEsc,l=e.allowMediaPlay,c=e.allowScroll,s=e.children,u=function(e){n&&e.keyCode===r.A.ESCAPE||(0,o.A)(e)};return(0,i.jsx)("div",{onAbort:o.A,onAnimationEnd:o.A,onAnimationIteration:o.A,onAnimationStart:o.A,onBlur:a,onCanPlay:l?a:o.A,onCanPlayThrough:o.A,onChange:o.A,onClick:t?a:o.A,onCompositionEnd:o.A,onCompositionStart:o.A,onCompositionUpdate:o.A,onContextMenu:o.A,onCopy:o.A,onCut:o.A,onDoubleClick:o.A,onDurationChange:o.A,onEmptied:o.A,onEncrypted:o.A,onEnded:o.A,onError:o.A,onFocus:a,onInput:o.A,onInvalid:o.A,onKeyDown:u,onKeyPress:u,onKeyUp:u,onLoad:o.A,onLoadedData:o.A,onLoadedMetadata:o.A,onLoadStart:o.A,onMouseDown:o.A,onMouseEnter:o.A,onMouseLeave:o.A,onMouseMove:t?a:o.A,onMouseOut:o.A,onMouseOver:o.A,onMouseUp:t?a:o.A,onPaste:o.A,onPause:o.A,onPlay:o.A,onPlaying:o.A,onProgress:o.A,onRateChange:o.A,onScroll:c?a:o.A,onSeeked:o.A,onSeeking:o.A,onSelect:o.A,onStalled:o.A,onSubmit:o.A,onSuspend:o.A,onTimeUpdate:o.A,onTouchCancel:o.A,onTouchEnd:t?a:o.A,onTouchMove:t?a:o.A,onTouchStart:t?a:o.A,onTransitionEnd:o.A,onVolumeChange:o.A,onWaiting:o.A,onWheel:o.A,children:s})}},816942(e,t){t.A=function(e){e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}},281680(e,t,n){n.d(t,{A:function(){return s}});var r=n(157203),o=n(460657),i=n(231341),a=n(370714),l=n(227581),c=n(879667);function s(e){var t=e.color,n=void 0===t?"dark":t,s=e.completeButtonText,u=e.completeUrl,f=e.dismissButtonText,d=e.experienceId,p=e.external,m=e.message,y=e.onComplete,b=e.onDismiss,h=(0,a.A)(),v=(0,r.useRef)(null),g=m&&!s,x=500735===d,_=s&&(!u||x)&&(0,c.jsx)(o.$n,{color:"tertiary",onClick:function(e){var t=e.event;y&&y(t)},text:s}),j=s&&u&&(0,c.jsx)(i.A,{anchor:".HomeButton2",anchorElementRef:v.current,containerBoxConfig:{display:"flex",height:"100%"},children:(0,c.jsx)(o.vx,{ref:v,accessibilityLabel:s,color:"tertiary",href:u,onClick:function(e){var t=e.event;y&&y(t)},rel:p?"nofollow":"none",size:"md",text:s})}),w=f&&b&&(0,c.jsx)(o.az,{mdPaddingX:2,children:(0,c.jsx)(o.$n,{color:"shopping"===n?"tertiary":"secondary",onClick:function(e){var t=e.event;b&&b(t)},text:f})}),O=g&&!x&&b&&!f&&(0,c.jsx)(o.K0,{accessibilityLabel:h._('Close', 'accessibility close label', 'accessibility close label'),bgColor:"secondary",icon:"close",iconColor:"subtle",onClick:function(e){var t=e.event;b&&b(t)},size:"md"});return(0,c.jsxs)(o.az,{alignItems:"center",color:{dark:"washDark",shopping:"default",default:"default"}[n],dangerouslySetInlineStyle:{__style:{backgroundColor:"#dadada"}},direction:"column",display:"flex",justifyContent:"between",paddingX:6,paddingY:3,smDirection:"row",children:[(0,c.jsx)(o.az,{column:12,smColumn:g?11:8,children:(0,c.jsxs)(o.KJ,{color:"inverse",weight:x?"normal":"bold",children:[(0,c.jsx)(l.A,{unsafeCSS:".Banner--message a { color: #fff; text-decoration: underline; }"}),(0,c.jsx)("div",{className:"Banner--message",children:(0,c.jsx)("span",{dangerouslySetInnerHTML:{__html:m}})})]})}),(0,c.jsxs)(o.so,{alignItems:"center",justifyContent:"end",children:[w,_||j,O]})]})}},695231(e,t,n){n.d(t,{D:function(){return b},o:function(){return y}});var r=n(157203),o=n(106386),i=n(4513),a=n(18841),l=n(837855),c=n(969600),s=n(26412),u=n(879667);function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=(0,i.A)("NavFooterContext"),m=p.Provider,y=p.get;function b(e){var t=e.children,n=f((0,r.useState)(),2),i=n[0],d=n[1],p=f((0,r.useState)(!1),2),y=p[0],b=p[1],h=f((0,r.useState)(!1),2),v=h[0],g=h[1],x=f((0,r.useState)(!1),2),_=x[0],j=x[1],w=f((0,r.useState)(!1),2),O=w[0],S=w[1],A=f((0,r.useState)(!1),2),P=A[0],E=A[1],C=(0,r.useRef)(null),k=(0,o.d4)(function(e){var t,n;return null!=(t=null==(n=e.currentUserTracker)||null==(n=n.savedPins)?void 0:n.length)?t:a.BP.length}),T=(0,s.A)(null,(0,l.A)()),I=(0,o.d4)(function(e){return e.session.isAuthenticated}),D=(0,o.d4)(function(e){return I?e.users[e.session.userId]:void 0}),z=(0,c.A)(null==D?void 0:D.created_at);return(0,u.jsx)(m,{value:{completeNudgeUsersToHomeExperienceRef:C,forceShowNavFooter:O,homeFlyoutText:i,isNavFooterHiddenAfterScroll:y,isNavFooterHiddenByPinActionBar:P,navFooterHeight:y?0:I&&(T||z)?64:52,numUnauthSavedPins:k,setForceShowNavFooter:S,setHomeFlyoutText:d,setIsNavFooterHiddenAfterScroll:b,setIsNavFooterHiddenByPinActionBar:E,setShowHomeBadge:g,setShowHomeFlyoutWithButton:j,showHomeBadge:v,showHomeFlyoutWithButton:_},children:t})}},215868(e,t,n){n.d(t,{f:function(){return i},n:function(){return a}});var r=n(460657),o=n(912415),i=new r.K5([o.A]),a=160},912415(e,t,n){var r=n(460657),o=n(354616);t.A=new r.K5([o.nS])},354616(e,t,n){n.d(t,{U7:function(){return a},nS:function(){return i},nf:function(){return l},qn:function(){return o}});var r=n(460657),o=2,i=new r.rk(1),a=new r.rk(1),l=new r.rk(1)},703509(e,t,n){n.d(t,{A:function(){return r}});function r(e,t){e.classList?e.classList.add(t):(e.classList?t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}},142506(e,t,n){function r(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function o(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}n.d(t,{A:function(){return o}})},709341(e,t,n){n.d(t,{A:function(){return x}});var r=n(791680),o=n(622611),i=n(597346),a=n(703509),l=n(142506),c=n(157203),s=n(444893),u=n(959323),f="unmounted",d="exited",p="entering",m="entered",y="exiting",b=function(e){function t(t,n){var r,o=e.call(this,t,n)||this,i=n&&!n.isMounting?t.enter:t.appear;return o.appearStatus=null,t.in?i?(r=d,o.appearStatus=p):r=m:r=t.unmountOnExit||t.mountOnEnter?f:d,o.state={status:r},o.nextCallback=null,o}(0,i.A)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===f?{status:d}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==m&&(t=p):(n===p||n===m)&&(t=y)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===p?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===d&&this.setState({status:f})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[s.findDOMNode(this),r],i=o[0],a=o[1],l=this.getTimeouts(),c=r?l.appear:l.enter;(e||n)&&1?(this.props.onEnter(i,a),this.safeSetState({status:p},function(){t.props.onEntering(i,a),t.onTransitionEnd(c,function(){t.safeSetState({status:m},function(){t.props.onEntered(i,a)})})})):this.safeSetState({status:m},function(){t.props.onEntered(i)})},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.findDOMNode(this);t?(this.props.onExit(r),this.safeSetState({status:y},function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,function(){e.safeSetState({status:d},function(){e.props.onExited(r)})})})):this.safeSetState({status:d},function(){e.props.onExited(r)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(!n||r)return void setTimeout(this.nextCallback,0);if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],a=o[1];this.props.addEndListener(i,a)}null!=e&&setTimeout(this.nextCallback,e)},n.render=function(){var e=this.state.status;if(e===f)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,o.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return c.createElement(u.A.Provider,{value:null},"function"==typeof n?n(e,r):c.cloneElement(c.Children.only(n),r))},t}(c.Component);function h(){}b.contextType=u.A,b.propTypes={},b.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:h,onEntering:h,onEntered:h,onExit:h,onExiting:h,onExited:h},b.UNMOUNTED=f,b.EXITED=d,b.ENTERING=p,b.ENTERED=m,b.EXITING=y;var v=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,l.A)(e,t)})},g=function(e){function t(){for(var t,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.removeClasses(o,"exit"),t.addClass(o,i?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1];t.addClass(o,i?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),o=r[0],i=r[1]?"appear":"enter";t.removeClasses(o,i),t.addClass(o,i,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,o=r&&n?n+"-":"",i=r?""+o+e:n[e],a=r?i+"-active":n[e+"Active"],l=r?i+"-done":n[e+"Done"];return{baseClassName:i,activeClassName:a,doneClassName:l}},t}(0,i.A)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r,o=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(o+=" "+i),"active"===n&&e&&e.scrollTop,o&&(this.appliedClasses[t][n]=o,r=o,e&&r&&r.split(" ").forEach(function(t){return(0,a.A)(e,t)}))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,o=n.active,i=n.done;this.appliedClasses[t]={},r&&v(e,r),o&&v(e,o),i&&v(e,i)},n.render=function(){var e=this.props,t=(e.classNames,(0,o.A)(e,["classNames"]));return c.createElement(b,(0,r.A)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.Component);g.defaultProps={classNames:""},g.propTypes={};var x=g},959323(e,t,n){t.A=n(157203).createContext(null)},791680(e,t,n){n.d(t,{A:function(){return r}});function r(){return(r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}},597346(e,t,n){function r(e,t){return(r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,{A:function(){return o}})},753539(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){!function(e,t,n){var o;(o=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==r(o)?o:o+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:function(){return i}})},622611(e,t,n){n.d(t,{A:function(){return r}});function r(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}}}]);