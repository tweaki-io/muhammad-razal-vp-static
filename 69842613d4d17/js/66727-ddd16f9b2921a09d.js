"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["66727"],{37477(e,n,t){t.d(n,{A:function(){return r}});function r(e,n){throw Error(null!=n?n:"Unexpected value in assertNever: ".concat(JSON.stringify(e)))}},617675(e,n,t){t.d(n,{A:function(){return m},b:function(){return p}});var r=t(664665),a=t.n(r),i=t(832861),o=t(429194),l=function(e,n){var t=e.condition,r=e.passingValue,a=n[t];return void 0===a||a===r},u=t(752788),c=t(425347);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var p=Symbol("inlineFragmentSpread"),y=function(e){var n,t,r=e.conditionContext,i=e.fragmentName,c=e.mutableOutput,g=e.parentType,m=e.selections,v=e.legacyData,h=e.paginationInfo,b=e.refetchInfo,I=e.getDataFromRedux,S=e.interceptedEntities,E=e.isInterceptedEntitiesExperimentEnabled,k=function(e,n){var t="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return f(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,void 0):void 0}}(e))){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}(m);try{for(k.s();!(t=k.n()).done;)if(n=function(){var e=t.value;switch(e.kind){case"ScalarField":var n=e.alias,f=e.name;c[null!=n?n:f]=(0,o.Kp)(f,g,v);break;case"LinkedField":var m=e.alias,k=e.name,_=e.concreteType,L=e.plural,A=e.selections,C=null!=m?m:k,P=(0,o.Nz)(v,g,e);if(null==P){c[C]=P;break}var D=(0,o.zu)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}({},P)),O=P;if(null!=D&&null!=P&&"object"===s(P)&&"id"in P&&"string"==typeof P.id){var T,w=I(P.id,D);"Intercepted"===w.kind&&!S.some(function(e){return e.id===P.id})&&(S.push({id:P.id,type:D}),E&&(O=null!=(T=w.data)?T:P))}if(L){var x=(0,o.h6)({untypedInput:O,concreteType:_}),H=c[C];a()(!H||Array.isArray(H),"plural data must be an array"),c[C]=null==x?void 0:x.filter(Boolean).map(function(e,n){var t,a=null!=(t=null==H?void 0:H[n])?t:{};return y({conditionContext:r,fragmentName:i,mutableOutput:a,parentType:_,selections:A,legacyData:e,refetchInfo:b,paginationInfo:h,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E}),a})}else{a()("object"===s(O),"Value for ".concat(k," must be an object").concat(_?" with type ".concat(_):"",", but a ").concat(s(O)," is given"));var F,R=null!=(F=c[C])?F:{},V=y({conditionContext:r,fragmentName:i,mutableOutput:R,parentType:_,selections:A,legacyData:O,refetchInfo:b,paginationInfo:h,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});"HasMissingData"===V?c[C]=null:c[C]=R}break;case"InlineFragment":var j=e.abstractKey,B=e.type,M=e.selections;if(a()(null!=B&&null===j,"We only support using inline fragment to refine to concrete types for now. Contact @jackhsu or @robertbalicki"),null==v)break;var N=v,U=(0,o.zu)(N);if(null!=U){var W,G=I(N.id,U);"Intercepted"===G.kind&&(S.some(function(e){return e.id===N.id})||S.push({id:N.id,type:U}),((0,o.ZH)(N)||E)&&(N=null!=(W=G.data)?W:v))}if(null!=U&&(0,o.GM)(B,U)){var Q=y({conditionContext:r,fragmentName:i,mutableOutput:c,parentType:B,selections:M,legacyData:N,paginationInfo:h,refetchInfo:b,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});if("HasMissingData"===Q)return{v:"HasMissingData"}}break;case"Condition":var z=e.selections;if(l(e,r)){var $=y({conditionContext:r,fragmentName:i,mutableOutput:c,parentType:g,selections:z,legacyData:v,paginationInfo:h,refetchInfo:b,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});if("HasMissingData"===$)return{v:"HasMissingData"}}break;case"FragmentSpread":(0,u.LI)(c,{kind:"LegacyData",singularLegacyData:v,refetchInfo:b,paginationInfo:h});break;case"ClientExtension":var q=y({conditionContext:r,fragmentName:i,mutableOutput:c,parentType:g,selections:e.selections,legacyData:v,paginationInfo:h,refetchInfo:b,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});if("HasMissingData"===q)return{v:"HasMissingData"};break;case"InlineDataFragmentSpread":var K={},X=e.selections,J=e.name,Z=y({conditionContext:r,fragmentName:J,mutableOutput:K,parentType:g,selections:X,legacyData:v,paginationInfo:h,refetchInfo:b,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});if("HasMissingData"===Z)return{v:"HasMissingData"};c[p]||(c[p]={}),c[p][J]=K;break;case"RequiredField":y({conditionContext:r,fragmentName:i,mutableOutput:c,parentType:g,selections:[e.field],legacyData:v,paginationInfo:h,refetchInfo:b,getDataFromRedux:I,interceptedEntities:S,isInterceptedEntitiesExperimentEnabled:E});var Y,ee=c[null!=(Y=e.field.alias)?Y:e.field.name];if(null==ee)if("THROW"!==e.action)return{v:"HasMissingData"};else throw Error("Required field is null or undefined");break;case"Defer":case"Stream":case"ActorChange":case"FlightField":case"ModuleImport":case"RelayResolver":case"ClientEdge":throw Error("The selection type '".concat(e.kind,"' is not supported yet. Contact @jackhsu or @robertbalicki"));default:throw Error("Unexpected selection type")}}())return n.v}catch(e){k.e(e)}finally{k.f()}return"NoMissingData"},g=new Set;function m(e){var n,t=e.conditionContext,r=e.fragment,l=e.legacyData,u=e.paginationInfo,s=e.refetchInfo,d=e.getDataFromRedux,f=e.interceptedEntities,p=e.isInterceptedEntitiesExperimentEnabled,m=(0,i.getFragment)(r);try{n=function(e){var n=e.conditionContext,t=e.fragment,r=e.legacyData,i=e.paginationInfo,l=e.refetchInfo,u=e.getDataFromRedux,c=e.interceptedEntities,s=e.isInterceptedEntitiesExperimentEnabled,d=(0,o.zu)(r),f=r;if(null!=d){var p,g=u(r.id,d);g&&"Intercepted"===g.kind&&!c.some(function(e){return e.id===r.id})&&(c.push({id:r.id,type:d}),s&&(0,o.ZH)(r)&&(f=null!=(p=g.data)?p:r))}if(null==t.abstractKey){var m=null!=f?(0,o.zu)(f):null;null!=m&&a()((0,o.GM)(t.type,m),"fragment data type '".concat(t.type,"' does not match legacy data ")+"type '".concat(m,"'. See ")+"http://pinch.pinadmin.com/fragment-data-type-does-not-match-legacy-data-type.")}var v={};return"NoMissingData"===y({conditionContext:n,fragmentName:t.name,mutableOutput:v,parentType:t.type,selections:t.selections,legacyData:f,paginationInfo:i,refetchInfo:l,getDataFromRedux:u,interceptedEntities:c,isInterceptedEntitiesExperimentEnabled:s})?v:null}({conditionContext:t,fragment:m,legacyData:l,paginationInfo:u,refetchInfo:s,getDataFromRedux:d,interceptedEntities:f,isInterceptedEntitiesExperimentEnabled:p})}catch(e){throw g.has(m.name)||(g.add(m.name),(0,c.GV)("autoLegacyAdapter.erroredReadResults",{sampleRate:1,tags:{fragmentName:m.name,rootId:l.id,rootType:l.type,url:window.location.href,isAuth:t.isAuth}})),e}return null!=n?n:null}},429194(e,n,t){t.d(n,{zw:function(){return T},ZH:function(){return R},GM:function(){return V},Kp:function(){return P},zu:function(){return M},Nz:function(){return w},h6:function(){return D}});var r=t(664665),a=t.n(r),i=t(634550);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var l=function(e){if(e.images){for(var n={},t=0,r=Object.entries(e.images);t<r.length;t++){var a,i,l,u,c,s=function(e){if(Array.isArray(e))return e}(a=r[t])||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,l=[],u=!0,c=!1;try{for(i=(t=t.call(e)).next;!(u=(r=i.call(t)).done)&&(l.push(r.value),2!==l.length);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(a,0)||function(e,n){if(e){if("string"==typeof e)return o(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,2):void 0}}(a,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=s[0],f=s[1];f?n[d]={url:null!=(i=f.url)?i:null,width:null!=(l=f.width)?l:null,height:null!=(u=f.height)?u:null,dominantColor:null!=(c=f.dominantColor)?c:void 0}:n[d]=null}return n}var p={},y=e.dominant_color;if(e.image_square_url&&(p["136x136"]={url:e.image_square_url,width:null!=(g=null==(m=e.image_square_size_pixels)?void 0:m.width)?g:void 0,height:null!=(v=null==(h=e.image_square_size_pixels)?void 0:h.height)?v:void 0,dominantColor:null!=y?y:void 0}),e.image_medium_url){var g,m,v,h,b,I,S=null==(b=e.image_medium_size_pixels)?void 0:b.width,E=null==(I=e.image_medium_size_pixels)?void 0:I.height;S&&S<=236?p["236x"]={url:e.image_medium_url,width:null!=S?S:void 0,height:null!=E?E:void 0,dominantColor:null!=y?y:void 0}:S&&S<=474?p["474x"]={url:e.image_medium_url,width:null!=S?S:void 0,height:null!=E?E:void 0,dominantColor:null!=y?y:void 0}:p["170x"]={url:e.image_medium_url,width:null!=S?S:void 0,height:null!=E?E:void 0,dominantColor:null!=y?y:void 0}}if(e.image_large_url){var k,_,L=null==(k=e.image_large_size_pixels)?void 0:k.width,A=null==(_=e.image_large_size_pixels)?void 0:_.height;p["736x"]={url:e.image_large_url,width:null!=L?L:void 0,height:null!=A?A:void 0,dominantColor:null!=y?y:void 0},p.orig={url:e.image_large_url,width:null!=L?L:void 0,height:null!=A?A:void 0,dominantColor:null!=y?y:void 0}}return Object.keys(p).length>0?p:null};function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach(function(n){var r,a;r=n,a=t[n],(r=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=f(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function s(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,n)||function(e,n){if(e){if("string"==typeof e)return d(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p={vDASHHEVCSLCONTROL:"V_DASH_HEVC_SL_CONTROL",vHLSHEVC2SEC:"V_HLS_HEVC_2_SEC",vHLSHEVCSLCONTROL:"V_HLS_HEVC_SL_CONTROL",vHLSSINGLEFILECMAFEXP:"V_HLS_SINGLE_FILE_CMAF_EXP",vHLSSINGLEFILECONTROL:"V_HLS_SINGLE_FILE_CONTROL",vHLSSINGLEFILETSEXP:"V_HLS_SINGLE_FILE_TS_EXP",vHLSSLCONTROL:"V_HLS_SL_CONTROL",vHLSV3:"V_HLSV3",vHLSV3EXP:"V_HLSV3_EXP",vHLSV3MOBILE:"V_HLSV3_MOBILE",vHLSV3WEB:"V_HLSV3_WEB",vHLSV4:"V_HLSV4",vLOWBITRATEEXPHLSHEVCCONTROL:"V_LOW_BITRATE_EXP_HLS_HEVC_CONTROL",vLOWBITRATEEXPHLSHEVCLOB:"V_LOW_BITRATE_EXP_HLS_HEVC_LOB",vLOWBITRATEEXPHLSHEVCLQS:"V_LOW_BITRATE_EXP_HLS_HEVC_LQS"},y=/(\d\d0P)(\d\d0K)/,g=/QVBR(8|10)/,m=/(EXP\d?|ADSHQ|AVC|DASH|MANI|HIGHQUAL|HEVC|HLS|H265|H264|720P?|MP4|ENABLED|CONTROL|PROD|T\d|Q?VBR\d*|AUTOABR|MEDIACONVERT|QUALITY|REARRANGED|REMHIGHRES|VISIONULAR|480$|640$|V2$|\dSEC$|\d\d0P\d\d0K$)/g,v=/^v/,h=function(e){var n;return null!=(n=p[e])?n:e.replace(m,"_$1").replace(y,"$1_$2").replace(g,"QVBR_$1").replace("ADSHQ","ADS_HQ").replace("HIGHQUAL","HIGH_QUAL").replace("REMHIGHRES","REM_HIGH_RES").replace(v,"V")},b=/[A-Z]/g,I=/^_/,S=function(e){return e.replace(b,function(e){return"_".concat(e.toLowerCase())}).replace(I,"")},E=["actionOptions","feedbackText","selectedItem","savedInfo","undoCallbackProps"],k=["boardId","localPinId","showFeedback","showFeedbackOverlay","sectionId","subTitle","viewType","viewParameter"],_=function(e,n){if(k.includes(e))return e;switch(e){case"entityId":return"id";case"__id":return a()(n.node_id,"node_id is missing. Please only select the __id field on objects which have an id field."),"node_id";default:return S(e)}},L=function(e){return"StoryPinPage"===e||"StoryPinImageBlock"===e},A=function(e,n,t){if(L(t)){if("images"===e)return"image";else if("imagesAdjusted"===e)return"image_adjusted"}if("PinTagChipImagesPerSpec"===t&&"image"===e)return"images";if("VideoDetail"===n)return h(e);if(E.includes(e))return e;if("AnalyticsTopPinsData"===t||"AnalyticsTopProductGroupsData"===t||"AnalyticsTopBoardsData"===t)switch(e){case"dateAvailability":return S(e);case"video10sView":return"VIDEO_10S_VIEW";case"quartile95PercentView":return"QUARTILE_95_PERCENT_VIEW";default:return S(e).toUpperCase()}if("AnalyticsDateAvailabilityMetricData"===t)switch(e){case"video10sViewReformatted":return"VIDEO_10S_VIEW";case"quartile95PercentViewReformatted":return"QUARTILE_95_PERCENT_VIEW";default:return S(e).toUpperCase()}if("ProductGroup"===t&&"coverImagesArray"===e)return"cover_images";switch(e){case"reactionCountsData":return"reaction_counts";case"videoDataV2":return"video";case"formattedCloseupDescription":return"formatted_description";case"annotationsWithLinksArray":return"annotations_with_links";default:return S(e)}},C=function(e,n){switch(e){case"reactionType":return"string"==typeof n?Number(n):n;case"campaignId":case"pinPromotionId":return"number"==typeof n?String(n):n;default:return n}},P=function(e,n,t){if("Video"===n&&"duration"===e){var r;return(null==t?void 0:t.duration)!=null?t.duration:null==(r=Object.values((null==t?void 0:t.video_list)||{}).find(function(e){return(null==e?void 0:e.duration)!=null}))?void 0:r.duration}if("__typename"===e)return null!=n?n:function(e){if(!e)return null;if("string"==typeof e.type)return(0,i.Dh)(e.type);if("number"==typeof e.block_type){var n=e.block_type.toString();return n in j?j[n]:null}return null}(t);if("AnalyticsSummaryMetricsData"===n&&t)switch(e){case"video10sView":case"video10sViewFloat":return t.VIDEO_10S_VIEW;case"quartile95PercentView":return t.QUARTILE_95_PERCENT_VIEW;default:var a=_(e.replace("Float",""),t).toUpperCase();return null==t?void 0:t[a]}if("MetricStatusesReformatted"===n&&t)switch(e){case"video10sView":return t.VIDEO_10S_VIEW;case"quartile95PercentView":return t.QUARTILE_95_PERCENT_VIEW;default:var o=_(e,t).toUpperCase();return null==t?void 0:t[o]}if("AnalyticsDeltaMetricData"===n&&t){var l=_(e,t).toUpperCase();return null==t?void 0:t[l]}return"ProductGroup"===n&&t&&"entityIdGraphql"===e?t.id:C(e,null==t?void 0:t[_(e,t)])},D=function(e){var n=e.untypedInput,t=e.concreteType;if(!n)return null;switch(a()("object"===f(n),"legacy data must be an object"),t){case"AnalyticsMetricSeriesTypeData":if(Array.isArray(n))return n;return Object.entries(n).map(function(e){var n=s(e,2);return{key:n[0],series:n[1]}});case"AnnotationsWithLinks":return Object.entries(n).map(function(e){var n=s(e,2),t=(n[0],n[1]);return{name:t.name,url:t.url}});case"MessageReactions":if(Array.isArray(n)&&n.length>0)return n.flatMap(function(e){return Object.keys(e).map(function(n){return{user_id:n,reaction_text:e[n]}})});return null;case"ReactionCountModel":return Object.entries(n).map(function(e){var n=s(e,2);return{reaction_type:n[0],reaction_count:n[1]}});case"PinThroughProperties":case"ThroughProperties":case"TrackingParamsMap":return Object.entries(n).map(function(e){var n=s(e,2);return{key:n[0],data:n[1]}});case"DescriptionSpecDetail":if(Array.isArray(n)){var r=[];return n.forEach(function(e){if(e)for(var n=Object.entries(e),t=0;t<n.length;t++){var a=n[t];r.push({key:a[0],value:a[1]})}}),r}return Object.entries(n).map(function(e){var n=s(e,2);return{key:n[0],value:n[1]}});default:if(Array.isArray(n))return n;return Object.entries(n).map(function(e){var n=s(e,2);return{key:n[0],value:n[1]}})}},O=function(e){var n=e.args,t=e.name,r=n.find(function(e){return e.name===t});return r&&"string"==typeof r.value?r.value:null},T=function(e,n,t,r){if("data"===e&&null==t)return r;var a,i=A(e,n,t);return null!=(a=null==r?void 0:r[i])?a:null==r?void 0:r[e]},w=function(e,n,t){var r,i=t.args,o=t.name,u=t.plural;if("PinTagChipImagesPerSpec"===n&&"image"===o)return null==e||null==(r=e.images)?void 0:r["750x"];var s=null==e?void 0:e[A(o,t.concreteType,n)];if("images"===o&&"Pin"===n&&!s){var d=l(e);d&&(s=d)}if(!s)return s;if("MultiPinShare"===n&&"pins"===o)return Array.isArray(s)?{kind:"pin_pins_connection_container",type:"PinPinsConnectionContainer",connection:{edges:s.map(function(e){return{node:e}})}}:null;if("collaboratingUsers"===o){var p=null==e?void 0:e.collaborating_users;return null==p?null:{kind:"user_collaborating_users_connection_container",connection:{edges:p.map(function(e){return{node:e}})}}}var y=O({args:null!=i?i:[],name:"spec"});if(y){if(a()("object"===f(s),"value must be an object"),L(n)){var g=s,m=g.dominant_color,v=g.images;if(!v)return v;a()("object"===f(v),"images must be an object");var h=v["orig"===y?"originals":y];return h&&m?c(c({},h),{},{dominant_color:m}):h}return u&&Array.isArray(s)?s.map(function(e){return e[y]}).filter(function(e){return null!=e}):s[y]}return s},x={HeadingBlock:"StoryPinHeadingBlock",IngredientBlock:"StoryPinIngredientBlock",InstantContentURLNavigateAction:"InstantContentActionUrlNavigate",InstantContentHeaderBlock:"InstantContentHeader",InstantContentParagraphBlock:"InstantContentParagraph",InstantContentTextBlock:"InstantContentText",InstantContentHeadingBlock:"InstantContentHeading",InstantContentImageBlock:"InstantContentImage",InstantContentVideoBlock:"InstantContentVideo",InstantContentTableBlock:"InstantContentTable",InstantContentGroupBlock:"InstantContentGroup",InstantContentOrderedListBlock:"InstantContentOrderedList",InstantContentUnorderedListBlock:"InstantContentUnorderedList",InstantContentSectionBlock:"InstantContentSection",InstantContentSeparatorBlock:"InstantContentSeparator",InstantContentUserBlock:"InstantContentUser",InstantContentWebBlock:"InstantContentWeb",InstantContentPromotedWebBlock:"InstantContentPromotedWeb",LinkBlock:"StoryPinLinkBlock",ParagraphBlock:"StoryPinParagraphBlock",SupplyBlock:"StoryPinSupplyBlock",TextBlock:"StoryPinTextBlock",DescriptionString:"FormattedDescriptionParagraphComponent",DescriptionHeader:"FormattedDescriptionHeaderComponent",DescriptionPoints:"FormattedDescriptionPointsComponent",DescriptionStringBold:"FormattedDescriptionBoldComponent",DescriptionTable:"FormattedDescriptionTableComponent",DescriptionSpecs:"FormattedDescriptionSpecsComponent",RichPinProductMetadata:"RichProductMetadata",ConversationMessage:"Message"},H={tempmessage:"message"},F=["article","board","pin","story"],R=function(e){return"schema"in e&&"string"==typeof e.schema&&F.includes(e.schema)},V=function(e,n){var t,r;return(null!=(t=x[e])?t:e).toLowerCase()===(null!=(r=H[n])?r:n)},j={0:"StoryPinParagraphBlock",1:"StoryPinHeadingBlock",2:"StoryPinImageBlock",3:"StoryPinVideoBlock",4:"StoryPinLinkBlock",5:"StoryPinIngredientBlock",6:"StoryPinSupplyBlock",7:"StoryPinListBlock",8:"StoryPinKeyValueBlock",9:"StoryPinTextBlock",11:"StoryPinMusicBlock",12:"StoryPinMentionStickerBlock",13:"StoryPinProductStickerBlock",14:"StoryPinStaticStickerBlock",15:"StoryPinAnimatedStickerBlock",16:"StoryPinCommentReplyBlock",17:"StoryPinVirtualTryOnMakeupStickerBlock",18:"StoryPinAdBlock",19:"StoryPinGenericInteractiveStickerBlock"},B=/_/g,M=function(e){if("schema"in e&&"string"==typeof e.schema)return e.schema.toLowerCase();if("string"==typeof e.type)return e.type.replace(B,"").toLowerCase();if("number"==typeof e.block_type){var n=e.block_type.toString();return n in j?j[n].toLowerCase():void 0}}},392746(e,n,t){t.d(n,{A:function(){return function e(n,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d={};return!function n(t,s,d,p){var y=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=e.map(function(e){return"RequiredField"===e.kind?e.field:e}),r=c(t.reduce(function(e,n){return"InlineFragment"===n.kind?e[0].push(n):e[1].push(n),e},[[],[]]),2),a=r[0],i=r[1];if(1===a.length){var o=c(f(i),2),l=o[0];if(0===o[1].length){var s=c(f(a[0].selections),2),d=s[0],p=s[1],y=[].concat(u(l),u(d));return 0===y.length?{kind:"Uncategorized"}:{kind:"InlineFragmentWithTypename",typenameAliases:y,selections:p,concreteType:a[0].type,remainingPathCount:n}}}else if(1===t.length&&(null==(_=t[0])?void 0:_.kind)==="Condition"){var g=t[0];if(!g||"Condition"!==g.kind)throw Error("Error on @skip/@include directive");return{kind:"OnlyConditionWrapper",selections:g.selections,remainingPathCount:n}}else if(1===t.length&&"LinkedField"===t[0].kind){var m=t[0],v=null!=(L=m.concreteType)?L:null;if(m.plural){var h=c(f(m.selections),2),b=h[0],I=h[1];if(I.length>0&&I.every(function(e){return"FragmentSpread"===e.kind}))return{kind:"PluralLinkedFieldWithFragmentSpread",name:m.name,concreteType:v,typenameAliases:b,selections:I};if(1!==n)return{kind:"Uncategorized"}}if(null==v)return{kind:"OnlyLinkedFieldAndTypename",selections:m.selections,name:m.name,concreteTypeAndAliases:null,remainingPathCount:null==n?null:n-1};var S=c(f(m.selections),2),E=S[0],k=S[1];if(1===n){var _,L,A,C,P=null!=(A=m.alias)?A:m.name,D=function(e){if(0===e.length||e.length>2||e.some(function(e){return"LinkedField"!==e.kind}))throw Error("Unexpected selections");var n=e.reduce(function(e,n){if("pageInfo"===n.name){if(null!==e.pageInfoSelection)throw Error("Expected only one pageInfo selection");e.pageInfoSelection=n}else{if(null!==e.edgeSelection)throw Error("Expected only one edge selection");e.edgeSelection=n}return e},{pageInfoSelection:null,edgeSelection:null});if(n.edgeSelection&&!n.edgeSelection.selections.find(function(e){return"node"===e.name}))throw Error("Expected to find a node field inside of edges");return{pageInfoSelection:n.pageInfoSelection,edgeSelection:n.edgeSelection}}(k),O=D.pageInfoSelection,T=D.edgeSelection;if(null===T)throw Error("No edges found in connection field");var w=null!=(C=T.alias)?C:T.name,x=m.concreteType;if(null==x&&E.length>0)throw Error("No concrete type found in connection field, so we cannot have __typename");var H=null!=x?{concreteType:x,typenameAliases:E}:null;return{kind:"ConnectionFieldAndTypename",selections:T.selections.filter(function(e){return"ScalarField"!==e.kind||"cursor"!==e.name}),pageInfoSelection:O,nameOrAliasOfEdgesField:w,nameOrAliasOfConnectionField:P,concreteTypeAndAliases:H}}return{kind:"OnlyLinkedFieldAndTypename",selections:k,name:m.name,concreteTypeAndAliases:{concreteType:v,typenameAliases:E},remainingPathCount:null==n?null:n-1}}else if(t.length>0&&t.every(function(e){return"FragmentSpread"===e.kind}))return{kind:"OnlyFragmentSpread"};return{kind:"Uncategorized"}}(t,p);switch(y.kind){case"OnlyConditionWrapper":n(y.selections,s,d,y.remainingPathCount);break;case"InlineFragmentWithTypename":var g=y.concreteType,m=y.typenameAliases,v=y.selections,h=y.remainingPathCount;m.forEach(function(e){return s[e]=g}),n(v,s,d,h);break;case"OnlyFragmentSpread":(0,i.LI)(s,d);break;case"OnlyLinkedFieldAndTypename":var b=y.name,I=y.selections,S=y.concreteTypeAndAliases,E=y.remainingPathCount,k={};if(s[b]=k,S&&S.typenameAliases.length>0){var _,L=S.concreteType,A=l(S.typenameAliases);try{for(A.s();!(_=A.n()).done;)k[_.value]=L}catch(e){A.e(e)}finally{A.f()}}n(I,k,d,E);break;case"ConnectionFieldAndTypename":var C=y.nameOrAliasOfEdgesField,P=y.nameOrAliasOfConnectionField,D=y.pageInfoSelection,O=y.selections,T=y.concreteTypeAndAliases;if("PaginationLegacyData"!==d.kind)throw Error("Error, expected a PaginationLegacyData kind for this query");var w=(H={},F=C,R=d.paginationLegacyData.map(function(n){return e(O,{kind:"LegacyData",refetchInfo:d.refetchInfo,paginationInfo:d.paginationInfo,singularLegacyData:n})}),(x=function(e,n){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(F,"string"),(F="symbol"==o(x)?x:x+"")in H)?Object.defineProperty(H,F,{value:R,enumerable:!0,configurable:!0,writable:!0}):H[F]=R,H);if(D&&d.paginationInfo&&(w[null!=(V=D.alias)?V:D.name]=null),null!=T){var x,H,F,R,V,j,B=T.concreteType,M=l(T.typenameAliases);try{for(M.s();!(j=M.n()).done;)w[j.value]=B}catch(e){M.e(e)}finally{M.f()}}s[P]=w;break;case"PluralLinkedFieldWithFragmentSpread":var N,U=y.name,W=y.concreteType,G=y.typenameAliases;if("LegacyData"!==d.kind)throw Error("Expected LegacyData for PluralLinkedFieldWithFragmentSpread");var Q=d.singularLegacyData,z=d.refetchInfo,$=d.paginationInfo,q=(0,a.zw)(U,W,null,Q),K=(0,a.h6)({untypedInput:q,concreteType:W}),X=null!=(N=null==K?void 0:K.map(function(e){var n={};if(W&&G.length>0){var t,r=l(G);try{for(r.s();!(t=r.n()).done;)n[t.value]=W}catch(e){r.e(e)}finally{r.f()}}return(0,i.LI)(n,{kind:"LegacyData",singularLegacyData:e,refetchInfo:z,paginationInfo:$}),n}))?N:[];s[U]=X;break;case"Uncategorized":throw Error("The query passed to useLazyLoadQueryOrLegacy contained unsupported/uncategorized elements. Please simplify the query.");default:(0,r.A)(y,"Unexpected category")}}(n,d,t,s),d}}});var r=t(37477),a=t(429194),i=t(752788);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=s(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){l=!0,i=e},f:function(){try{o||null==t.return||t.return()}finally{if(l)throw i}}}}function u(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i,o,l=[],u=!0,c=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=i.call(t)).done)&&(l.push(r.value),l.length!==n);u=!0);}catch(e){c=!0,a=e}finally{try{if(!u&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(c)throw a}}return l}}(e,n)||s(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,n){if(e){if("string"==typeof e)return d(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,n):void 0}}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function f(e){return e.reduce(function(e,n){if("ScalarField"===n.kind&&"__typename"===n.name){var t;e[0].push(null!=(t=n.alias)?t:n.name)}else e[1].push(n);return e},[[],[]])}},788047(e,n,t){t.d(n,{n:function(){return a},z:function(){return i}});var r=t(752788);function a(e){if(Array.isArray(e)){var n=e[0];if(null==n)return{kind:"PluralLegacy",data:[],paginationInfo:null,refetchInfo:null};if(null!=n.__fragments)return{kind:"GraphQL",data:e};var t=(0,r.s8)(n);if(null!=t)return{kind:"PluralLegacy",data:e.map(function(e){var n=(0,r.Me)(e);if("LegacyData"===n.kind)return n.singularLegacyData;throw Error("Unexpected plural object")}),paginationInfo:t.paginationInfo,refetchInfo:t.refetchInfo};throw Error("Expected either __fragments or [legacyDataSymbol]")}var a=(0,r.s8)(e);if(null!=a&&"LegacyData"===a.kind)return{kind:"SingularLegacy",data:a.singularLegacyData,refetchInfo:a.refetchInfo,paginationInfo:a.paginationInfo};if(e.__fragments)return{kind:"GraphQL",data:e};if("GraphQL"===e.type)return{kind:"GraphQL",data:e.data};if("Legacy"===e.type){var i=e.data;return Array.isArray(i)?{kind:"PluralLegacy",data:i,refetchInfo:null,paginationInfo:null}:{kind:"SingularLegacy",data:i,refetchInfo:null,paginationInfo:null}}if(null!=a&&"PaginationLegacyData"===a.kind)return{kind:"PaginationLegacyData",paginationLegacyData:a.paginationLegacyData,refetchInfo:a.refetchInfo,paginationInfo:a.paginationInfo};throw Error("Invalid value")}function i(e){return a(e).kind}},752788(e,n,t){t.d(n,{LI:function(){return o},Me:function(){return i},s8:function(){return a}});var r=Symbol("legacyData");function a(e){return e[r]}function i(e){return e[r]}function o(e,n){return e[r]=n,e}},634550(e,n,t){t.d(n,{$E:function(){return c},$Z:function(){return u},A:function(){return o},Dh:function(){return d},sk:function(){return l}});var r=t(157203),a=t(467780),i=t(991224),o=function(){var e=(0,a._8)().isAuthenticated,n=(0,i.qJ)();return(0,r.useMemo)(function(){return{isAuth:!!e,isDesktop:n}},[e,n])},l={" $fragmentSpreads":void 0," $fragmentType":void 0};function u(e){var n=e.isAuthParam,t=e.isDesktop,r=e.authDesktopQuery,a=e.authMobileQuery,i=e.unauthDesktopQuery,o=e.unauthMobileQuery;return n?t?r:a:t?i:o}function c(e){var n=e.isAuthParam,t=e.isDesktop,r=e.authDesktopFragment,a=e.authMobileFragment,i=e.unauthDesktopFragment,o=e.unauthMobileFragment;return n?t?r:a:t?i:o}var s=/(?:^|_)([a-z])/g;function d(e){return e.replace(s,function(e,n){return n.toUpperCase()})}},133989(e,n,t){var r=t(157203),a=t(617675),i=t(392746),o=t(634550),l=t(805454);n.A=function(e){var n=e.fragment,t=e.dataKey,u=e.validateSingularLegacy,c=e.getDataFromRedux,s=(0,o.A)(),d=(0,l.A)().checkExperiment("web_auto_legacy_adapter_intercepted_entities").anyEnabled;return(0,r.useMemo)(function(){if((null==t?void 0:t.kind)==="SingularLegacy"&&u(t)){var e=t.data,r=t.refetchInfo,o=t.paginationInfo;return[(0,a.A)({conditionContext:s,fragment:n,legacyData:e,paginationInfo:o,refetchInfo:r,getDataFromRedux:c,interceptedEntities:[],isInterceptedEntitiesExperimentEnabled:d})]}if((null==t?void 0:t.kind)==="PluralLegacy"){var l=t.data,f=t.refetchInfo,p=t.paginationInfo,y=[],g=[];return l.forEach(function(e){var t=(0,a.A)({conditionContext:s,fragment:n,legacyData:e,paginationInfo:p,refetchInfo:f,getDataFromRedux:c,interceptedEntities:g,isInterceptedEntitiesExperimentEnabled:d});null==y||y.push(t)}),y}if((null==t?void 0:t.kind)==="PaginationLegacyData"){var m,v,h=null!=(m=null==n||null==(v=n.metadata)||null==(v=v.connection)||null==(v=v[0])||null==(v=v.path)?void 0:v.length)?m:null;return[(0,i.A)(n.selections,t,h)]}return null},[(null==t?void 0:t.kind)==="PaginationLegacyData"?t.paginationLegacyData:null==t?void 0:t.data])}},822157(e,n,t){t.d(n,{A:function(){return a}});var r=t(157203);function a(e,n){var t=(0,r.useRef)(null);if(null!=e){if(null==t.current)t.current=e;else if(t.current!==e)throw Error("".concat(n(),": reference type mismatch: expected ").concat(t.current,", but received ").concat(e,"."))}}},816858(e,n,t){t.d(n,{A:function(){return v}});var r=t(847753),a=t(832861),i=t(37477),o=t(822157),l=t(788047),u=t(133989),c=t(118682),s=function(e,n){var t=(0,c.A)().getDataFromRedux,r=(0,a.getFragment)(e),i=n?(0,l.n)(n):null;if((null==i?void 0:i.kind)==="GraphQL")return{dataKey:i,autoLegacyAdapterData:null};var o=(0,u.A)({fragment:r,dataKey:i,validateSingularLegacy:function(){return!0},getDataFromRedux:t});return i?{dataKey:i,autoLegacyAdapterData:o}:null},d=t(157203),f=t(307268),p=t(805454),y=t(876808),g=function(){},m=function(){var e=(0,y.AJ)(),n=(0,f.Ve)().setRmaData,t=(0,p.A)().checkExperiment,r=(0,d.useCallback)(function(t,r,i,o){var l=performance.now()-r,u=(0,a.getFragment)(t),c=i&&"id"in i&&"string"==typeof i.id?i.id:null;c&&n({id:c,path:e,fragmentName:u.name,executionTime:l,newData:o})},[e,n]);return(0,f.IK)(e)&&t("web_render_performance_rma").anyEnabled?r:g},v=function(e,n){var t,l,u=performance.now(),c=m(),d=(0,a.getFragment)(e),f=s(e,n);if((0,o.A)(null==f?void 0:f.dataKey.kind,function(){return d.name}),null==f)return null;var p=f.dataKey,y=f.autoLegacyAdapterData;switch(p.kind){case"SingularLegacy":return c(e,u,p.data,null==y?void 0:y[0]),null==y?void 0:y[0];case"PluralLegacy":return c(e,u,p.data,y),y;case"GraphQL":return(0,r.useFragment)(e,p.data);case"PaginationLegacyData":if(Array.isArray(n))throw Error("Unexpected Plural fragment");if(null!=(null!=(t=null==d||null==(l=d.metadata)||null==(l=l.connection)||null==(l=l[0])||null==(l=l.path)?void 0:l.length)?t:null))throw Error("Unexpected fragment containing a @connection directive. You should read this fragment with usePaginationFragmentOrLegacy instead.");return null==y?void 0:y[0];default:return(0,i.A)(p,"Unexpected case")}}},118682(e,n,t){t.d(n,{A:function(){return i}});var r=t(157203),a=t(106386);function i(){var e,n=(0,r.use)(a.ty),t=null==n||null==(e=n.store)?void 0:e.getState();return{getDataFromRedux:(0,r.useCallback)(function(e,n){var r,a,i,o,l=null;switch(n){case"pin":l=null==t||null==(r=t.pins)?void 0:r[e];break;case"story":l=null==t||null==(a=t.stories)?void 0:a[e];break;case"board":l=null==t||null==(i=t.boards)?void 0:i[e];break;case"article":case"explorearticle":case"todayarticle":l=null==t||null==(o=t.articles)?void 0:o[e];break;default:l=null}return l?{kind:"Intercepted",data:l}:{kind:"NotIntercepted"}},[t])}}}}]);