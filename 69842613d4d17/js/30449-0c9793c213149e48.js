"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["30449"],{61675(e,t,n){var r=n(157203),o=n(460657),i=n(35845),s=n(879667);t.A=function(e){var t=e.animationData,n=(0,i.A)({animationData:t,loop:!0,autoplay:!0}).animationContainerRef;return(0,r.useMemo)(function(){return(0,s.jsx)(o.az,{ref:n,"data-testid":"lottie-header-icon",height:"100%",left:!0,position:"absolute",top:!0,width:"100%"})},[n])||null}},745730(e,t,n){n.d(t,{E4:function(){return l},GF:function(){return u},Y7:function(){return a},sE:function(){return s},xE:function(){return c}});var r=n(52715),o=n(752411),i=n(563517),s=function(e,t){return t.some(function(t){return e&1<<t})},l=function(e){var t=e.lastUpdatedAt,n=(0,i.A)(),o=new Date(t);return new Date().getTime()-o.getTime()>r.Wm&&o.setHours(0,0,0,0)," ".concat(n(o,!0))};function a(e,t){return(0,o.A)({url:"/v3/news_hub/{news_id}/fatigue/{interest_id}/",urlParams:{news_id:e,interest_id:t},method:"POST"})}function c(e,t){return(0,o.A)({url:"/v3/news_hub/{news_id}/fatigue/{interest_id}/",urlParams:{news_id:e,interest_id:t},method:"DELETE"})}function u(e,t){return(0,o.A)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[e],should_hide:t}})}},722078(e,t,n){n.d(t,{A:function(){return r}});function r(e,t){var n=new Date,r=new Date(e);return n.getTime()-r.getTime()>864e5&&r.setHours(0,0,0,0),t(r.toString(),!0)}},330435(e,t,n){n.d(t,{A:function(){return g}});var r=n(157203),o=n(186122),i=n(837855),s=n(893984),l=n(863908),a=n(879667);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(f=function(){return!!e})()}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}var m=(0,s.A)()&&(0,s.A)().debug_impression_log,v={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061}};function g(e){var t=function(t){var n;function r(){var e,t,n;if(!(this instanceof r))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=r,n=[].concat(i),t=p(t),b(e=function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,f()?Reflect.construct(t,n||[],p(this).constructor):t.apply(this,n)),"currentNs",function(){return 1e6*Date.now()}),b(e,"startTime",0),b(e,"debugPinImpressions",m&&"Pin"===e.props.impressionType&&e.props.viewer.isAuth&&e.props.viewer.isEmployee),b(e,"handleVisibilityChanged",function(t){var n=e.props,r=n.componentType,o=n.contextLogData,i=n.impressionAuxFields,s=n.impressionType,l=n.loggingId,a=n.slotIndex,c=n.viewParameter,u=n.viewType,f=n.viewData,p=n.logContextEvent;if(t)e.startTime=e.currentNs(),e.debugPinImpressions&&console.log(a+" started timer");else{var h=v[s],y=h.idType,m=e.currentNs(),g=d(b(b(b(b({endTime:m},y,l),"slotIndex",a),"time",e.startTime),"renderDuration",m-e.startTime),i);p({event_type:h.eventType,component:r,event_data:b({},h.impressionType,[g]),view_type:u,view_parameter:c,view_data:f,aux_data:d({},o)}),e.debugPinImpressions&&console.log(a+" logged for "+(m-e.startTime)/1e9+"s")}}),e}if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");return r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&h(r,t),n=[{key:"render",value:function(){return(0,a.jsx)(l.A,d(d({onVisibilityChanged:this.handleVisibilityChanged},this.props),{},{children:(0,a.jsx)(e,d({},this.props))}))}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}(r.prototype,n),Object.defineProperty(r,"prototype",{writable:!1}),r}(r.Component);return function(e){var n=(0,o.o)().logContextEvent,r=(0,i.A)();return(0,a.jsx)(t,d(d({},e),{},{logContextEvent:n,viewer:r}))}}},644126(e,t,n){function r(e){return e===window?window.innerHeight:e.clientHeight}function o(){return void 0!==window.scrollY?window.scrollY:document.documentElement&&void 0!==document.documentElement.scrollTop?document.documentElement.scrollTop:0}function i(e){return e===window&&document.documentElement?document.documentElement.scrollHeight:e.scrollHeight}function s(e){return e===window?o():e.scrollTop}function l(){window&&window.scroll(0,0)}n.d(t,{Hj:function(){return i},UI:function(){return r},ct:function(){return o},iR:function(){return l},qM:function(){return s}})},55433(e,t,n){n.d(t,{A:function(){return r}});function r(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},863908(e,t,n){n.d(t,{A:function(){return c}});var r=n(460657),o=n(849942),i=n(879667);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["onVisibilityChanged","children"];function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){var t=e.onVisibilityChanged,n=e.children,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),u=(0,o.A)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({onVisibilityChanged:t},c));return(0,i.jsx)(r.az,{ref:u,children:n})}},849942(e,t,n){n.d(t,{A:function(){return c}});var r=n(157203),o=new Map,i=null,s=function(e){e.forEach(function(e){var t=o.get(e.target);t&&t(e)})},l=function(e){i.unobserve(e),o.delete(e)},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-64px 0px 0px 0px",n=arguments.length>2?arguments[2]:void 0,r={root:"u"<typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};i=i||new window.IntersectionObserver(s,r),o.set(e,n),i.observe(e)};function c(e){var t=e.onVisibilityChanged,n=e.trackFullVisible,i=e.rootMargin,s=(0,r.useRef)(null),c=!1,u=function(e){(c=e.intersectionRatio>0||e.isIntersecting)&&t(!0)},d=function(){var e;s.current instanceof HTMLElement&&(e=s.current,o.has(e))&&c&&(t(!1),c=!1)},f=(0,r.useCallback)(function(e){s.current instanceof HTMLElement&&a(s.current,e,function(e){if(o.has(s.current)){var t=n?e.intersectionRatio>=1:e.intersectionRatio>=.5,r=n?0===e.intersectionRatio:!t;!c&&t?u(e):c&&r&&d()}})},[s.current]);return(0,r.useEffect)(function(){return f(i),function(){s.current instanceof HTMLElement&&(d(),l(s.current))}},[f]),s}},199271(e,t,n){n.d(t,{AB:function(){return f},Ib:function(){return s},QJ:function(){return l},ZD:function(){return c},c0:function(){return i},gH:function(){return u},pY:function(){return d},s6:function(){return a}});var r=n(460657),o=new r.rk(999),i=new r.K5([o]),s=new r.K5([o]),l=new r.K5([o]),a=new r.rk(20),c=new r.rk(20),u="324px",d="328px",f=function(e){return function(){e({event_type:101,view_type:412,element:13562})}};t.Ay={setSterlingBodyStyles:function(){var e="allWhitePage",t="slimWidth";if(document.documentElement&&(document.documentElement.className+=" ".concat(e)),document.body){document.body.classList.contains(e)||document.body.classList.add(e);var n=document.querySelector(".AppSterling");n&&(n.classList.contains(e)||n.classList.add(e),n.classList.contains(t)||n.classList.add(t))}},MODAL_Z_INDEX:9999,BULK_EDITOR_HISTORY_Z_INDEX:9998,SIDEBAR_Z_INDEX:500,BULK_HEADER_HEIGHT_OFFSET:145,BULK_HEADER_Z_INDEX:2,BILLING_HEADER_HEIGHT_OFFSET:145,ANALYTICS_HELP_BUTTON_ZINDEX:10,STERLING_HEADER_HEIGHT_OFFSET:100,MAX_SIDEBAR_HEIGHT:1500,CONTACT_SALES_BUTTON_ZINDEX:700,BUTTON_TOOLTIP_Z_INDEX:650,SHEET_Z_INDEX:999}},630024(e,t,n){n.r(t),n.d(t,{default:function(){return e5}});var r=n(157203),o=n(460657),i=n(186122),s=n(370714),l=n(575406),a=n(467780),c=n(264493);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e){var t={padding:"23px 0"};return e?f(f({},t),{},{borderTopLeftRadius:16,borderTopRightRadius:16,boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}):t}var h=n(620162),b=n(748255),y=n(422230),m=n(102335),v=n(671034),g=n(799632),_=n(292961),w=n(286040),j=n(848450),O=n(199271),S=n(330435),x=n(61675),P=n(690870),I=n(906938),E=n(449854),A=n(879667);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==T(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function N(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=Object.create((r&&r.prototype instanceof l?r:l).prototype);return L(a,"_invoke",function(n,r,o){var i,l,a,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,a=e,f.n=n,s}};function p(n,r){for(l=n,a=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(a=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,l=0))}if(o||n>1)return s;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),l=u,a=h;(t=l<2?e:a)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,a)):f.n=a:f.v=a);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?a:n.call(r,f))!==s)break}catch(t){i=e,l=1,a=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),a}var s={};function l(){}function a(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(L(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,L(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return a.prototype=c,L(u,"constructor",c),L(c,"constructor",a),a.displayName="GeneratorFunction",L(c,o,"GeneratorFunction"),L(u),L(u,o,"Generator"),L(u,r,function(){return this}),L(u,"toString",function(){return"[object Generator]"}),(N=function(){return{w:i,m:d}})()}function L(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(L=function(e,t,n,r){function i(t,n){L(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function R(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function D(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){R(i,r,o,s,l,"next",e)}function l(e){R(i,r,o,s,l,"throw",e)}s(void 0)})}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var t,n,i=e.i18n,s=e.headerIconImageUrl,l=e.headerIconObjects,a=void 0===l?[]:l,u=e.headerSmallOverlayIconUrl,d=e.headerSmallOverlayIconUrlDark,f=(0,P.D2)().isDarkMode,p=c.Vn,h=c.BY,b=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,l=[],a=!0,c=!1;try{for(i=(n=n.call(e)).next;!(a=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return k(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),y=b[0],m=b[1],v=s&&".json"===s.slice(-5).toLowerCase(),g=(n=D(N().m(function e(t){var n;return N().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,fetch(t);case 1:return n=e.v,e.n=2,n.json();case 2:return e.a(2,e.v);case 3:return e.p=3,e.v,e.a(2,null)}},e,null,[[0,3]])})),function(e){return n.apply(this,arguments)});(0,r.useEffect)(function(){var e;(e=D(N().m(function e(){return N().w(function(e){for(;;)switch(e.n){case 0:if(!(v&&!y)){e.n=2;break}return e.n=1,g(s);case 1:m(e.v);case 2:return e.a(2)}},e)})),function(){return e.apply(this,arguments)})()},[v,y,s]);var _=(0,r.useMemo)(function(){return y?(0,A.jsx)(x.A,{animationData:y}):(0,A.jsx)(o.y$,{accessibilityLabel:"Loading",show:!0,size:"sm"})},[y]);if(s){var w=v?c.mK:h,j=v?c.$N:h;return(0,A.jsx)(o.az,{height:w,width:j,children:(0,A.jsx)(o.n1,{height:w,rounding:v?200:"circle",width:j,children:v?(0,A.jsx)(o.az,{"data-test-id":"lottie-icon",children:_}):(0,A.jsx)(o.az,{"data-test-id":"header-icon-image",height:w,width:j,children:(0,A.jsx)(o._V,{alt:i._('Pinterest recommendation', 'label for notification with recommended content', 'label for notification with recommended content'),color:"#fff",fit:"cover",naturalHeight:h,naturalWidth:h,src:s})})})})}if(0===a.length||void 0===a[0])return null;var O=f?d:u,S=O?(0,A.jsx)(o.az,{bottom:!0,"data-test-id":"notification-item-icon-overlay",marginBottom:-1,marginEnd:-1,position:"absolute",right:!0,children:(0,A.jsx)(o.n1,{height:c.lO,rounding:c.nn,wash:!0,width:c.lO,children:(0,A.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:c.lO,naturalWidth:c.lO,src:O})})}):null,T=a[0].type;if(T===c.ZJ.PIN){var z=a[0],C=z.images[c.sk],L=c.mK,R=c.$N;return C&&C.url&&(0,A.jsxs)(o.az,{height:L,position:"relative",width:R,children:[(0,A.jsx)(o.n1,{height:L,rounding:c.nn,wash:!0,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:R,children:(0,A.jsx)(o.iX,{contentAspectRatio:C.width/C.height,height:L,width:R,children:(0,A.jsx)(o._V,{alt:z.description,naturalHeight:L,naturalWidth:R,src:C.url})})})}),S]})}if(T===c.ZJ.BOARD){var H=a[0].image_cover_url;return(0,A.jsx)(o.az,{height:h,width:h,children:(0,A.jsx)(o.n1,{height:h,rounding:c.nn,wash:!0,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:h,children:(0,A.jsx)(o.iX,{contentAspectRatio:1,height:h,width:h,children:(0,A.jsx)(E.A,{height:h,imgPos:{width:0,height:0,x:0,y:0},imgUrl:H,width:h})})})})})}if(T===c.ZJ.SEARCH){var U=a[0],B=Array.isArray(U.images)&&U.images[0]?U.images[0]:"";return(0,A.jsx)(o.az,{height:h,width:h,children:(0,A.jsx)(o.n1,{height:h,rounding:c.nn,wash:!0,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:h,children:(0,A.jsx)(o.iX,{contentAspectRatio:1,height:h,width:h,children:(0,A.jsx)(E.A,{height:h,imgPos:{width:0,height:0,x:0,y:0},imgUrl:B,width:h})})})})})}if(T===c.ZJ.USER)if(a.length>1&&void 0!==a[1]){var M=a[0],F=a[1];return(0,A.jsx)(o.az,{height:h,width:h,children:(0,A.jsxs)(o.az,{height:h,position:"relative",width:h,children:[(0,A.jsx)(o.az,{display:"flex",height:p,left:!0,position:"absolute",top:!0,width:p,children:(0,A.jsx)(I.eu,{name:M.full_name,outline:!0,src:M.image_large_url})}),(0,A.jsx)(o.az,{bottom:!0,display:"flex",height:p,position:"absolute",right:!0,width:p,children:(0,A.jsx)(I.eu,{name:F.full_name,outline:!0,src:F.image_large_url})})]})})}else{var W=a[0];return(0,A.jsx)(o.az,{height:h,position:"relative",width:h,children:(0,A.jsxs)(o.so,{alignItems:"stretch",justifyContent:"between",width:h,children:[(0,A.jsx)(I.eu,{name:W.full_name,src:W.image_large_url}),S]})})}return null}function U(e){var t=(0,s.A)();return(0,A.jsx)(H,C(C({},e),{},{i18n:t}))}var B=n(722078),M=n(752411),F=n(837855),W=n(563517),G=n(745730),V=n(106910),J=n(805261),Z=n(105920),K=n(427824),Y=n(55433),X=n(778443),$=n(361268),Q=n(615300),q=n(481989),ee=n(237704);function et(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var a=Object.create((r&&r.prototype instanceof l?r:l).prototype);return en(a,"_invoke",function(n,r,o){var i,l,a,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,a=e,f.n=n,s}};function p(n,r){for(l=n,a=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,h=i[2];n>3?(o=h===r)&&(a=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<h&&(o=n<3||i[0]>r||r>h)&&(i[4]=n,i[5]=r,f.n=h,l=0))}if(o||n>1)return s;throw d=!0,r}return function(o,u,h){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,h),l=u,a=h;(t=l<2?e:a)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,a)):f.n=a:f.v=a);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,a)))throw TypeError("iterator result is not an object");if(!t.done)return t;a=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(a=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?a:n.call(r,f))!==s)break}catch(t){i=e,l=1,a=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),a}var s={};function l(){}function a(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(en(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,en(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return a.prototype=c,en(u,"constructor",c),en(c,"constructor",a),a.displayName="GeneratorFunction",en(c,o,"GeneratorFunction"),en(u),en(u,o,"Generator"),en(u,r,function(){return this}),en(u,"toString",function(){return"[object Generator]"}),(et=function(){return{w:i,m:d}})()}function en(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(en=function(e,t,n,r){function i(t,n){en(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function er(e,t,n,r,o,i,s){try{var l=e[i](s),a=l.value}catch(e){return void n(e)}l.done?t(a):Promise.resolve(a).then(r,o)}function eo(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function s(e){er(i,r,o,s,l,"next",e)}function l(e){er(i,r,o,s,l,"throw",e)}s(void 0)})}}function ei(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,l=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var el={UNFOLLOWED_USER:"unfollowedUser",UNFOLLOWED_PIN:"unfollowedPin",FOLLOWED_USER:"followedUser",FOLLOWED_PIN:"followedPin",ACTION_FAILED:"actionFailed"};function ea(e){var t,n,l,a,u,d,f,p,h,b,y,m,v=e.handleClick,g=e.handleEnterEllipsis,_=e.handleExitEllipsis,w=e.handleObjectSubscriptionById,j=e.isMouseOverEllipsis,O=e.newsId,S=e.newsType,x=e.subscribableObjects,P=e.subscribedToObjectIdMap,I=e.textMapping,E=(0,i.o)().logContextEvent,T=(0,ee.C3)().updateNewsIdToHiddenNews,z=(0,s.A)(),C=(0,r.useRef)(null),N=x?x[0]:null,L=null!=(b=null==N?void 0:N.id)?b:0,R=null!=(y=null==N?void 0:N.type)?y:"",D=null!=(m=null==N?void 0:N.full_name)?m:"",k=(0,q.CG)(),H=k.showToast,U=k.showOneToast,B=ei((0,r.useState)(!1),2),F=B[0],W=B[1],V=ei((0,r.useState)(!1),2),J=V[0],Z=V[1],K=ei((0,r.useState)(P[L]),2),Y=K[0],en=K[1],er=!!N,es="".concat(c.I4,"_").concat(O),ea={unfollowedUser:(0,Q.A)(z._('You will no longer receive notifications about {{user_name}}.', 'unfollwedUser.toast', 'Unfollowed a user'),{user_name:D}),unfollowedPin:z._('You will no longer receive notifications about this Pin.', 'unfollwedPin.toast', 'Unfollowed a pim'),followedUser:(0,Q.A)(z._('You will now receive notifications about {{user_name}}.', 'followedUser.toast', 'Followed a user'),{user_name:D}),followedPin:z._('You will now receive notifications about this Pin.', 'follwedPin.toast', 'Followed a pim'),actionFailed:z._('Action could not be performed', 'notPerformed.toast', 'action could not be performed')},ec={unfollowedUser:(0,Q.A)(z._('Turn off updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn off updates from a user, user_name: user_name of the followed user'),{user_name:D}),unfollowedPin:z._('Turn off updates from this Pin', 'NewsListItem.UnfollowPin.Flyout', 'Unfollow a pin'),followedUser:(0,Q.A)(z._('Turn on updates from {{ user_name }}', 'NewsListItem.UnfollowUser.Flyout', 'Turn on updates from a user, user_name: user_name of the followed user'),{user_name:D}),followedPin:z._('Turn on updates from this Pin', 'NewsListItem.FollowPin.Flyout', 'Follow a pin'),actionFailed:""};(0,r.useEffect)(function(){J&&v()},[J]),(0,r.useEffect)(function(){L&&en(P[L])},[P[L]]);var eu=function(e){var t=z._('Action could not be performed', 'notPerformed.toast', 'action could not be performed');Object.values(el).includes(e)&&(t=ea[e]),H(function(e){var n=e.hideToast;return(0,A.jsx)(X.A,{duration:c.bn,onHide:n,text:t})})},ed=function(e,t){var n=el.UNFOLLOWED_USER,r=el.UNFOLLOWED_PIN,o=el.FOLLOWED_USER,i=el.FOLLOWED_PIN,s=el.ACTION_FAILED,l=c.ZJ.USER,a=c.ZJ.PIN;return e&&t===l?n:e||t!==l?e&&t===a?r:e||t!==a?s:i:o},ef=(l=eo(et().m(function e(){var t,n,r;return et().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,M.A)({url:"/v3/settings/notifications/objects/",method:"POST",data:{object_ids_to_unsubscribe:Y?L:null,object_ids_to_resubscribe:Y?null:L}});case 1:n=(t=e.v.resource_response).error,r=t.data,n||w(L,r[L]),eu(ed(!!Y,R)),e.n=3;break;case 2:e.p=2,eu(e.v);case 3:return e.a(2)}},e,null,[[0,2]])})),function(){return l.apply(this,arguments)}),ep=(a=eo(et().m(function e(t){return et().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,G.Y7)(O,t);case 1:e.v.resource_response.error||eg(t),e.n=3;break;case 2:e.p=2,eu(e.v);case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return a.apply(this,arguments)}),eh=(u=eo(et().m(function e(t){return et().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,G.xE)(O,t);case 1:e.n=3;break;case 2:e.p=2,eu(e.v);case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return u.apply(this,arguments)}),eb=(d=eo(et().m(function e(t){return et().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,M.A)({url:"/v3/news_hub/hide/batch/",method:"PUT",data:{news_ids:[O],should_hide:t}});case 1:!e.v.resource_response.error&&(T(O,t),t&&ey()),e.n=3;break;case 2:e.p=2,eu(e.v);case 3:return e.a(2)}},e,null,[[0,2]])})),function(e){return d.apply(this,arguments)}),ey=function(){var e=z._('Update removed!', 'NewsListItem.UndoRemove.Toast.Text', 'text for restore hidden toast');U(function(t){var n=t.hideToast;return(0,A.jsx)(X.A,{duration:c.bn,onHide:n,primaryAction:{accessibilityLabel:z._('Undo removal', 'NewsListItem.UndoRemove.Toast.a11yButton', 'restores the removed news'),label:z._('Undo', 'NewsListItem.UndoRemove.Toast.Button', 'restores the removed news'),onClick:function(){eb(!1),n()}},text:e})})},em=function(e){E({event_type:101,element:14308,component:3,view_type:107,view_parameter:3081}),ep(e),_(),W(!1)},ev=function(e){E({event_type:101,element:14309,component:3,view_type:107,view_parameter:3081}),eh(e)},eg=function(e){var t=z._('Got it! We\'ll show you less about this interest', 'NewsListItem.UndoSeeLess.Toast.Text', 'text for see less undo toast');U(function(n){var r=n.hideToast;return(0,A.jsx)(X.A,{duration:c.bn,onHide:r,primaryAction:{accessibilityLabel:z._('Undo see less', 'NewsListItem.UndoSeeLess.Toast.a11yButton', 'undoes the see less action'),label:z._('Undo', 'NewsListItem.UndoSeeLess.Toast.Button', 'undoes the see less action'),onClick:function(){ev(e),r()}},text:t})})};return(0,A.jsxs)(o.az,{ref:C,onMouseEnter:g,onMouseLeave:_,children:[(0,A.jsx)(o.K0,{accessibilityControls:es,accessibilityExpanded:F,accessibilityLabel:z._('Options to update subscription settings', 'Options to update subscription settings', 'Update subscription settings'),bgColor:"default",dataTestId:"ellipsis-icon",icon:"ellipsis",iconColor:"default",onClick:function(){E({event_type:101,element:12208,component:3,view_type:107,view_parameter:3081,aux_data:{was_flyout_open:F,news_type:S}}),W(!F)},selected:j,size:"xs"}),F&&(f=z._('View notification settings', 'NewsListItem.ViewNotificationSettings.Flyout', 'View notification settings'),p=z._('Delete update', 'NewsListItem.RemoveNews.Item', 'Delete update'),h=R===c.ZJ.INTEREST,(0,A.jsxs)(o.ms,{anchor:C.current,disableMobileUI:!0,id:es,idealDirection:"down",maxHeight:"30vh",onDismiss:function(){return W(!1)},zIndex:new o.rk(1e3),children:[h?function(){var e=x?x[0]:null,t=x?x[1]:null,n=null!=(l=null==e?void 0:e.id)?l:"",i=null!=(a=null!=(c=null==I||null==(u=I.interest_name)||null==(u=u.t)?void 0:u.toString())?c:null==e?void 0:e.name)?a:"",s=(0,$.$)(z._('See less about {{ subscribableObjectName1 }}', 'NewsListItem.SeeLess.Item', 'See less updates about an interest, subscribableObjectName1: the name of the interest to see less of'),{subscribableObjectName1:i});if(!t)return(0,A.jsx)(o.ms.Item,{onSelect:function(){return em(n.toString())},option:{label:s,value:s}});var l,a,c,u,d,f,p=null!=(d=t.id)?d:"",h=null!=(f=t.name)?f:"",b=(0,$.$)(z._('See less about {{ subscribableObjectName2 }}', 'NewsListItem.SeeLess.Item', 'See less updates about an interest, subscribableObjectName2: the name of the interest to see less of'),{subscribableObjectName2:h});return(0,A.jsxs)(r.Fragment,{children:[(0,A.jsx)(o.ms.Item,{onSelect:function(){return em(n.toString())},option:{label:s,value:s}}),(0,A.jsx)(o.ms.Item,{onSelect:function(){return em(p.toString())},option:{label:b,value:b}})]})}():er&&(t=ed(!!Y,R),n="",Object.values(el).includes(t)&&(n=ec[t]),(0,A.jsx)(o.ms.Item,{onSelect:function(){E({event_type:101,element:12209,component:3,view_type:107,view_parameter:3081,object_id_str:JSON.stringify(L),aux_data:{news_type:S,is_unsub_action:Y}}),ef(),_(),W(!1)},option:{label:n,value:n}})),(0,A.jsx)(o.ms.Item,{onSelect:function(){E({event_type:101,element:13135,component:3,view_type:107,view_parameter:3081}),eb(!0),_(),W(!1)},option:{label:p,value:p}}),(0,A.jsx)(o.ms.Link,{href:"/settings/notifications",onClick:function(){E({event_type:101,element:12210,component:3,view_type:107,view_parameter:3081,aux_data:{news_type:S}}),Z(!0)},option:{label:f,value:f}})]}))]})}function ec(e){var t,n=e.board,r=n.name,i=n.image_cover_url,s=n.images,l=i?{url:i}:void 0,a=(t=i?new Set([i.substring(i.lastIndexOf("/")+1)]):new Set,(s?s[c.ox]:[]).filter(function(e){var n,r,o=(null!=(n=e.url)?n:"").substring((null!=(r=e.url)?r:"").lastIndexOf("/")+1);return!t.has(o)&&(t.add(o),!0)}));if(void 0===l||a.length<c.cP)return null;var u=[a.slice(0,2),a.slice(2,4)];return(0,A.jsx)(o.az,{height:c.Vs,width:c.Au,children:(0,A.jsx)(o.n1,{height:c.Vs,rounding:c.ZQ,wash:!0,children:(0,A.jsxs)(o.so,{alignItems:"stretch",justifyContent:"between",width:c.Au,children:[(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:c.SF}},height:c.vw,position:"relative",width:c.sp,children:(0,A.jsx)(E.A,{height:c.vw,imgPos:{width:0,height:0,x:0,y:0},imgUrl:l.url,width:c.sp})}),u.map(function(e,t){return(0,A.jsx)(o.az,{children:e.map(function(n,i){var s,l,a,d;return(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:t<u.length-1?c.SF:"",marginBottom:i<e.length-1?c.SF:""}},height:c.RJ,position:"relative",width:c.Yj,children:(0,A.jsx)(o.iX,{contentAspectRatio:(null!=(s=n.width)?s:1)/(null!=(l=n.height)?l:1),height:c.RJ,width:c.Yj,children:n.url&&(0,A.jsx)(o._V,{alt:null!=r?r:"",naturalHeight:null!=(a=n.height)?a:1,naturalWidth:null!=(d=n.width)?d:1,src:n.url})})},"col"+t+"row"+i)})},"col"+t)})]})})})}function eu(e){var t=e.interests;if(!t||!t.length)return null;var n=t.slice(0,c.Op),r=n.length/c.Op*c.Au;return(0,A.jsx)(o.az,{height:c.Vs,width:r,children:(0,A.jsx)(o.n1,{height:c.Vs,rounding:c.ZQ,wash:!0,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:r,children:n.map(function(e,t){var r=e.background_color,i=e.images["236x"],s=e.name;return i?(0,A.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:t<n.length-1?c.SF:""}},height:c.Ho,position:"relative",width:c.GW,children:[(0,A.jsx)(o.iX,{contentAspectRatio:i.width&&i.height?i.width/i.height:1,height:c.Ho,width:c.GW,children:i.url&&(0,A.jsx)(o._V,{alt:s,color:r,naturalHeight:1,naturalWidth:1,src:i.url})}),(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:c.mw},height:c.Ho,left:!0,position:"absolute",top:!0,width:c.GW}),(0,A.jsx)(o.az,{alignItems:"center",display:"flex",height:c.Ho,justifyContent:"center",padding:3,position:"absolute",top:!0,width:c.GW,children:(0,A.jsx)(o.KJ,{align:"center",color:"inverse",weight:"bold",children:s})})]},t):null})})})})}var ed=function(e){var t=e.pins;if(0===t.length)return null;var n=t.slice(0,c.jU),r=n.length/c.jU*c.Au;return(0,A.jsx)(o.az,{height:c.Vs,width:r,children:(0,A.jsx)(o.n1,{height:c.Vs,rounding:c.ZQ,wash:!0,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:r,children:n.map(function(e,t){return(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:t<n.length-1?c.SF:""}},height:c.EU,overflow:"hidden",position:"relative",width:c.Jf,children:(0,A.jsx)(o.iX,{contentAspectRatio:e.width&&e.height?e.width/e.height:1,height:c.EU,width:c.Jf,children:e.url&&(0,A.jsx)(o._V,{alt:"MiniPinGridLego",naturalHeight:1,naturalWidth:1,src:e.url})})},t)})})})})};function ef(e){var t=e.searches;if(!t||!t.length)return null;var n=t.filter(function(e){return void 0!==e}).slice(0,c.BF),r=[[],[]];n.map(function(e,t){return r[t%c.O3].push(e),e});var i=r[0].length/c.OO*c.Vs,s=Math.min(t.length,c.O3)/c.O3*c.Au;return(0,A.jsx)(o.az,{height:i,width:s,children:(0,A.jsx)(o.n1,{height:i,rounding:c.ZQ,children:(0,A.jsx)(o.so,{alignItems:"stretch",justifyContent:"between",width:s,children:r.map(function(e,t){return(0,A.jsx)(o.az,{children:e.map(function(n,i){var s=n.images,l=n.term;return(0,A.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{marginRight:t<r.length-1?c.SF:"",marginBottom:i<e.length-1?c.SF:""}},height:c.Qm,position:"relative",width:c.h$,children:[(0,A.jsx)(o.iX,{contentAspectRatio:2,height:c.Qm,width:c.h$,children:(0,A.jsx)(o._V,{alt:l,naturalHeight:1,naturalWidth:1,src:(void 0===s?[]:s)[0]})}),(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:c.mw},height:c.Qm,left:!0,position:"absolute",top:!0,width:c.h$}),(0,A.jsx)(o.az,{alignItems:"center","data-test-id":"term-text",display:"flex",height:c.Qm,justifyContent:"center",padding:3,position:"absolute",top:!0,width:c.h$,children:(0,A.jsx)(o.KJ,{align:"center",color:"inverse",weight:"bold",children:l})})]},"col"+t+"row"+i)})},"col"+t)})})})})}var ep=n(477097),eh=n(543383),eb=n(249550),ey=n(149196),em=n(662675);function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eg(Object(n),!0).forEach(function(t){eS(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ew(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ew=function(){return!!e})()}function ej(e){return(ej=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eO(e,t){return(eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eS(e,t,n){return(t=ex(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ex(e){var t=function(e,t){if("object"!=ev(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ev(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ev(t)?t:t+""}var eP=function(e){var t;function n(e){var t,r,o;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return r=n,o=[e],r=ej(r),eS(t=function(e,t){if(t&&("object"==ev(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,ew()?Reflect.construct(r,o||[],ej(this).constructor):r.apply(this,o)),"getHandleClickFun",function(e){return function(){var n=t.props,r=n.handleClick,o=n.id,i=n.type,s=n.logContextEvent;(0,n.handleSideBarLinkClick)(),s({event_type:101,object_id_str:o,view_type:107,view_parameter:3081,aux_data:{news_type:i}}),t.handleNewsHubClickTrackLogging(o,e),r()}}),eS(t,"handleNewsHubClickTrackLogging",function(e,t){(0,M.A)({url:"/v3/news_hub/click/",method:"POST",data:{news_id_str:e,link:t}})}),t.state={isMouseOverComponent:!1,isMouseOverEllipsis:!1},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eO(n,e),t=[{key:"displayComponent",get:function(){var e=this.props,t=e.contentItems,n=e.contentText,r=e.displayMode,i=t.filter(function(e){return e.content_object}).map(function(e){return e.content_object});if((0,G.sE)(r,[c.SE.MINI_PIN_GRID_2])){var s=i.map(function(e){return e.images[c.Of]});return(0,A.jsx)(ed,{pins:s})}if((0,G.sE)(r,[c.SE.MINI_BOARD_GRID,c.SE.MINI_BOARD_GRID_WITH_ICON]))return(0,A.jsx)(ec,{board:i[0]});if((0,G.sE)(r,[c.SE.MINI_USER_GRID])){var l=i[0].recent_pin_images["200x"]||[];return(0,A.jsx)(ed,{pins:l})}if((0,G.sE)(r,[c.SE.ROW_WITH_COUNT_2])){var a=new Set,u=i.filter(function(e){var t=e.image_signature;return!(t&&a.has(t))&&(a.add(t),!0)}).map(function(e){return e.images[c.Of]});return(0,A.jsx)(ed,{pins:u})}if((0,G.sE)(r,[c.SE.MINI_INTEREST_GRID]))return(0,A.jsx)(eu,{interests:i});if((0,G.sE)(r,[c.SE.MINI_SEARCH_GRID]))return(0,A.jsx)(ef,{searches:i});if((0,G.sE)(r,[c.SE.BASIC]))return null;else if((0,G.sE)(r,[c.SE.TEXT]))return(0,A.jsx)(o.az,{width:c.ak,children:(0,A.jsx)(o.KJ,{children:n})})}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.currentSite,i=n.handleClick,s=n.handleObjectSubscriptionById,l=n.headerText,a=n.headerIconImageUrl,u=n.headerIconObjects,d=n.headerSmallOverlayIconUrl,f=n.headerSmallOverlayIconUrlDark,p=n.id,h=n.isVerticalNavEnabled,b=n.isSideBarEnabled,y=n.sideBarWidth,m=n.isHighlightNotif,v=n.lastUpdatedAt,g=n.siteType,_=n.textMapping,w=n.titleText,j=n.subscribableObjects,O=n.subscribedToObjectIdMap,S=n.type,x=n.viewer,P=this.props.overrideClickUrl;P&&void 0!==(0,K.A)(P)&&(P=(0,V.A)(P,{entrySource:"news_hub"}));var I=!!x.isAuth&&x.isLimitedLogin,E=P||"/news_hub/"+p,T=(0,Z.A)(E),z=T?E:(0,eb.A)({currentSiteType:g,destinationSiteType:0,inputPath:E}),C=this.displayComponent,N=P?(0,Y.A)(P):null,L="DESKTOP"===r||T?z:J.Lj.concat(z),R=N&&!T?P:L,D=m?c.a2:{},k=b?y-28:h?c.rU:c.wr;return(0,A.jsx)(o.J,{overflow:"visible",children:(0,A.jsxs)(o.az,{alignItems:"center","aria-label":this.props.i18n._('News', 'ariaLabel.NewsItem', 'Accessibility label for news item in news hub'),color:this.state.isMouseOverComponent&&!this.state.isMouseOverEllipsis?m?"transparent":"secondary":"transparent",dangerouslySetInlineStyle:{__style:e_({cursor:"pointer",borderColor:"#E9E9E9"},D)},"data-test-id":"news-hub-list-item",direction:"column",display:"flex",marginBottom:1,marginEnd:2,marginStart:2,onMouseEnter:function(){return t.setState({isMouseOverComponent:!0})},onMouseLeave:function(){return t.setState({isMouseOverComponent:!1})},padding:2,role:"group",rounding:400,width:k,children:[(0,A.jsxs)(o.so,{alignItems:"center",width:"100%",children:[(0,A.jsx)(o.$A,{href:R,onTap:this.getHandleClickFun(R),target:N?"blank":null,children:(0,A.jsxs)(o.so,{alignItems:"center",justifyContent:"start",children:[(a||u)&&(0,A.jsx)(U,{headerIconImageUrl:a,headerIconObjects:u,headerSmallOverlayIconUrl:d,headerSmallOverlayIconUrlDark:f}),(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{margin:"0 8px"}},display:"flex",marginEnd:1===j.length?2:1,marginStart:2*(void 0===u),children:(0,A.jsxs)(o._Y,{accessibilityLevel:2,children:[w&&(0,A.jsx)(o.az,{children:(0,A.jsx)(o.KJ,{weight:"bold",children:w})}),(0,A.jsx)(o.KJ,{inline:!0,children:(0,A.jsx)(ep.A,{text:l,textMapping:_})})]})})]})}),(0,A.jsxs)(o.az,{direction:"column",display:"flex",marginEnd:1,minHeight:c.rH,position:"relative",width:h?c.nA:c.uQ,children:[(0,A.jsx)(o.az,{marginBottom:1,marginEnd:1,overflow:"hidden",children:(0,A.jsx)(o.KJ,{align:"end",color:"subtle",size:"100",children:null==(e=(0,B.A)(new Date(v),this.props.getHumanizedTimeSince))?void 0:e.replace(/\u00A0|&nbsp;/g," ")})}),!I&&(0,A.jsx)(o.az,{alignSelf:"end",children:(0,A.jsx)(ea,{handleClick:i,handleEnterEllipsis:function(){return t.setState({isMouseOverEllipsis:!0})},handleExitEllipsis:function(){return t.setState({isMouseOverEllipsis:!1})},handleObjectSubscriptionById:s,isMouseOverEllipsis:this.state.isMouseOverEllipsis,newsId:p,newsType:S,subscribableObjects:j,subscribedToObjectIdMap:O,textMapping:_})})]})]}),!!C&&(0,A.jsx)(o.$A,{accessibilityLabel:"News Detail Page",href:R,onTap:this.getHandleClickFun(R),children:(0,A.jsx)(o.az,{"aria-hidden":!0,marginTop:2,children:C})})]})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ex(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.Component);eS(eP,"defaultProps",{subscribableObjects:[]});var eI=(0,S.A)(function(e){var t=(0,i.o)().logContextEvent,n=(0,W.A)(),r=(0,s.A)(),o=(0,F.A)(),l=(0,ey.A)(),a=(0,em.A)(),c=a.sideBarWidth,u=a.handleSideBarLinkClick;return(0,A.jsx)(eP,e_(e_({},e),{},{currentSite:(0,eh.U)().currentSite,getHumanizedTimeSince:n,handleSideBarLinkClick:u,i18n:r,isSideBarEnabled:l,logContextEvent:t,sideBarWidth:c,viewer:o}))}),eE=n(999345);function eA(e){return(eA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eT=function(){return!!e})()}function ez(e){return(ez=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eC(e,t){return(eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var eN=function(e){var t;function n(){var e,t;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return e=n,t=arguments,e=ez(e),function(e,t){if(t&&("object"==eA(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,eT()?Reflect.construct(e,t||[],ez(this).constructor):e.apply(this,t))}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eC(n,e),t=[{key:"render",value:function(){return(0,A.jsx)(r.Fragment,{children:(0,A.jsx)(eE.A,{name:"FirstStoryExperience",children:(0,A.jsx)(o.az,{width:c.wr})})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){var t=function(e,t){if("object"!=eA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eA(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eA(t)?t:t+""}(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.PureComponent),eL=n(825102);function eR(e){var t=e.handleDismissPanel,n=(0,s.A)(),r=(0,h.zy)(),l=(0,i.o)().logContextEvent;return(0,A.jsx)(o.az,{alignItems:"center",display:"flex",height:"calc(100% - ".concat(c.sZ,"px)"),justifyContent:"center",top:!0,width:c.F$,children:(0,A.jsx)(o.az,{display:"flex",justifyContent:"center",marginBottom:5,width:"100%",children:(0,A.jsx)(eL.A,{containerSize:320,description:n._('Use updates to see activity on your Pins and boards and get tips on topics to explore. They\u2019ll be here soon.', 'notifications.sunglasses.illustrations.description', 'Message displayed under the illustration when no notifications'),illustrationSize:186,message:n._('Updates are on their way', 'notifications.sunglasses.illustrations.message', 'Description displayed under the illustration when no notifications'),name:"sunglasses",primaryAction:["/","/homefeed"].includes(r.pathname)?null:(0,A.jsx)(o.vx,{href:"/",onClick:function(){l({event_type:101,view_type:107,view_parameter:3083,component:13583}),t()},text:n._('Browse home feed', 'notificatons.sunglasses.illustration', 'Button text for refreshing the page when no notifications')})})})})}var eD=n(77752),ek=n(919279);function eH(e){return(eH="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eU(Object(n),!0).forEach(function(t){eG(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eU(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eM=function(){return!!e})()}function eF(e){return(eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eW(e,t){return(eW=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eG(e,t,n){return(t=eV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eV(e){var t=function(e,t){if("object"!=eH(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eH(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eH(t)?t:t+""}var eJ=function(e){var t;function n(e){var t,r,i;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");return r=n,i=[e],r=eF(r),eG(t=function(e,t){if(t&&("object"==eH(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,eM()?Reflect.construct(r,i||[],eF(this).constructor):r.apply(this,i)),"handleItemClick",function(){t.props.handleItemClick()}),eG(t,"handleObjectSubscriptionById",function(e,n){t.setState(function(t){return{subscribedToObjectIdMap:eB(eB({},t.subscribedToObjectIdMap),{},eG({},e,n))}})}),eG(t,"renderItem",function(e,n,r,o,i){var s=eB({},t.state.subscribedToObjectIdMap);e.subscribable_objects&&e.subscribable_objects.forEach(function(e){void 0===s[e.id]&&(s[e.id]=e.subscribed_to_notifications)});var l={impressionAuxFields:{newsType:e.news_type},impressionType:"News",loggingId:e.id,slotIndex:n,viewParameter:3081,viewType:107},a=(0,A.jsx)(eI,eB({contentItemCount:e.content_item_count,contentItems:e.content_items,contentText:e.content_text,displayMode:e.encoded_display_mode,handleClick:t.handleItemClick,handleObjectSubscriptionById:t.handleObjectSubscriptionById,headerIconImageUrl:e.header_icon_image_url,headerIconObjects:e.header_icon_objects,headerSmallOverlayIconUrl:e.header_small_overlay_icon_image_url,headerSmallOverlayIconUrlDark:e.header_small_overlay_icon_image_url_dark,headerText:e.header_text,id:e.id,isHighlightNotif:i,isVerticalNavEnabled:t.props.isVerticalNavEnabled,lastUpdatedAt:e.last_updated_at,overrideClickUrl:e.override_click_url,requestContext:t.props.requestContext,shouldHighlight:null!==r&&o,subHeaderText:e.sub_header_text,subscribableObjects:e.subscribable_objects,subscribedToObjectIdMap:s,textMapping:e.text_mapping,titleText:e.title_text,type:e.news_type,unread:e.unread},l));return null!==r?(0,A.jsx)("li",{ref:r,children:a},n):(0,A.jsx)("li",{id:e.id,children:a},n)}),eG(t,"renderTopStoryExperience",function(){return(0,A.jsx)(eN,{})}),eG(t,"renderBottomSection",function(){return t.props.isIaNavUpdForEngagementExperiment&&(0,A.jsx)(o.az,{bottom:!0,"data-test-id":"news-engagement-button",marginEnd:2,marginStart:3,paddingY:3,position:"absolute",width:340,children:(0,A.jsx)(v.vx,{fullWidth:!0,href:t.props.engagementUrl,logEventProps:{},onClick:t.props.onClickEngagementButton,text:t.props.i18n._('View audience engagement', 'ads.notifications.center.goToEngagementButton', 'Accessible label for button to see your engagements')})},"btn-view-engagement-page")}),t.state={subscribedToObjectIdMap:{}},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&eW(n,e),t=[{key:"componentWillUnmount",value:function(){this.props.newsHubResource.refresh()}},{key:"componentDidMount",value:function(){this.logPanelImpression()}},{key:"logPanelImpression",value:function(){var e=this.props,t=e.logContextEvent,n=e.viewType,r=e.viewParameter;t({event_type:13,view_type:107,view_parameter:3081}),t({event_type:13,view_type:n,view_parameter:r})}},{key:"render",value:function(){var e=this;return(0,A.jsx)(j.A,{view:107,viewParameter:3081,children:(0,A.jsx)(eD.A,{handleScrollShadow:this.props.handleScrollShadow,highlightId:this.props.highlightScrollSidebar?this.props.utmNewsHubId:null,listResource:this.props.newsHubResource,renderBottomSection:this.renderBottomSection,renderEmptyState:function(){return(0,A.jsxs)(o.az,{children:[(0,A.jsx)(eR,{handleDismissPanel:e.handleItemClick}),e.renderBottomSection()]})},renderItem:this.renderItem,renderSectionHeaders:!0,renderTopStoryExperience:this.renderTopStoryExperience,shouldHighlightListItem:this.props.highlightScrollSidebar,shouldScrollToItem:this.props.highlightScrollSidebar})})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eV(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.Component);function eZ(e){var t=(0,i.o)().logContextEvent,n=(0,s.A)(),r=(0,a._8)(),o=(0,h.Zp)(),l=(0,g.A)({name:"NewsHubResource",options:{page_size:c.BA},noCache:!0}),u=(0,m.WQ)(),d=u.viewType,f=u.viewParameter,p=(0,b.k)().is_sterling_on_steroids,v=(0,_.A)(),j=(0,y.A)(v),S=j.isAnalyticsSite,x=j.isSterlingSite,P=j.isTrendsSite,I=x||S||p||P?w.gjC:w.z5Q,E=(0,ek.A)(),T=(0,O.AB)(t);return(0,A.jsx)(eJ,eB(eB({},e),{},{engagementUrl:I,i18n:n,isIaNavUpdForEngagementExperiment:E,logContextEvent:t,navigate:o,newsHubResource:l,onClickEngagementButton:T,requestContext:r,viewParameter:f,viewType:d}))}eG(eJ,"defaultProps",{handleItemClick:function(){},onClickEngagementButton:function(){}});var eK=function(e){var t=e.showShadow,n=e.selectedIndex,r=e.onChange,i=e.tabItems;return(0,A.jsx)(o.az,{dangerouslySetInlineStyle:{__style:p(t)},"data-test-id":"news-hub-title",children:(0,A.jsx)(o.az,{paddingX:3,width:"100%",children:(0,A.jsx)(o.Iz,{items:i,onChange:function(e){r(e.activeIndex)},selectedItemIndex:n})})})},eY=n(26546),eX=n(539619),e$=n(29739),eQ=n(880937),eq=n(667533);function e0(e){return(e0="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e1(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=e0(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e0(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e0(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e1(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function e3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,l=[],a=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;a=!1}else for(;!(a=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{if(!a&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return e4(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e4(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e4(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e7=(0,eq.A)(function(){return n.e("56511").then(n.bind(n,654062))},void 0,function(e){return 654062},"app-sterling-AdsNotificationsCenterDropdown-AdsNotificationsCenterPanel",function(e){return ["56511"]}),e8=(0,eq.A)(function(){return n.e("58455").then(n.bind(n,821048))},void 0,function(e){return 821048},"app-sterling-AdsNotificationsCenterDropdown-AdsNotificationsCenterTabHeader",function(e){return ["58455"]});function e5(e){var t,n=e.handleDismissPanel,u=e.highlightScrollSidebar,d=e.newsButton,f=e.show,h=e.utmNewsHubId,b=(0,i.o)().logContextEvent,y=(0,s.A)(),m=(0,r.useRef)(null),v=(0,a._8)(),g=(0,e$.A)(),_=(0,eX.A)().enabled,w=(0,ey.A)(),j=(0,em.A)(),O=j.sideBarWidth,S=j.togglePanelState,x=null==(t=v.advertiser)?void 0:t.id,P=!!x,I=e3((0,r.useState)(+!!P),2),E=I[0],T=I[1],z=e3((0,r.useState)(!1),2),C=z[0],N=z[1],L=function(e){var t,r=e.target,o=m.current,i=o&&r instanceof Node&&!o.contains(r),s=d&&r instanceof Node&&d.contains(r),l=r instanceof HTMLElement&&(null==(t=r.offsetParent)?void 0:t.id)===c.I4;!i||s||l||n()},R=(0,r.useMemo)(function(){var e,t;return[y._('Pins', 'New title for news hub dropdown on the right upper corner in home page', 'New title for news hub dropdown on the right upper corner in home page'),(0,A.jsx)(e8,{fallback:(0,A.jsx)(o.KJ,{color:1===E?"default":"subtle",size:"200",weight:"bold",children:y._('Ads', '[m10n]newshubSidebar.header.tabLabel', 'New title for news hub dropdown on the right upper corner in home page')}),requestContextAdvertiserId:null!=(e=null==(t=v.advertiser)?void 0:t.id)?e:"",showing:1===E},"".concat(f.toString()).concat(E))]},[v,E,y,f]);(0,r.useEffect)(function(){return document.addEventListener("mousedown",L),function(){return document.removeEventListener("mousedown",L)}},[]);var D=f?"0px":"-25px",k=(0,r.useCallback)(function(e){e.keyCode===l.A.ESCAPE&&n()},[]);(0,r.useEffect)(function(){return document.addEventListener("keydown",k,!1),function(){document.removeEventListener("keydown",k,!1)}},[]),(0,r.useEffect)(function(){1===E&&b({event_type:101,component:8,element:11840,view_type:412,view_parameter:3465,aux_data:{current_page_url:window.location.href,advertiser_id:x}})},[x,b,E]);var H=v.isRTL,U=g+eQ.K3,B={width:eQ.ZR,maxWidth:eQ.ZR+c.wo,minWidth:c.F$,right:H?U:void 0,left:H?void 0:U,boxShadow:"rgba(0, 0, 0, 0.1) -3px 4px 14px 0px"},M={maxWidth:c.iG,minWidth:c.F$,transition:"top 100ms linear",left:H?0:void 0,right:H?void 0:0,boxShadow:"rgba(0, 0, 0, 0.1) -3px 4px 14px 0px"},F={marginTop:0,width:O-.5};return(0,A.jsx)(eY.b,{children:function(e){var t,i;return w?(i=F,t="100vh"):_?(i=B,t="calc(100vh - ".concat(2*eQ.rS,"px)")):(i=M,t="calc(100vh - ".concat(e,"px - 8px)")),(0,A.jsx)(o.az,{ref:m,bottom:!0,color:"default",dangerouslySetInlineStyle:{__style:e2({marginTop:_?eQ.rS:e,overscrollBehavior:"none",top:D},i)},height:t,id:c.I7,marginBottom:w?void 0:2,marginEnd:w?void 0:2,position:"fixed",rounding:w?void 0:400,tabIndex:-1,children:(0,A.jsxs)(o.so,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[P?(0,A.jsx)(eK,{onChange:T,selectedIndex:E,showShadow:f&&C,tabItems:R}):(0,A.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:e2(e2({},p(f&&C)),_?{paddingBlock:"20px",paddingInline:"16px"}:{})},"data-test-id":"news-hub-title",direction:w?"row":void 0,display:w?"flex":void 0,justifyContent:w?"between":void 0,children:[(0,A.jsx)(o._Y,{accessibilityLevel:1,align:_?"start":"center",size:_?"400":"300",children:y._('Updates', 'New title for news hub dropdown on the right upper corner in home page', 'New title for news hub dropdown on the right upper corner in home page')}),w&&(0,A.jsx)(o.K0,{accessibilityLabel:y._('Close news hub', 'navBar.newsHub.header', 'Button to close the news hub'),icon:"close",onClick:function(){return S("news")},size:"sm"})]}),f?(0,A.jsx)(r.Fragment,{children:0===E?(0,A.jsx)(eZ,{handleItemClick:n,handleScrollShadow:N,highlightScrollSidebar:u,isVerticalNavEnabled:_,locale:v.locale,utmNewsHubId:h}):(0,A.jsx)(e7,{onNotificationItemClick:n,requestContextAdvertiserId:x})}):(0,A.jsx)(eD.A,{listResource:{auxData:{},data:[],fetchMore:function(){},isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,refresh:function(){}},renderEmptyState:function(){return(0,A.jsx)(o.az,{})},renderItem:function(){return(0,A.jsx)(o.az,{})}})]})})}})}},477097(e,t,n){n.d(t,{A:function(){return s}});var r=n(460657),o=n(361268),i=n(879667);function s(e){var t=e.applyMarkup,n=void 0===t||t,s=e.applyLink,l=void 0!==s&&s,a=e.text,c=e.textMapping,u=void 0===c?{}:c,d={};return u&&Object.keys(u).forEach(function(e){var t=u[e];null!==t&&(t.t?d[e]=t.t.toString():d[e]="",n&&(t.b&&(d[e]=(0,i.jsx)(r.KJ,{inline:!0,weight:"bold",children:d[e]},e)),t.r&&(d[e]=(0,i.jsx)(r.KJ,{color:"error",inline:!0,children:d[e]},e)),t.l&&l&&(d[e]=(0,i.jsx)(r.N_,{display:"inlineBlock",href:t.l,underline:"hover",children:d[e]},e))))}),(0,i.jsx)(r.az,{"data-test-id":"updates-link-text",children:(0,i.jsx)(r.KJ,{inline:!0,children:a?(0,o.IY)(a,d):null})})}},77752(e,t,n){n.d(t,{A:function(){return P}});var r=n(157203),o=n(460657),i=n(370714),s=n(745730),l=n(644126),a=n(889237),c=n(264493),u=n(237704),d=n(149196),f=n(879667);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w(r.key),r)}}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(m=function(){return!!e})()}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var j="down",O=!1,S=!0,x=function(e){var t,n;function i(e){var t,n,r;if(!(this instanceof i))throw TypeError("Cannot call a class as a function");return n=i,r=[e],n=v(n),_(t=function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,m()?Reflect.construct(n,r||[],v(this).constructor):n.apply(this,r)),"handleMouseOver",function(){!t.props.listResource.isFetching&&t._container&&t.setState({highlight:!1})}),_(t,"handleScroll",(0,a.A)(function(){if(!t.props.listResource.isFetching&&t._container){var e=t.props.handleScrollShadow;e&&e((0,l.qM)(t._container)>70);var n=t.props.scrollThreshold,r=(0,l.Hj)(t._container)-(0,l.qM)(t._container)-(0,l.UI)(t._container);n&&r<n&&t.fetchMore()}},30)),_(t,"addEventListeners",function(e){var n=t.props.useWindow;n&&(e=window),t.removeEventListeners(),e&&(n||e.addEventListener("wheel",t.preventScroll),e.addEventListener("scroll",t.handleScroll),e.addEventListener("mouseover",t.handleMouseOver)),t._container=e}),_(t,"getRef",function(e){return e&&e.id===t.props.highlightId?t.onRefChange:null}),_(t,"preventScroll",function(e){if(t._container){var n=e.deltaY<0?"up":j,r=t._container.scrollHeight-t._container.scrollTop-t._container.clientHeight==0,o=0===t._container.scrollTop;(n===j&&r||"up"===n&&o)&&e.preventDefault()}}),_(t,"fetchForHighlight",function(){if(!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.props.listResource.data){var e=!1;t.props.listResource.data.forEach(function(n){(null==n?void 0:n.id)===t.props.highlightId&&(e=!0,t.setState({isHighlightedItemLoaded:!0}))}),e||t.fetchMore()}}),_(t,"onRefChange",function(e){t.setState({highlightedItemRef:e})}),_(t,"handleHighlightAndScrollToItem",function(){t.props.listResource&&t.props.listResource.data&&!t.state.isResourceExhausted&&!t.state.isHighlightedItemLoaded&&t.fetchForHighlight(),t.state.highlightedItemRef&&!O&&(t.state.highlightedItemRef.scrollIntoView({behavior:"smooth",block:"center"}),O=!0)}),_(t,"fetchMoreIfHidden",function(e){var n;if((null==(n=t.props.listResource.auxData)?void 0:n.x_pinterest_sli_endpoint_name)==="v3_get_news_hub_feed"){var r=c.Hn;!t.props.listResource.isFetching&&!t.props.listResource.isAtEnd&&e&&t.props.getShownNewsCount(e)<r&&t.props.listResource.fetchMore()}}),t.state={highlightedItemRef:null,highlight:null,isResourceExhausted:!1,isHighlightedItemLoaded:!1},t}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),Object.defineProperty(i,"prototype",{writable:!1}),e&&g(i,e),t=[{key:"componentWillUnmount",value:function(){this.removeEventListeners(),O&&(S=!1)}},{key:"removeEventListeners",value:function(){var e=this.props.useWindow,t=this._container;t&&(e||t.removeEventListener("wheel",this.preventScroll),t.removeEventListener("scroll",this.handleScroll),t.removeEventListener("mouseover",this.handleScroll))}},{key:"fetchMore",value:function(){var e=this._container;this.props.listResource.isFetching||(this.props.listResource.isAtEnd&&e?(e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mouseover",this.handleMouseOver),this.setState({isResourceExhausted:!0})):this.props.listResource.fetchMore())}},{key:"render",value:function(){var e,t,n,i=this,l=this.props,a=l.isAdsTab,u=l.isSideBarEnabled,d=l.hiddenNews,p=l.renderEmptyState,h=l.renderItem,b=l.renderTopStoryExperience,y=l.renderBottomSection,m=l.renderSectionHeaders;this.props.shouldScrollToItem&&this.handleHighlightAndScrollToItem();var v=this.props.listResource.data;if(this.fetchMoreIfHidden(v),!this.props.listResource.isFetching&&v&&(0===this.props.getShownNewsCount(v)||0===v.length))return p();var g=null==v?void 0:v.filter(function(e){return e&&"type"in e&&(null==e?void 0:e.type)==="news"&&!d[e.id]}),_=null!=(e=null==g?void 0:g.findIndex(function(e){return e&&"unread"in e&&(null==e?void 0:e.unread)&&(0,s.sE)(e.encoded_display_mode,[c.SE.HIGHLIGHT_NOTIFICATION])}))?e:-1,w=v&&-1!==_?v[_]:null,j=null!=(t=null==g?void 0:g.filter(function(e){return e&&"unread"in e&&!(null!=e&&e.unread)}))?t:[],O=null!=(n=null==g?void 0:g.filter(function(e,t){return e&&"unread"in e&&e.unread&&t!==_}))?n:[];return(0,f.jsxs)(o.az,{ref:this.addEventListeners,dangerouslySetInlineStyle:{__style:{clear:"both",height:u?"100%":"calc(100% - 88px)",overflowY:"auto",overflowX:"hidden",wordBreak:"break-word"}},"data-test-id":"scrollable-container",children:[v&&b&&b(),a&&v?v.map(function(e,t){return(0,f.jsx)(r.Fragment,{children:h(e,t+1,i.getRef(e),i.state.highlight&&S)},t)}):null,!a&&(w||null!=O&&O.length)?(0,f.jsxs)(r.Fragment,{children:[m&&(0,f.jsx)(o.az,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(o._Y,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('New', 'Title for news hub section containing unread news items', 'Unread news hub items')})}),(0,f.jsxs)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:[w?h(w,0,this.getRef(w),this.state.highlight&&S,!0):null,null==O?void 0:O.map(function(e,t){return h(e,t,i.getRef(e),i.state.highlight&&S)})]})]}):null,!a&&j&&j.length>0?(0,f.jsxs)(r.Fragment,{children:[m&&(0,f.jsx)(o.az,{marginBottom:2,marginEnd:2,marginStart:2,paddingX:2,children:(0,f.jsx)(o._Y,{accessibilityLevel:1,align:"start",size:"400",children:this.props.i18n._('Seen', 'Title for news hub section containing read news items', 'Read news hub items')})}),(0,f.jsx)("ul",{className:"scrollableList","data-test-id":"scrollable-list",children:j.map(function(e,t){return h(e,t,i.getRef(e),i.state.highlight&&S)})})]}):null,this.props.listResource.isAtEnd?null:(0,f.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{padding:"5%"}},"data-test-id":"loadingItem",height:"20%",position:"relative",children:(0,f.jsx)(o.y$,{accessibilityLabel:this.props.i18n._('Loading items', ' - ', ' -- '),show:this.props.listResource.isFetching})}),y&&y()]})}}],n=[{key:"getDerivedStateFromProps",value:function(e,t){return t.highlight?{}:{highlight:e.shouldHighlightListItem}}}],t&&y(i.prototype,t),n&&y(i,n),Object.defineProperty(i,"prototype",{writable:!1}),i}(r.Component);function P(e){var t=(0,i.A)(),n=(0,u.C3)().getShownNewsCount,r=(0,u.p1)().hiddenNews,o=(0,d.A)();return(0,f.jsx)(x,b(b({},e),{},{getShownNewsCount:n,hiddenNews:r,i18n:t,isSideBarEnabled:o}))}_(x,"defaultProps",{scrollThreshold:400,useWindow:!1,handleScrollShadow:function(){},highlightId:null,shouldScrollToItem:!1})},249550(e,t,n){n.d(t,{A:function(){return l}});var r=n(805261);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){var r;return(r=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==o(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=i(i(i({},0,r.Lj),3,r.ub),4,r.W2);function l(e){var t=e.currentSiteType,n=e.destinationSiteType,r=e.inputPath,o=Object.keys(s).includes(String(t))&&Object.keys(s).includes(String(n)),i="/"===r[0]?r:"/".concat(r);return o&&n!==t?"".concat(s[n]).concat(i):i}}}]);