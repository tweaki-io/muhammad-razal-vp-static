"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["75650"],{371922(e,n,t){t.r(n);var i,r,l,a,o,s,c,d={fragment:{argumentDefinitions:i=[{defaultValue:null,kind:"LocalArgument",name:"inviteCode"}],kind:"Fragment",metadata:null,name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:r=[{kind:"Variable",name:"inviteCode",variableName:"inviteCode"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a={alias:null,args:null,kind:"ScalarField",name:"firstName",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:i,kind:"Operation",name:"UnauthCloseupInviteUpsellQuery",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[a,o,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},c],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"4610a8b7fe41310eb2db231b8c1171930d91f797fbc7fd321ec6682cb48a3711",metadata:{},name:"UnauthCloseupInviteUpsellQuery",operationKind:"query",text:null}};d.hash="04834691a929e56b42c6699e90a97155",n.default=d},361053(e,n,t){t.r(n),t.d(n,{default:function(){return x}});var i=t(157203),r=t(460657),l=t(351632),a=t(690870),o=t(476766),s=t(370714),c=t(998619),d=t(467780),u=t(948828),p=t(3210),_=t(991224),m=t(464301),h=t(879667);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var i,r;i=n,r=t[n],(i=function(e){var n=function(e,n){if("object"!=f(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=f(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==f(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var b=function(){if(document.body){var e=document.body.style;e.overflow="hidden",e.touchAction="none"}},w=function(){if(document.body){var e=document.body.style;e.overflow="visible",e.touchAction="auto"}};function x(e){var n,t,f=e.accessibilityModalLabel,g=e.align,x=void 0===g?"center":g,j=e.allowClickAndDrag,A=e.allowScroll,z=void 0!==A&&A,P=e.cancelButtonBackgroundColor,k=e.customizedHeading,S=e.children,I=e.closeOnOutsideClick,C=void 0===I||I,O=e.footer,T=e.heading,U=e.isOpen,L=e.mobileAccessibilityCloseIconLabel,R=e.mobileHeadingSize,E=e.mobileHideCloseIcon,D=e.mobileIsFooter,K=e.mobileIsFullscreen,M=e.mobileIsFullpage,B=e.mobileIsSlideUp,F=e.onCloseButtonClick,N=e.onDismiss,G=e.shouldMoveCancelButtonRight,Q=void 0!==G&&G,W=e.subHeading,V=e.type,H=e.zIndex,J=e.mobileCancelButtonPaddingTop,X=e.mobileCancelButtonPaddingRight,Y=e.mobileTopOffset,$=(0,s.A)(),q=(0,d._8)().isRTL,Z=(0,i.useRef)(null),ee=function(e){if(Array.isArray(e))return e}(n=(0,i.useState)(!1))||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,r,l,a,o=[],s=!0,c=!1;try{for(l=(t=t.call(e)).next;!(s=(i=l.call(t)).done)&&(o.push(i.value),2!==o.length);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}(n,0)||function(e,n){if(e){if("string"==typeof e)return v(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?v(e,2):void 0}}(n,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),en=ee[0],et=ee[1],ei=(0,m.Y)().setAppFocusState,er=(0,_.Ay)(),el=(0,a.D2)().isDarkMode,ea=function(){if("u"<typeof window)return!1;var e,n,t=Math.max((null==(e=window.visualViewport)?void 0:e.width)||0,window.innerWidth,document.documentElement.clientWidth),i=Math.max((null==(n=window.visualViewport)?void 0:n.height)||0,window.innerHeight,document.documentElement.clientHeight);return t<=380||i<=760};(0,i.useEffect)(function(){return Z.current=(0,l.A)(function(){Z.current&&et(!0)}),function(){"u">typeof window&&Object.prototype.hasOwnProperty.call(window,"cancelAnimationFrame")&&Z.current&&(window.cancelAnimationFrame(Z.current),Z.current=null)}},[]),(0,i.useEffect)(function(){return U?(c.A.pause(),ei(!1),(0,p.PM)("mweb_unauth.mobile_modal.".concat(V||"unknown_type",".did_mount.is_open.true"))):(c.A.resume(),ei(!0)),function(){U&&(c.A.resume(),ei(!0),(0,p.PM)("mweb_unauth.mobile_modal.".concat(V||"unknown_type",".did_mount.is_open.false")))}},[ei,U]),(0,i.useEffect)(function(){var e=U&&!z;return e&&b(),function(){e&&w()}},[U,z]);var eo=function(){return M?"fullpage":K?"fullscreen":"euPrompt"===V?"euPrompt":"tablet"===er?"tablet":D?"footer":"signup"===V||"visual_signup"===V?"signup":"repinPage"===V?"repinPage":void 0};if(!U)return null;var es=L&&!E;return(0,h.jsx)(u.A,{allowClickAndDrag:j,children:(0,h.jsx)(r.Wd,{children:(0,h.jsxs)(r.az,{"aria-label":f,display:"inlineBlock",height:"100%",position:"relative",role:"dialog",zIndex:H||o.QN,children:[(0,h.jsx)(r.Rp,{accessibilityLabel:$._('Mobile Signup Modal Mask', 'mweb.signup_modal.mask', 'The accessibility label for the mask of mobile signup modal'),dataTestId:"mobile-modal-mask-overlay",onTap:function(e){var n=e.event;n.clientX&&n.clientY&&(0,p.fu)("mweb_unauth.mobile_modal.wash_tap.".concat(V||"unknown_type",".with_dismissal"),{x:n.clientX,y:n.clientY}),C&&N()},tapStyle:"none",children:(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, .5)",touchAction:"none",transitionProperty:"opacity",transitionTimingFunction:"ease-out"}},height:"100%",left:!0,position:"fixed",top:!0,width:"100%",zIndex:H||o.QN})}),(0,h.jsxs)(r.az,{color:"default",dangerouslySetInlineStyle:B?(0,o.aj)({isFullscreen:K,isTablet:"tablet"===er,isShowing:en,isRelatedInterestsModal:"related_interests_modal"===V,isDarkMode:el}):y(y({},(0,o.ou)({isDarkMode:el,variant:eo()})),{},{__style:y(y({},(0,o.ou)({isDarkMode:el,variant:eo()}).__style),{},{transform:((null==(t=(0,o.ou)({isDarkMode:el,variant:eo()}).__style)?void 0:t.transform)||"")+function(){if(!Y||B||!ea())return"";var e,n,t=Math.min(1,(Math.max((null==(e=window.visualViewport)?void 0:e.width)||0,window.innerWidth,document.documentElement.clientWidth)-12)/380,(Math.max((null==(n=window.visualViewport)?void 0:n.height)||0,window.innerHeight,document.documentElement.clientHeight)-12)/600);return t=Math.max(.8,t)," scale(".concat(t,")")}()})}),"data-test-id":"mobile-signup-mask",position:"fixed",zIndex:H||o.QN,children:[(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:P||"rgba(0, 0, 0, 0)"}},children:(0,h.jsxs)(r.so,{alignItems:"center",gap:{row:2,column:0},justifyContent:Q?"end":"start",width:"100%",children:[es&&!Q&&(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingTop:null!=J?J:void 0,paddingRight:null!=X?X:void 0}},"data-test-id":"mobile-modal-cancel-button",padding:2,children:(0,h.jsx)(r.K0,{accessibilityLabel:L,icon:"close",iconColor:el?"subtle":"default",onClick:F||N,padding:4,size:"lg"})}),!Q&&E&&"visual_signup"!==V&&(0,h.jsx)(r.az,{padding:3}),T?(0,h.jsx)(r.so.Item,{flex:"grow",children:(0,h.jsx)(r.so,{alignItems:"center",direction:"column",justifyContent:"center",children:(0,h.jsxs)(r.az,{dangerouslySetInlineStyle:{__style:L&&!E?{marginRight:q?-10:50,marginLeft:q?50:-10,paddingTop:16}:{paddingTop:16}},"data-test-id":"mobile-modal-heading",children:[K?T:(0,h.jsx)(r.KJ,{align:x,size:R||"400",weight:"bold",children:T}),W?(0,h.jsx)(r.KJ,{align:x,children:W}):null]})})}):null,k&&(0,h.jsx)(r.so.Item,{flex:"grow",children:(0,h.jsx)(r.so,{alignItems:"center",direction:"column",justifyContent:"center",children:k})}),es&&Q&&(0,h.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{paddingLeft:2,paddingTop:null!=J?J:2,paddingBottom:2,paddingRight:null!=X?X:void 0}},"data-test-id":"mobile-modal-cancel-button",children:(0,h.jsx)(r.K0,{accessibilityLabel:L,icon:"close",iconColor:el?"subtle":"default",onClick:F||N,padding:4,size:"lg"})}),Q&&E&&"visual_signup"!==V&&(0,h.jsx)(r.az,{padding:3})]})}),(0,h.jsxs)(r.az,{overflow:"auto",children:[S,O]})]})]})})})}},910639(e,n,t){t.d(n,{A:function(){return D}});var i=t(186122),r=t(805454),l=t(467780),a=t(969365),o=t(665708),s=t(912167),c=t(903989),d=t(106910),u=t(425063),p=t(514321),_=t(425347);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var h=["pageType"],f=["pageType"];function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var i,r;i=n,r=t[n],(i=function(e){var n=function(e,n){if("object"!=m(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=m(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==m(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function v(e,n){if(null==e)return{};var t,i,r=function(e,n){if(null==e)return{};var t={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==n.indexOf(i))continue;t[i]=e[i]}return t}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],-1===n.indexOf(t)&&({}).propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var b="http://play.google.com/store/apps/details?id=com.pinterest",w=["access_token","new_password","new_password_confirm","password","next"],x=function(e,n){return n?(0,d.A)(e,{invite_code:n}):e},j=function(e,n,t){if("ios"===n&&"string"==typeof e&&e.startsWith("discover/article/")){var i=e.split("/")[2];e="discover_article/".concat(i,"/?is_deeplink=1")}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?x(e,t):"ios"===n||"ipad"===n?x(e.iOS,t):"android"===n?x(e.android,t):null},A=function(e){var n=e.deeplinkUri,t=e.invite_code,i=e.platform,r=e.fallbackUrl,l=e.unauthId,a=e.app_upsell_type,o=e.checkExperiment,s=(0,c.mt)(),d=s.length>0&&"android"===i&&(null==o?void 0:o("ap_android_landing_signals_deeplink_feature_gate").group)==="enabled"?s.map(function(e){return e.pageType,v(e,h)}).slice(0,10):null;return y(y({deeplink_path:j(n,i,t),current_page_url:(0,p.A)("u">typeof window?window.location.href:"",w),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:a},r?{af_r:r}:null),d?{landing_signals:JSON.stringify({unauth_visited_pages:d})}:null)},z=function(e){var n=e.deeplinkUri,t=e.invite_code,i=e.platform,r=e.unauthId,l=e.app_upsell_type,a=e.checkExperiment,o=(0,c.mt)(),s=o.length>0&&"android"===i&&(null==a?void 0:a("ap_android_landing_signals_deeplink_feature_gate").group)==="enabled"&&(null==a?void 0:a("ap_android_landing_signals_deeplink_playstore_gate").group)==="enabled"?o.map(function(e){return e.pageType,v(e,f)}).slice(0,10):null,d=JSON.stringify(y({deeplink_path:j(n,i,t),current_page_url:(0,p.A)("u">typeof window?window.location.href:"",w),install_id:r},s?{landing_signals:{unauth_visited_pages:s}}:null));return{referrer:(0,u.A)({utm_source:"mweb",utm_medium:"upsell",utm_content:d,app_upsell_type:l})}},P=function(e){var n=e.unauthId,t=e.app_upsell_type;return{referrer:encodeURI((0,u.A)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:n,app_upsell_type:t}))}},k=function(e){var n=e.isAuthenticated,t=e.checkExperiment,i=e.deeplinkUri,r=e.fallbackUrl,l=e.invite_code,a=e.logContextEvent,o=e.platform,c=e.redirectToLite,u=e.unauthId,p=e.userAgent,m=e.app_upsell_type;if(null==a||a({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),i){var h=A({isAuthenticated:n,deeplinkUri:i,fallbackUrl:r,invite_code:l,platform:o,unauthId:u,userAgent:p,app_upsell_type:m,checkExperiment:t});if((0,_.GV)("mweb.deeplink",{sampleRate:1,tags:{platform:o}}),l&&(0,_.GV)("mweb.deeplink.invite_code",{sampleRate:1}),(0,_.GV)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!u}}),c){(0,_.GV)("mweb.deeplink.lite_link",{sampleRate:1}),null==a||a({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});var f=P({unauthId:u,app_upsell_type:m});window.location.href=(0,d.A)("http://play.google.com/store/apps/details?id=com.pinterest.twa",f)}else if("android"===o){var g=z({deeplinkUri:i,invite_code:l,platform:o,unauthId:u,app_upsell_type:m,checkExperiment:t});(0,s.i)()?(0,s.A)().then(function(e){if(e.length>0){var n=window.location.href.endsWith("/login")?window.location.href.replace("/login","string"==typeof i?i:i.android):window.location.href,t=(0,d.A)(n,h);null==a||a({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:y({app_upsell_type:m},h.landing_signals?{landing_signals:h.landing_signals}:null)}),window.open(t)||null==a||a({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:y({app_upsell_type:m},h.landing_signals?{landing_signals:h.landing_signals}:null)}),window.location.href=(0,d.A)(b,g)}).catch(function(){(0,_.GV)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(null==a||a({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:y({app_upsell_type:m},h.landing_signals?{landing_signals:h.landing_signals}:null)}),window.location.href=(0,d.A)(b,g))}else{if((0,_.GV)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===o&&"u">typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.A)("https://pinterest.com/pinterest-predicts",h);return}null==a||a({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.A)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}},S=t(879667);function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach(function(n){var i,r;i=n,r=t[n],(i=function(e){var n=function(e,n){if("object"!=I(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=I(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==I(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[i]=r}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function T(){var e,n,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function l(t,i,r,l){var s=Object.create((i&&i.prototype instanceof o?i:o).prototype);return U(s,"_invoke",function(t,i,r){var l,o,s,c=0,d=r||[],u=!1,p={p:0,n:0,v:e,a:_,f:_.bind(e,4),d:function(n,t){return l=n,o=0,s=e,p.n=t,a}};function _(t,i){for(o=t,s=i,n=0;!u&&c&&!r&&n<d.length;n++){var r,l=d[n],_=p.p,m=l[2];t>3?(r=m===i)&&(s=l[(o=l[4])?5:(o=3,3)],l[4]=l[5]=e):l[0]<=_&&((r=t<2&&_<l[1])?(o=0,p.v=i,p.n=l[1]):_<m&&(r=t<3||l[0]>i||i>m)&&(l[4]=t,l[5]=i,p.n=m,o=0))}if(r||t>1)return a;throw u=!0,i}return function(r,d,m){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&_(d,m),o=d,s=m;(n=o<2?e:s)||!u;){l||(o?o<3?(o>1&&(p.n=-1),_(o,s)):p.n=s:p.v=s);try{if(c=2,l){if(o||(r="next"),n=l[r]){if(!(n=n.call(l,s)))throw TypeError("iterator result is not an object");if(!n.done)return n;s=n.value,o<2&&(o=0)}else 1===o&&(n=l.return)&&n.call(l),o<2&&(s=TypeError("The iterator does not provide a '"+r+"' method"),o=1);l=e}else if((n=(u=p.n<0)?s:t.call(i,p))!==a)break}catch(n){l=e,o=1,s=n}finally{c=1}}return{value:n,done:u}}}(t,r,l),!0),s}var a={};function o(){}function s(){}function c(){}n=Object.getPrototypeOf;var d=c.prototype=o.prototype=Object.create([][i]?n(n([][i]())):(U(n={},i,function(){return this}),n));function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,U(e,r,"GeneratorFunction")),e.prototype=Object.create(d),e}return s.prototype=c,U(d,"constructor",c),U(c,"constructor",s),s.displayName="GeneratorFunction",U(c,r,"GeneratorFunction"),U(d),U(d,r,"Generator"),U(d,i,function(){return this}),U(d,"toString",function(){return"[object Generator]"}),(T=function(){return{w:l,m:u}})()}function U(e,n,t,i){var r=Object.defineProperty;try{r({},"",{})}catch(e){r=0}(U=function(e,n,t,i){function l(n,t){U(e,n,function(e){return this._invoke(n,t,e)})}n?r?r(e,n,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[n]=t:(l("next",0),l("throw",1),l("return",2))})(e,n,t,i)}function L(e,n,t,i,r,l,a){try{var o=e[l](a),s=o.value}catch(e){return void t(e)}o.done?n(s):Promise.resolve(s).then(i,r)}function R(e){var n,t,a=e.children,s=e.invite_code,c=(0,l._8)(),d=c.isAuthenticated,u=c.isBot,p=c.unauthId,_=c.userAgent,m=_.platform,h=_.raw,f=(0,i.o)().logContextEvent,g=(0,r.A)().checkExperiment;return a((n=T().m(function e(n,t,i){return T().w(function(e){for(;;)switch(e.n){case 0:f({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:t}}),k({isAuthenticated:d,checkExperiment:g,deeplinkUri:n,fallbackUrl:i,invite_code:s,logContextEvent:f,platform:m,redirectToLite:(0,o.$m)({isBot:u,platform:m,userAgent:h}),unauthId:p,userAgent:h,app_upsell_type:t});case 1:return e.a(2)}},e)}),t=function(){var e=this,t=arguments;return new Promise(function(i,r){var l=n.apply(e,t);function a(e){L(l,i,r,a,o,"next",e)}function o(e){L(l,i,r,a,o,"throw",e)}a(void 0)})},function(e,n,i){return t.apply(this,arguments)}))}var E=function(e){var n=(0,a.d)();return(0,S.jsx)(R,O(O({},e),{},{invite_code:n}))};E.displayName="DeepLinkNavigator";var D=E},686878(e,n,t){t.d(n,{A:function(){return l}});var i=t(460657),r=t(879667);function l(e){var n=e.children,t=e.onMouseEnter,l=e.onMouseLeave,a=e.onTouch,o=e.rounding,s=e.fullWidth,c=e.pressState,d=void 0===c?"none":c,u=e.accessibilityLabel,p=e.role,_=e.dataTestId,m=(Array.isArray(d)?d:[d]).includes("compress");return(0,r.jsx)(i.Rp,{accessibilityLabel:u,dataTestId:_,fullWidth:void 0!==s&&s,onMouseEnter:t&&function(e){return t(e.event)},onMouseLeave:l&&function(e){return l(e.event)},onTap:a&&function(e){return a(e.event)},role:p,rounding:o,tapStyle:m?"compress":"none",children:n})}},453964(e,n,t){t.d(n,{A:function(){return h}});var i=t(157203),r=t(620162),l=t(186122),a=t(102335),o=t(467780),s=t(3210),c=t(822164),d=t(434656),u=t(517942),p=t(910639),_=t(425347),m=t(879667);function h(e){var n=e.children,t=e.componentType,h=e.app_upsell_type,f=e.isShown,g=void 0===f||f,y=(0,r.zy)(),v=(0,l.o)(),b=v.flushContextEvents,w=v.logContextEvent,x=(0,a.WQ)(),j=x.viewType,A=x.viewParameter,z=(0,c.A)(),P=(0,o._8)().userAgent.platform;(0,i.useEffect)(function(){z({action:"view",item:"download-button",within:h})},[y,h,z]);var k=(0,i.useRef)(!1);(0,i.useEffect)(function(){g&&j&&202!==j?(w({component:t||13106,element:10308,event_type:9976,view_type:j,view_parameter:A,aux_data:{app_upsell_type:h,app_upsell_is_dupe:k.current}}),k.current=!0):(0,_.GV)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:j,view_parameter:A,app_upsell_type:h,app_upsell_is_dupe:k.current}})},[j,A,t,h,w,g]);var S=(0,u.A)();return(0,i.useEffect)(function(){S||(0,s.PM)("mweb.app_upsell.forbidden_upsell.".concat(h))},[S,h]),(0,m.jsx)(p.A,{children:function(e){return n({handleOpenApp:function(n){if(z({action:"click",item:"download-button",within:h}),(0,s.uq)("press_open_app",!0),w({component:t||13106,element:10308,event_type:102,view_type:j||202,view_parameter:A,aux_data:{app_upsell_type:h}}),w({component:t||13106,element:10308,event_type:9977,view_type:j||202,view_parameter:A,aux_data:{app_upsell_type:h}}),b(),e){var i;w({component:t||13106,element:10308,event_type:1701,view_type:j||202,view_parameter:A,aux_data:{app_upsell_type:h}}),e(null!=(i=null==n?void 0:n.deepLinkUri)?i:(0,d.A)(y,"android"===P),h)}}})}})}},900345(e,n,t){t.d(n,{A:function(){return S}});var i=t(620162),r=t(460657),l=t(361053),a=t(370714),o=t(361268),s=t(424054),c=t(467780),d=t(799632),u=t(3210),p=t(694157),_=t(132946),m=t(991224),h=t(891546),f=t(453964),g=t(969607),y=t(299969),v=t(980252),b=t(362579),w=t(665708),x=t(265124),j=t(879667),A=function(e){var n=e.description,t=e.handleDismiss,i=e.heading,l=e.i18n,a=e.appUpsellType,o=e.ctaText;return(0,j.jsx)(f.A,{app_upsell_type:a,componentType:14155,children:function(e){var a=e.handleOpenApp;return(0,j.jsxs)(r.so,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,j.jsx)(r.az,{paddingY:2,children:(0,j.jsx)(r._Y,{align:"center",size:"400",children:i})}),(0,j.jsx)(r.az,{width:246,children:(0,j.jsx)(r.KJ,{align:"center",size:"300",children:n})}),(0,j.jsxs)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:5,children:[(0,j.jsx)(r.az,{marginBottom:2,width:246,children:(0,j.jsx)(r.$n,{color:"primary",fullWidth:!0,onClick:function(){(0,y.A)(),a()},size:"lg",text:o||l._('Open app', 'mweb.auth.referred_app_upsell.open_app', 'CTA text for referred app upsell')})}),(0,j.jsx)(r.$n,{color:"secondary",fullWidth:!0,onClick:function(){t()},size:"lg",text:l._('Continue in browser', 'mweb.auth.referred_app_upsell.continue', 'Continue text for referred app upsell')})]})]})}})},z=function(e){var n=e.handleDismiss,t=e.i18n,i=e.iconSize,l=e.appUpsellType;return(0,j.jsxs)(r.az,{alignItems:"center",bottom:!0,color:"washLight",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new r.rk(5),children:[(0,j.jsx)(r.az,{"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(r.K0,{accessibilityLabel:t._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"close",onClick:n,size:"sm"})}),(0,j.jsxs)(r.az,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(r.az,{display:"flex",justifyContent:"center",paddingY:2,children:(0,j.jsx)(r.In,{accessibilityLabel:t._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"primary",icon:"pinterest",size:i})}),(0,j.jsx)(A,{appUpsellType:l,description:t._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description1', 'description for referred app upsell'),handleDismiss:n,heading:t._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:t})]})]})},P=function(e){var n=e.backgroundImageUrl,t=e.handleDismiss,i=e.heroImage,l=e.i18n,a=e.multipleImages,o=e.appUpsellType;return(0,j.jsxs)(r.az,{alignItems:"center",bottom:!0,color:"washLight",direction:"column",display:"flex",left:!0,paddingX:5,position:"fixed",right:!0,top:!0,zIndex:new r.rk(5),children:[(0,j.jsx)(r.az,{height:319,position:"absolute",top:!0,width:"100%",zIndex:new r.rk(2),children:(0,j.jsx)(r._V,{alt:l._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:n})}),(0,j.jsxs)(r.az,{alignItems:"center",bottom:!0,color:"washLight",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",backdropFilter:"blur(12px)"}},direction:"column",display:"flex",left:!0,paddingX:5,position:"absolute",right:!0,top:!0,zIndex:new r.rk(3),children:[(0,j.jsx)(r.az,{color:"default",dangerouslySetInlineStyle:{__style:{background:"transparent"}},"data-test-id":"referred-app-upsell-dismiss-button",left:!0,padding:4,position:"absolute",top:!0,children:(0,j.jsx)(r.K0,{accessibilityLabel:l._('Cancel', 'mweb.auth.referred_app_upsell.close_modal_label', 'close modal icon'),icon:"close",onClick:t,size:"sm"})}),(0,j.jsxs)(r.az,{direction:"column",display:"flex",height:"100%",justifyContent:"center",margin:"auto",maxWidth:440,children:[(0,j.jsx)(r.so,{justifyContent:"center",children:i}),(0,j.jsx)(A,{appUpsellType:o,description:a?l._('Save these ideas, get similar recs, and more', 'mweb.auth.referred_app_upsell.description2', 'description for referred app upsell'):l._('Save this idea, get similar recs, and more', 'mweb.auth.referred_app_upsell.description5', 'description for referred app upsell'),handleDismiss:t,heading:l._('It\'s better in the Pinterest app', 'mweb.auth.referred_app_upsell.heading1', 'heading for referred app upsell'),i18n:l})]})]})]})},k=function(e){var n=e.pinUrl,t=e.i18n;return(0,j.jsx)(r.az,{height:235,marginBottom:6,overflow:"hidden",rounding:400,width:176,children:(0,j.jsx)(r._V,{alt:t._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:n})})};function S(e){var n=e.onDismiss,t=e.viewParameter,S=e.viewType,I=(0,a.A)(),C=(0,m.wI)(),O=(0,c._8)(),T=O.isBot,U=O.userAgent,L=U.platform,R=U.raw,E=(0,w.$m)({isBot:T,platform:L,userAgent:R}),D=(0,v.A)().trackAppUpsellDismiss,K=C?60:32,M=(0,i.g)().id,B=(0,i.zy)(),F=(0,_.A)(B.search).invite_code,N=(0,g.E)(),G=N.appUpsellType,Q=N.uiType;(0,h.A)(function(){(0,u.PM)("mweb.referred_app_upsell_view.".concat(Q))});var W=function(){D({appUpsellType:G,viewType:S,viewParameter:t,component:14155,element:10308}),(0,y.A)(),n()},V=null!=M?M:"",H=(0,d.A)(V?{name:"PinResource",options:{field_set_key:"detailed",id:V}}:null).data,J=(0,x.HR)()(V),X=(0,i.g)(),Y=X.username,$=X.slug,q=(0,d.A)(Y&&$?{name:"BoardResource",options:{username:(0,p.A)(Y),slug:(0,p.A)(unescape($||"")),field_set_key:"detailed"}}:null).data;if("full"===Q){var Z="",ee=null,en=!1;if((0,s.dM)(B)){var et,ei=null!=H?H:J;Z=(null==ei||null==(et=ei.images)||null==(et=et.orig)?void 0:et.url)||"",ee=(0,j.jsx)(k,{i18n:I,pinUrl:Z})}if((0,s.iK)(B)&&q&&q.images&&q.images["474x"])if(q.images["474x"].length>2){Z=q.images["474x"][0].url||"";var er=q.images["474x"][1].url||"",el=q.images["474x"][2].url||"";en=!0,ee=(0,j.jsx)(r.az,{marginBottom:7,children:(0,j.jsxs)(r.so,{children:[(0,j.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{borderTopLeftRadius:"16px",borderBottomLeftRadius:"16px",marginRight:"1px"}},height:117,overflow:"hidden",width:117,children:(0,j.jsx)(r._V,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:Z})}),(0,j.jsxs)(r.so,{direction:"column",children:[(0,j.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{borderTopRightRadius:"16px",marginBottom:"1px"}},height:59,overflow:"hidden",width:57,children:(0,j.jsx)(r._V,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:er})}),(0,j.jsx)(r.az,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:"16px"}},height:57,overflow:"hidden",width:58,children:(0,j.jsx)(r._V,{alt:I._('App upsell image', 'mweb.auth.referred_app_upsell.image', 'Related pin image for referred app upsell'),fit:"cover",naturalHeight:1,naturalWidth:1,src:el})})]})]})})}else q.images["474x"].length>0&&(Z=q.images["474x"][0].url||"",ee=(0,j.jsx)(k,{i18n:I,pinUrl:Z}));return Z?(0,j.jsx)(P,{appUpsellType:G,backgroundImageUrl:Z,handleDismiss:W,heroImage:ee,i18n:I,multipleImages:en}):(0,j.jsx)(z,{appUpsellType:G,handleDismiss:W,i18n:I,iconSize:K,upsellAppIsAndroidLiteApp:E})}if("inline"===Q){var ea=(0,j.jsx)(r.az,{color:"washLight",padding:1,rounding:100,children:(0,j.jsx)(r.In,{accessibilityLabel:I._('Pinterest logo', 'AppUpsellFooter.icon', 'Pinterest logo icon for app upsell footer'),color:"primary",icon:"pinterest",inline:!0,size:28})}),eo=I._('It\'s better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell'),es=I._('Get similar recs and more', 'mweb.auth.referred_app_upsell.description4', 'description for referred app upsell');return G.endsWith("social-referred")&&F&&(eo=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:F},children:function(e){var n,t;return(0,o.vQ)(I._('{{ invitee }} shared this idea', 'mweb.auth.referred_app_upsell.heading5', 'heading for referred app upsell that has the invitee info'),{invitee:(null==(n=e.v3GetInviteCodeQuery)?void 0:n.__typename)==="InviteCodeResponse"?null==(t=e.v3GetInviteCodeQuery)||null==(t=t.data)||null==(t=t.sender)?void 0:t.firstName:""})}}),es=I._('Open app to discover more', 'mweb.auth.referred_app_upsell.description6', 'description for referred app upsell'),F&&(ea=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:F},children:function(e){var n,t;return(0,j.jsx)(r.az,{height:48,overflow:"hidden",rounding:600,width:48,children:(null==(n=e.v3GetInviteCodeQuery)?void 0:n.__typename)==="InviteCodeResponse"&&(null==(t=e.v3GetInviteCodeQuery.data)||null==(t=t.sender)?void 0:t.imageMediumUrl)&&(0,j.jsx)(r._V,{alt:I._('App upsell profile image', 'mweb.auth.referred_app_upsell.image1', 'image for referred app upsell, using invitee profile image'),fit:"cover",naturalHeight:1,naturalWidth:1,src:e.v3GetInviteCodeQuery.data.sender.imageMediumUrl})})}}))),(0,j.jsx)(f.A,{app_upsell_type:G,children:function(e){var n=e.handleOpenApp;return(0,j.jsx)(r.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"#F1F1F1"}},direction:"row",display:"flex",height:74,padding:4,width:"100%",zIndex:new r.rk(99999),children:(0,j.jsx)(r.Rp,{onTap:function(){(0,y.A)(),n()},children:(0,j.jsxs)(r.so,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[ea,(0,j.jsxs)(r.az,{flex:"grow",marginStart:4,children:[(0,j.jsx)(r.az,{marginBottom:1,children:(0,j.jsx)(r.KJ,{children:eo})}),(0,j.jsx)(r.KJ,{weight:"bold",children:es})]}),(0,j.jsx)(r.az,{"data-test-id":"referred-app-upsell-dismiss-button",children:(0,j.jsx)(r.K0,{accessibilityLabel:"cancel",icon:"close",onClick:function(e){var n=e.event;W(),n.preventDefault(),n.stopPropagation()},size:"sm"})})]})})})}})}var ec=I._('Pinterest is better in the app', 'mweb.auth.referred_app_upsell.heading3', 'heading for referred app upsell');return G.endsWith("social-referred")&&F&&(ec=(0,j.jsx)(b.UseCloseupInviteQuery,{variables:{inviteCode:F},children:function(e){var n,t;return(0,o.vQ)(I._('Join {{ invitee }} on Pinterest', 'mweb.auth.referred_app_upsell.heading4', 'heading for referred app upsell that has the invitee info'),{invitee:(null==(n=e.v3GetInviteCodeQuery)?void 0:n.__typename)==="InviteCodeResponse"?null==(t=e.v3GetInviteCodeQuery)||null==(t=t.data)||null==(t=t.sender)?void 0:t.firstName:""})}})),(0,j.jsx)(l.default,{accessibilityModalLabel:I._('modal', 'mweb.auth.referred_app_upsell.modal_label', 'modal label'),closeOnOutsideClick:!1,isOpen:!0,mobileHideCloseIcon:!0,onDismiss:function(){},type:"app_upsell_v1",zIndex:new r.rk(101),children:(0,j.jsxs)(r.az,{"data-test-id":"appUpsell-iframe",padding:2,children:[(0,j.jsx)(r.az,{display:"inlineBlock",position:"absolute",children:(0,j.jsx)(r.az,{"data-test-id":"referred-app-upsell-dismiss-button",marginStart:1,marginTop:1,children:(0,j.jsx)(r.K0,{accessibilityLabel:I._('close', 'mweb.auth.referred_app_upsell.close', 'close button'),icon:"close",onClick:W,size:"sm"})})}),(0,j.jsxs)(r.az,{marginBottom:5,marginTop:8,paddingX:2,children:[(0,j.jsx)(r.az,{display:"flex",justifyContent:"center",paddingY:3,children:(0,j.jsx)(r.In,{accessibilityLabel:I._('Logo', 'mweb.auth.referred_app_upsell.logo', 'logo icon'),color:"primary",icon:"pinterest",size:K})}),(0,j.jsx)(A,{appUpsellType:G,description:I._('Save ideas, interact with friends, and get inspired', 'mweb.auth.referred_app_upsell.description3', 'description for referred app upsell'),handleDismiss:W,heading:ec,i18n:I})]})]})})}},434656(e,n,t){t.d(n,{A:function(){return r}});var i=t(424054);function r(e,n){return"/"===e.pathname?"/":(0,i.iK)(e)&&n?"board/".concat(e.pathname.substr(1)):e.pathname.substr(1)}},299969(e,n,t){t.d(n,{A:function(){return o}});var i=t(550247),r=t(497398),l=t(792307),a=t(395394);function o(){var e=(0,l.y1)();e.setItem(i.P0,Date.now()),e.getItem(i.K7)||e.setItem(i.K7,Date.now()),(0,a.V2)().setItem(r.Ae,!0)}},980252(e,n,t){t.d(n,{A:function(){return r}});var i=t(186122);function r(){var e=(0,i.o)().logContextEvent;return{trackAppUpsellDismiss:function(n){var t=n.appUpsellType,i=n.viewType;e({event_type:10220,view_type:null!=i?i:202,view_parameter:n.viewParameter,component:n.component,element:n.element,aux_data:{app_upsell_type:t}})}}}},650775(e,n,t){t.d(n,{C:function(){return i}});function i(e){return"IsStoryPin"===e.kind}},362579(e,n,t){t.r(n),t.d(n,{UseCloseupInviteQuery:function(){return x},default:function(){return j}});var i,r=t(745917),l=t(460657),a=t(614974),o=t(969365),s=t(650775),c=t(906938),d=t(370714),u=t(17036),p=t(822164),_=t(686878),m=t(425347),h=t(879667);function f(e){var n=e.isStoryPin,t=e.inviteText,i=e.inviterFirstName,r=e.isThinnerStyle,a=e.username,o=(0,p.A)(),s=t.split(i);return(0,h.jsx)(l.az,{children:(0,h.jsx)(_.A,{onTouch:function(){(0,m.GV)("mweb_social_unauth.closeup.social_text_click")},pressState:"none",children:(0,h.jsxs)(l.so,{direction:"row",gap:{row:1,column:0},children:[(0,h.jsx)(l.KJ,{inline:!0,size:"300",children:s[0]}),n?(0,h.jsx)(l.KJ,{inline:!0,size:"300",weight:"bold",children:(0,h.jsx)(l.N_,{href:"/"+a,onClick:function(){o({action:"click",item:"invite-profiler"})},target:"blank",children:i})}):(0,h.jsx)(l.KJ,{inline:!0,size:r?"200":"300",weight:r?"normal":"bold",children:(0,h.jsx)(l.N_,{href:"/"+a,onClick:function(){o({action:"click",item:"invite-profiler-not-story"})},target:"blank",children:i})}),(0,h.jsx)(l.KJ,{inline:!0,size:r?"200":"300",children:s[1]})]})})})}function g(e){var n=e.inviter,t=e.socialContextBannerStyle,i=e.setShouldShowSocialUpsellBanner,r=t.shouldShowSignupUpsellText,a=t.isDismissible,o=(0,d.A)(),s=n.username,m=n.imageMediumUrl,g=n.firstName,y=(0,u.A)(),v=(0,p.A)();return(0,h.jsx)(l.so,{alignItems:"center",justifyContent:a?"center":"start",children:(0,h.jsx)(l.az,{children:(0,h.jsx)(l.Rp,{fullHeight:!0,onTap:function(){v({action:"click",item:"close-button",within:"social-banner"}),y({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"tap_desktop_unauth_social_context_banner",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}})},children:(0,h.jsxs)(l.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(233, 228, 255, 0.9)"}},direction:"row",display:"flex",height:44,marginBottom:6,marginStart:2*!a,marginTop:2,paddingX:a?4:2,paddingY:4,position:a?"static":"absolute",rounding:"pill",top:!0,width:a?1012:void 0,zIndex:new l.rk(1),children:[(0,h.jsx)(l.az,{marginBottom:8,marginEnd:1,marginTop:8,width:32,children:(0,h.jsx)(_.A,{onTouch:function(e){e.stopPropagation(),s&&window.open("/"+s),v({action:"click",item:"user-rep",within:"social-banner"})},pressState:"none",children:null!=m&&m.includes("default")?(0,h.jsx)(l.In,{accessibilityLabel:"pinterest logo",color:"default",icon:"pinterest",size:24}):(0,h.jsx)(c.eu,{name:g,size:"fit",src:null!=m?m:void 0})})}),(0,h.jsxs)(l.so,{direction:"row",flex:"grow",children:[(0,h.jsx)(f,{inviterFirstName:g,inviteText:r?(o._('{{ name }} shared this idea.', 'pin.closeup.long_banner.desktop.shareNotification', 'Long banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g):(o._('{{ name }} shared this idea ', 'pin.closeup.banner.desktop.shareNotification', 'Banner notifying desktop users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",g),isStoryPin:!1,isThinnerStyle:r,username:s}),r&&(0,h.jsx)(l.az,{marginEnd:2,marginStart:1,children:(0,h.jsx)(l.KJ,{inline:!0,size:"200",weight:"bold",children:o._('Sign up to join them', 'pin.header.social_context_dweb', 'label')})})]}),a&&(0,h.jsx)(l.K0,{accessibilityLabel:"cancel",icon:"close",onClick:function(e){e.event.stopPropagation(),v({action:"dismiss",item:"close-button",within:"social-banner"}),null==i||i(!1)},size:"sm"})]})})})})}var y=t(453964),v=t(517942);function b(e){var n=e.inviter,t=n.imageMediumUrl,i=n.username,r=n.firstName,a=e.isStoryPin,o=(0,d.A)(),s=function(){return(0,m.GV)("mweb_social_unauth.closeup.avatar_click")},u=(0,v.A)(),g=(0,p.A)(),b=(o._('{{ name }} shared this idea', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them')).replace("{{ name }}",i),w="u">typeof window&&window.innerWidth<360,x=i.length>25,j=(0,h.jsx)(_.A,{pressState:"none",children:(0,h.jsxs)(l.so,{alignItems:"center",gap:4,justifyContent:"start",minHeight:80,children:[(0,h.jsx)(l.az,{marginBottom:4,marginStart:0,marginTop:4,width:48,children:(0,h.jsx)(_.A,{onTouch:s,pressState:"none",children:(0,h.jsx)(c.eu,{name:r,src:null!=t?t:void 0})})}),(0,h.jsx)(l.so,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,h.jsx)(l.az,{marginStart:0,children:(0,h.jsx)(f,{inviterFirstName:r,inviteText:(o._('{{ name }} shared this idea with you', 'pin.closeup.header.shareNotification', 'header notifying users that a sender ({{ name }}) shared a Pin to them, name: username')).replace("{{ name }}",r),isStoryPin:a,isThinnerStyle:!1,username:i})})})]})});return u&&a?(0,h.jsxs)(l.so,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",minHeight:x?100:80,children:[(0,h.jsx)(l.az,{marginBottom:4,marginTop:4,width:40,children:(0,h.jsx)(_.A,{onTouch:s,pressState:"none",children:(0,h.jsx)(c.eu,{name:r,size:"fit",src:null!=t?t:void 0})})}),(0,h.jsx)(l.so.Item,{flex:"grow",children:(0,h.jsxs)(l.az,{alignItems:"center",direction:x?"column":"row",display:"flex",justifyContent:x?"start":"between",padding:3*!!x,children:[(0,h.jsxs)(l.so,{alignItems:"start",direction:"column",gap:{row:0,column:1},wrap:!w,children:[(0,h.jsx)(l.so,{children:(0,h.jsxs)(l.KJ,{align:x?"center":"start",children:[(0,h.jsx)(l.KJ,{inline:!0,weight:"bold",children:(0,h.jsx)(l.N_,{display:"inlineBlock",href:"/".concat(null!=i?i:"","/"),onClick:function(){g({action:"click",item:"invite-profiler"})},target:"blank",underline:"hover",children:i})}),b.split(i)[1]]})}),!x&&(0,h.jsx)(l.KJ,{size:"100",children:o._('Open Pinterest to see more', 'unauth.mweb.shared.banner.edu', 'education for CTA to open app on shared banner')})]}),(0,h.jsx)(l.az,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:3*!!x,minWidth:100*!x,children:(0,h.jsx)(y.A,{app_upsell_type:"social-context-header",componentType:14161,children:function(e){var n=e.handleOpenApp;return(0,h.jsx)(l.$n,{onClick:function(){return n()},size:"md",text:o._('Open app', 'unauth.mweb.shared.banner.cta', 'CTA to open app on shared banner')})}})})]})})]}):j}var w=(void 0!==i||(i=t(371922)).hash&&"04834691a929e56b42c6699e90a97155"!==i.hash&&console.error("The definition of 'UnauthCloseupInviteUpsellQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),x=function(e){var n=e.children,t=e.variables;return n((0,r.useLazyLoadQuery)(w,t))};function j(e){var n=e.inviterFirstNameRef,t=e.isDesktop,i=e.isStoryPin,r=e.setShouldShowSocialUpsellBanner,c=e.socialContextBannerStyle,d=(0,o.d)();return d?(0,h.jsx)(a.A,{children:(0,h.jsx)(x,{variables:{inviteCode:d},children:function(e){var a,o=null==(a=e.v3GetInviteCodeQuery)||null==(a=a.data)?void 0:a.sender,d=null!=o?o:Object.freeze({}),u=d.firstName,p=d.imageMediumUrl,_=d.username;return u&&_?(n&&(n.current=u),t?(0,h.jsx)(g,{inviter:{firstName:u,imageMediumUrl:p,username:_},setShouldShowSocialUpsellBanner:r,socialContextBannerStyle:null!=c?c:{isDismissible:!0,shouldShowSignupUpsellText:!0}}):(0,h.jsx)(l.az,{dangerouslySetInlineStyle:{__style:{boxShadow:"0 1px 0 0 rgba(0, 0, 0, 0.08)"}},marginEnd:-2,marginStart:-2,paddingX:2,children:(0,h.jsx)(b,{inviter:{firstName:u,imageMediumUrl:p,username:_},isStoryPin:(0,s.C)(i)})})):null}})}):null}}}]);