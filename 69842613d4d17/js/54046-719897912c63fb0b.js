"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["54046"],{621580(e,t,n){n.r(t);var r,o,i,a,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:o=[r={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a=[i={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:a,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:o,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};l.hash="3e837db15a9e9f5a0377c7ab62c7401e",t.default=l},874565(e,t,n){n.r(t);var r,o,i,a,l,s,c,u,d,p,f,y=(c={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null},{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"BoardRep_board"}],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},o={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"SearchLandingPageFeaturedBoardsQuery",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"v3RootPageFeaturedBoardsQuery",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!0,selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null}],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s=[l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:s,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},c,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:[i,a,{alias:null,args:null,kind:"ScalarField",name:"blockedByMe",storageKey:null},u,d,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[c,f],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"FeaturedBoard",kind:"LinkedField",name:"featuredBoardMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[u,p,{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[f],storageKey:null},d,a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isSponsoredContent",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:"coverImageSpec_222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"222x")'},{alias:"coverImageSpec_400x300",args:[{kind:"Literal",name:"spec",value:"400x300"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"400x300")'},{alias:"coverImageSpec_216x146",args:[{kind:"Literal",name:"spec",value:"216x146"}],concreteType:"ImageDetails",kind:"LinkedField",name:"coverImages",plural:!1,selections:s,storageKey:'coverImages(spec:"216x146")'},{alias:null,args:null,kind:"ScalarField",name:"imageCoverHdUrl",storageKey:null},a],storageKey:null}],type:"V3RootPageFeaturedBoards",abstractKey:null},o],storageKey:null}]},params:{id:"80c1a1abebbd5ea74f29a00e3aceaa146b22d1a4b6dc1141fd7de9c55c51a678",metadata:{},name:"SearchLandingPageFeaturedBoardsQuery",operationKind:"query",text:null}});y.hash="3ca45565a804bd5428a8509aa83434c3",t.default=y},570551(e,t,n){n.r(t);var r,o,i,a,l,s={fragment:{argumentDefinitions:r=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],kind:"Fragment",metadata:null,name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:o=[{kind:"Variable",name:"pin",variableName:"pinId"}],concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:r,kind:"Operation",name:"useDynamicSearchPlaceholderDataQuery",selections:[{alias:null,args:o,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[i,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[a,l,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"e23a4165dc6f285e042f7e6e8b3bcb629c5f425352dfa3c3e807dd864f3ca8f1",metadata:{},name:"useDynamicSearchPlaceholderDataQuery",operationKind:"query",text:null}};s.hash="5a3162913508a33c37676bde5973ea45",t.default=s},185653(e,t,n){n.d(t,{Q:function(){return k},x:function(){return I}});var r=n(157203),o=n(840868),i=n(669298),a=n(794044),l=n(113530),s=n(584275),c=n(786523),u=n(516593),d=n(15276),p=n(114190),f=n(4513),y=n(546763),m=n(359580),h=n(250913),g=n(879667);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var j=function(e,t,n){var r=null==t?void 0:t.find(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.product_filter_type)===n});if(r){var o=(0,m.A)(h.A,!0)(r),i=e.findIndex(function(e){var t,r=e.action;return(null==r||null==(t=r.filter)?void 0:t.productFilterType)===n});e[i]?e[i]=o:e.push(o)}},A=function(e,t,n,r){var o,i=r.find(function(t){var n,r=t.action;return"number"==typeof(null==r||null==(n=r.filter)?void 0:n.productFilterType)&&e.has(r.filter.productFilterType)});if(null!=i&&null!=(o=i.action)&&o.filter){var a=i.action.filter.filterOptions;i.action.filter.appliedFilterOptions="string"==typeof t?null==a?void 0:a.filter(function(e){return(null==e?void 0:e[n])&&t.split(",").includes(String(e[n]))}).map(function(e){return w(w({},e),{},{selected:!0})}):[]}},O=(0,f.A)("OneBarProductFilters"),P=O.Provider,I=O.get;function k(e){var t,n=e.children,f=b((0,r.useState)([]),2),m=f[0],h=f[1],v=b((0,r.useState)(null),2),x=v[0],O=v[1],I=(t=(0,l.u)().scope,[a.cO.BOARDS,a.cO.PINS_BUYABLE,a.cO.PINS_VIDEO,a.cO.USERS].includes(t)),k=(0,d.A)(),T=(0,c.A)(),E=(0,o.A)(),C=(0,i.A)(),L=(0,u.A)(),F=(0,r.useCallback)(function(e){var t=e.oneBarModules,n=e.baseCacheKey,r=null==t?void 0:t.filter(function(e){var t=e.module_type;return 17===t||0===t});if(r&&(null==r?void 0:r.length)!==0&&n){var o=n!==x,i=o?[]:m;(o||!I)&&j(i,r,4),(o||!k)&&j(i,r,1),(o||!T)&&j(i,r,0),(o||!E)&&j(i,r,3),(o||!C)&&j(i,r,6),(o||!L)&&[7,8,9].forEach(function(e){j(i,r,e)}),(0,y.Ay)(i,m)||(h(i),O(n))}},[m,E,C,I,T,L,k,x]),D=(0,s.A)(),M=(0,l.u)(),z=M.priceMax,B=M.priceMin,R=M.scope,N=M.brands,U=M.onSale,K=M.colors,q=M.domains;(0,r.useEffect)(function(){if(D&&0!==m.length){var e=(0,p.A)(m);if(R!==a.cO.PINS){var t,n,r=(0,a.Ef)(R),o=e.find(function(e){return 0===e.moduleType});null!=o&&null!=(n=o.action)&&n.filter&&(o.action.filter.appliedFilterOptions=((function(e){if(Array.isArray(e))return S(e)})(t=o.action.filter.filterOptions||[])||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||_(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter(Boolean).map(function(e){var t=e.searchType;return{searchType:t,selected:t===r}}))}if("string"==typeof z||"string"==typeof B){var i,l,s,c=e.find(function(e){var t,n=e.action;return(null==n||null==(t=n.filter)?void 0:t.productFilterType)===1});null!=c&&null!=(i=c.action)&&i.filter&&(c.action.filter.appliedFilterOptions=[null!=(l=c.action.filter.filterOptions)&&l[0]?w(w({},c.action.filter.filterOptions[0]),{},{numericValue:Number(B)}):null,null!=(s=c.action.filter.filterOptions)&&s[1]?w(w({},c.action.filter.filterOptions[1]),{},{numericValue:Number(z)}):null].filter(Boolean))}A(new Set([3]),N,"stringValue",e),A(new Set([6]),K,"stringValue",e),A(new Set([0]),q,"stringValue",e),A(new Set([7,8,9]),U,"numericValue",e),(0,y.Ay)(e,m)||h(e)}},[m,D,z,B,R,N,K,q,U]);var W=(0,r.useMemo)(function(){return{cachedProductFilterOneBarModules:m,cacheOneBarModules:F}},[m,F]);return(0,g.jsx)(P,{value:W,children:n})}},609848(e,t,n){n.d(t,{Kq:function(){return z},bn:function(){return B},N_:function(){return R}});var r=n(157203),o=n(517837),i=n(767151),a=n(373904);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){var r;return(r=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f=function(e,t,n){return n&&(0,i.BP)(n,t)?o.c.MODIFIED:(0,i.TN)(t,e)||n&&(0,i.oA)(n,e)||(0,i.oA)(t,e)?o.c.CLEARED:o.c.APPLIED};function y(e,t){(0,i.i2)(t);var n,r=e.find(function(e){return(null==e?void 0:e.id)===t.id}),o=null==r?void 0:r.rules,a=(null==r||null==(n=r.filter_options)||null==(n=n.find(function(e){return"selectedOptionId"in t&&e.id===t.selectedOptionId}))?void 0:n.rules)||o;if(!a)return[e,[]];var l=[],s=[];return e.forEach(function(e){void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?l.push(e):s.push(e)}),[l,s]}function m(e,t){switch(t.type){case"RESET_FILTERS":var n=d(t.payload,2),r=n[0],l=n[1],s=r,p=(0,a.A)(l)?(0,i.$M)(r):l;return Object.values(p).forEach(function(e){s=d(y(s,e),1)[0]}),{models:r,availableFilterModels:s,appliedFilters:l,filters:p,isFetching:!1,pendingDeletedSelections:{},status:f(r,l,p)};case"CLEAR_FILTERS":var m=e.models,h=(0,i.Oj)(e.models);return Object.values(h).forEach(function(e){m=d(y(m,e),1)[0]}),c(c({},e),{},{filters:h,availableFilterModels:m,pendingDeletedSelections:{},status:f(e.models,e.appliedFilters,h)});case"UPDATE_FILTER":var g=t.payload,v=d(y(e.models,g),2),b=v[0],_=v[1],S=c(c({},e.filters),{},u({},g.id,g)),x=c({},e.pendingDeletedSelections);return b.forEach(function(e){if(e.id){var t=x[e.id];t&&(S[e.id]=t,delete x[e.id])}}),_.forEach(function(e){if(e.id){var t=S[e.id];t&&(x[e.id]=t,delete S[e.id])}}),(0,i.i2)(g,e.models.find(function(e){return e.id===g.id}))&&delete S[g.id],c(c({},e),{},{availableFilterModels:b,filters:S,pendingDeletedSelections:x,status:f(e.models,e.appliedFilters,S)});case"SUBMIT_FILTER":return c(c({},e),{},{pendingDeletedSelections:{},status:o.c.SUBMITTED});case"SUBMIT_FAILED":return c(c({},e),{},{status:o.c.FAILED});case"SUBMIT_COMPLETE":var w=e.filters;return c(c({},e),{},{appliedFilters:w,pendingDeletedSelections:{},status:f(e.models,w)});case"LOADING":return c(c({},e),{},{isFetching:!0});case"LOADING_COMPLETED_OR_FAILED":return c(c({},e),{},{isFetching:!1});default:return e}}var h=n(840868),g=n(669298),v=n(786523),b=n(516593),_=n(15276),S=n(546763);function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return j(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=new Set([1,0,3,6,7,8,9]),O=function(e,t,n){var r=null==t?void 0:t.find(function(e){return e.product_filter_type===n});if(r){var o=e.findIndex(function(e){return e.product_filter_type===n});e[o]?e[o]=r:e.push(r)}},P=function(e,t,n){var r=null==t?void 0:t.find(function(e){return e.product_filter_type===n});if(!r)return e;var o=e.findIndex(function(e){return e.product_filter_type===n});return e[o]?e[o]=r:e.push(r),e},I=n(584275),k=n(4513),T=n(113530),E=n(879667);function C(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||F(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||F(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){if(e){if("string"==typeof e)return D(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var M=(0,k.A)("UnifiedFiltersContext"),z=M.Provider,B=M.getMaybe,R=function(e){var t,n,a,l,s,c,u,d,p,f,y,k,F=e.applyInitFilters,D=e.children,M=e.filterModels,B=e.filters,R=e.isFetching,N=e.refreshFiltersData,U=(0,T.u)().query,K=(0,I.A)(),q=(n=(t=x((0,r.useState)([]),2))[0],a=t[1],s=(l=x((0,r.useState)(null),2))[0],c=l[1],u=(0,_.A)(),d=(0,v.A)(),p=(0,h.A)(),f=(0,g.A)(),y=(0,b.A)(),k=(0,r.useCallback)(function(e){var t=e.unifiedFilterModels,r=e.baseCacheKey,o=null==t?void 0:t.filter(function(e){var t=e.product_filter_type;return void 0!==t&&A.has(t)});if(o&&(null==o?void 0:o.length)!==0&&r){var i=r!==s,l=i?[]:n;(i||!u)&&O(l,o,1),(i||!d)&&O(l,o,0),(i||!p)&&O(l,o,3),(i||!f)&&O(l,o,6),(i||!y)&&[7,8,9].forEach(function(e){O(l,o,e)}),(0,S.Ay)(l,n)||(a(l),c(r))}},[n,p,f,d,y,u,s]),{getCachedFilters:(0,r.useCallback)(function(e){if(!e||(null==e?void 0:e.length)===0)return[];var t=function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}();return u&&(t=P(t,n,1)),d&&(t=P(t,n,0)),p&&(t=P(t,n,3)),f&&(t=P(t,n,6)),y&&[7,8,9].forEach(function(e){t=P(t,n,e)}),t},[n,p,f,d,y,u]),cacheUnifiedFilterModelsWithProductFilters:k}),W=q.getCachedFilters,G=q.cacheUnifiedFilterModelsWithProductFilters,H=(null==F?void 0:F(M))||B||{},V=L((0,r.useReducer)(m,{models:M,availableFilterModels:M,appliedFilters:H,filters:H,pendingDeletedSelections:{},isFetching:R,status:(0,i.TN)(H,M)||(0,i.oA)(H,M)?o.c.CLEARED:o.c.APPLIED}),2),Q=V[0],Y=V[1],J=L((0,r.useState)(M),2),X=J[0],$=J[1];(0,r.useEffect)(function(){R&&Y({type:"LOADING"})},[R]),(0,r.useEffect)(function(){if(!R&&(!Q.isFetching||0!==M.length)){if(!(0,i.Sp)(X,M))return void Y({type:"LOADING_COMPLETED_OR_FAILED"});var e=M;K||(e=W(C(M)),G({unifiedFilterModels:C(M),baseCacheKey:U})),Y({type:"RESET_FILTERS",payload:[e,(null==F?void 0:F(e))||{}]}),$(M)}},[F,M,X,R,Q.isFetching,W,G,U,K]);var Z=(0,r.useMemo)(function(){return{filterState:Q,dispatch:Y,refreshFiltersData:N}},[Q,N]);return(0,E.jsx)(z,{value:Z,children:D})}},517837(e,t,n){n.d(t,{c:function(){return o},f:function(){return r}});var r=50,o={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},28961(e,t,n){n.d(t,{A:function(){return u}});var r=n(185653),o=n(609848),i=n(767151),a=n(359580),l=n(104971),s=n(893984),c=n(113530);function u(){var e=(0,c.u)(),t=e.brands,n=e.colors,u=e.domains,d=e.onSale,p=e.priceMax,f=e.priceMin,y=(0,o.bn)(),m=(0,r.x)().cachedProductFilterOneBarModules,h=Number((0,s.A)().filter_location);if(1===h){var g=(y||{}).filterState;return g?(0,i.Iz)(g.appliedFilters,g.models):null}if(0===h){var v=(0,a.A)(l.A,!0)(m.map(function(e){var t;return null==(t=e.action)?void 0:t.filter}).filter(Boolean));return(0,i.th)({brandsParam:t,colorsParam:n,domainsParam:u,onSaleParam:d,priceMaxParam:p,priceMinParam:f,unifiedFilterModels:v})}return null}},840868(e,t,n){n.d(t,{A:function(){return i}});var r=n(620162),o=n(132946);function i(){return!!(0,o.A)((0,r.zy)().search).brands}},669298(e,t,n){n.d(t,{A:function(){return a}});var r=n(620162),o=n(805454),i=n(132946);function a(){var e=(0,o.A)().checkExperiment,t=(0,r.zy)();return!!(0,i.A)(t.search).colors&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},584275(e,t,n){n.d(t,{A:function(){return o}});var r=n(805454);function o(){return(0,(0,r.A)().checkExperiment)("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},786523(e,t,n){n.d(t,{A:function(){return i}});var r=n(620162),o=n(132946);function i(){return!!(0,o.A)((0,r.zy)().search).domains}},15276(e,t,n){n.d(t,{A:function(){return i}});var r=n(620162),o=n(132946);function i(){var e=(0,r.zy)(),t=(0,o.A)(e.search),n=t.price_max,i=t.price_min;return!!(null!=i?i:n)}},767151(e,t,n){n.d(t,{$M:function(){return w},A:function(){return C},BP:function(){return v},CX:function(){return D},Iz:function(){return k},Oj:function(){return j},ST:function(){return O},Sp:function(){return b},TN:function(){return S},Vr:function(){return F},b_:function(){return I},ch:function(){return E},i2:function(){return _},oA:function(){return x},th:function(){return P},vd:function(){return L}});var r=n(517837),o=n(546763),i=n(794044);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||u(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw i}}}}function u(e,t){if(e){if("string"==typeof e)return d(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){var r;return(r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){return e.map(function(e){var t=e.filter_component_type,n=e.filter_options,r=e.title;return{filter_component_type:t,filter_options:null==n?void 0:n.map(function(e){return{id:e.id,label:e.label,count:e.count,image_url:e.image_url,is_verified:e.is_verified,numeric_value:e.numeric_value,string_value:e.string_value,unit:e.unit}}),title:r}})},h=function(e,t){if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,o.Ay)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},g=function(e){return!e||!Object.keys(e).length},v=function(e,t){if(g(e)&&g(t))return!1;if(g(e)||g(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(var n in e)if(h(e[n],null==t?void 0:t[n]))return!0;return!1},b=function(e,t){return!(0,o.Ay)(m(e),m(t))},_=function(e,t){if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type){var n,r;return!!(null!=t&&t.filter_options)&&e.min===(null==(n=t.filter_options[0])?void 0:n.numeric_value)&&e.max===(null==(r=t.filter_options[2])?void 0:r.numeric_value)}throw Error("Filter type specific return must be specified")},S=function(e,t){try{var n;for(var r in e)if(n=function(){var n=e[r],o=t.find(function(e){return e.id===(null==n?void 0:n.id)});if(n&&!_(n,o))return{v:!1}}())return n.v;return!0}catch(e){return!0}},x=function(e,t){if(!t||0===t.length)return!1;var n,r=t[0];if(!r)return!1;switch(null==r?void 0:r.filter_component_type){case 2:var o=null==(n=r.filter_options)?void 0:n[0];for(var i in e){var a=e[i];if(!a)break;if("selectedOptionId"in a&&a.selectedOptionId===(null==o?void 0:o.id))return!0}return!1;case 1:for(var l in e){var s=e[l];if(!s)break;if(s.id===r.id&&"selectedOptionIds"in s&&0===s.selectedOptionIds.size)return!0}return!1;default:return!1}},w=function(e){return e.map(function(e){var t,n;switch(e.filter_component_type){case 2:var r=null==(t=e.filter_options)||null==(t=t.find(function(e){return e.is_selected}))?void 0:t.id;return r?{selectedOptionId:r,id:e.id,type:"single"}:null;case 1:var o=null==(n=e.filter_options)?void 0:n.filter(function(e){return e.is_selected}).map(function(e){return e.id});return o&&o.length>0?{selectedOptionIds:new Set(o),id:e.id,type:"multi"}:null;default:return null}}).reduce(function(e,t){return t?f(f({},e),{},y({},t.id,t)):e},{})},j=function(e){if(!e||0===e.length)return{};var t,n=e[0];switch(null==n?void 0:n.filter_component_type){case 2:var r=null==(t=n.filter_options)||null==(t=t[0])?void 0:t.id;return r&&"string"==typeof n.id?y({},n.id,{selectedOptionId:r,lastChangedLocation:1,id:n.id,type:"single"}):{};case 1:return"string"==typeof n.id?y({},n.id,{selectedOptionIds:new Set,lastChangedLocation:1,id:n.id,type:"multi"}):{};default:return{}}},A=function(e){return e.map(function(e){var t=e.filter_id,n=e.filter_options,r=e.product_filter_type,o=t;return"number"==typeof r&&(o+="_".concat(r)),n.length>0&&(o+=":",n.forEach(function(e,t){var r=e.filter_option_id,i=e.numeric_value,a=e.string_value,l=e.unit;o+="".concat(r),"number"==typeof i&&(o+="_".concat(i)),"string"==typeof a&&(o+="_".concat(a)),"string"==typeof l&&(o+="_".concat(l)),t<n.length-1&&(o+=",")})),o}).join("|")},O=function(e){var t,n=e.brands,r=e.colors,o=e.domains,a=e.onSale,l=e.priceMax,u=e.priceMin,d=e.scope,p=e.unifiedFilterModels,f={},y=c(p);try{for(y.s();!(t=y.n()).done;)!function(){var e=t.value,c=e.filter_options,p=e.id,y=e.product_filter_type;if(p&&null!=c&&c.length){if(1===y&&("number"==typeof u||"number"==typeof l)){var m,h,g,v,b=s(c,4),_=b[0],S=b[1],x=b[2],w=b[3],j=null!=(m=null!=(h=null!=u?u:null==x?void 0:x.numeric_value)?h:null==_?void 0:_.numeric_value)?m:0,A=null!=(g=null!=(v=null!=l?l:null==w?void 0:w.numeric_value)?v:null==S?void 0:S.numeric_value)?g:100;f[p]={min:j,max:A,id:p,type:"range",lastChangedLocation:1}}if(0===y&&o&&o.length>0){var O=o.map(function(e){var t=c.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);O.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(O),type:"multi"})}if(3===y&&n&&n.length>0){var P=n.map(function(e){var t=c.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);P.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(P),type:"multi"})}if(6===y&&r&&r.length>0){var I=r.map(function(e){var t=c.find(function(t){return t.string_value===e});return t?t.id:null}).filter(Boolean);I.length>0&&(f[p]={id:p,lastChangedLocation:1,selectedOptionIds:new Set(I),type:"multi"})}if(4===y&&d){var k=(0,i.Ef)(d),T=c.find(function(e){return e.search_type===k});null!=T&&T.id&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:T.id,type:"single"})}if("number"==typeof y&&new Set([7,8,9]).has(y)&&a){var E,C=null==(E=c[0])?void 0:E.id;C&&(f[p]={id:p,lastChangedLocation:1,selectedOptionId:C,type:"single"})}}}()}catch(e){y.e(e)}finally{y.f()}return f},P=function(e){var t,n,r,o,i=e.brandsParam,a=e.colorsParam,l=e.domainsParam,s=e.onSaleParam,u=e.priceMaxParam,d=e.priceMinParam,p=e.unifiedFilterModels,f=[],y=Number(d),m=Number(u),h=Number.isNaN(y)?void 0:y,g=Number.isNaN(m)?void 0:m,v=null!=(t=null==l?void 0:l.split(",").filter(Boolean))?t:[],b=null!=(n=null==i?void 0:i.split(",").filter(Boolean))?n:[],_=null!=(r=null==a?void 0:a.split(",").filter(Boolean))?r:[],S=c(p);try{for(S.s();!(o=S.n()).done;)!function(){var e=o.value,t=e.filter_options,n=e.id,r=e.product_filter_type;if(n&&null!=t&&t.length){if(1===r&&"number"==typeof h&&"number"==typeof g){var i={filter_id:n,filter_options:t.slice(0,2).filter(function(e){return void 0!==e.id}).map(function(e,t){return{filter_option_id:e.id,numeric_value:0===t?h:g,unit:e.unit||"USD"}}),location:0,product_filter_type:r};f.push(i)}if(0===r&&v&&v.length>0){var a=v.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(a.length>0){var l={filter_id:n,filter_options:a.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(l)}}if(3===r&&b&&b.length>0){var c=b.map(function(e){var n=t.find(function(t){return t.string_value===e});return n?n.id:null}).filter(Boolean);if(c.length>0){var u={filter_id:n,filter_options:c.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(u)}}if(6===r&&_&&_.length>0){var d=_.map(function(e){var n=t.find(function(t){var n;return(null==(n=t.string_value)?void 0:n.toLowerCase())===e.toLowerCase()});return n?n.id:null}).filter(Boolean);if(d.length>0){var p={filter_id:n,filter_options:d.map(function(e){return{filter_option_id:e,string_value:e}}),location:0,product_filter_type:r};f.push(p)}}if(7===r&&s){var y,m=null==(y=t[0])?void 0:y.id;if(m){var S={filter_id:n,filter_options:[{filter_option_id:m,numeric_value:Number(s)}],location:0,product_filter_type:r};f.push(S)}}}}()}catch(e){S.e(e)}finally{S.f()}return 0===f.length?null:A(f)},I=function(e){var t,n=e.filterMap,r=e.isInWebHundredPercentProductLoadExp,o=e.models,a=null,l=null,s=!1,c=null,u=null,d=null,p=null,f=null;for(var y in n)!function(){var e=n[y];if(e){var t=o.find(function(t){return t.id===e.id});if(t)if("range"===e.type&&1===t.product_filter_type)d=e.min,u=e.max;else if("multi"===e.type&&0===t.product_filter_type){var m,h,g=null==(h=t.filter_options)?void 0:h.filter(function(t){return e.selectedOptionIds.has(t.id||"")});c=null==g?void 0:g.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===e.type&&3===t.product_filter_type){var v,b=null==(v=t.filter_options)?void 0:v.filter(function(t){return e.selectedOptionIds.has(t.id||"")});a=null==b?void 0:b.map(function(e){return e.string_value}).filter(Boolean)}else if("multi"===e.type&&6===t.product_filter_type){var _,S=null==(_=t.filter_options)?void 0:_.filter(function(t){return e.selectedOptionIds.has(t.id||"")});l=null==S?void 0:S.map(function(e){return e.string_value}).filter(Boolean)}else if("single"===e.type&&4===t.product_filter_type){var x,w=null==(x=t.filter_options)?void 0:x.find(function(t){return e.selectedOptionId===t.id}),j=w&&void 0!==w.search_type?(0,i.UQ)(w.search_type):i.cO.PINS;f=j,r&&(f=j===i.cO.PINS_BUYABLE?i.cO.PINS:j,s=j===i.cO.PINS_BUYABLE)}else"single"===e.type&&7===t.product_filter_type&&(p=null==(m=t.filter_options)||null==(m=m[0])?void 0:m.numeric_value)}}();var m=o.find(function(e){return 4===e.product_filter_type}),h=null==m||null==(t=m.filter_options)?void 0:t.find(function(e){return e.is_selected});return null===f&&"number"==typeof(null==h?void 0:h.search_type)&&(f=(0,i.UQ)(h.search_type)),{brands:a,colors:l,commerce_only:s,domains:c,max:u,min:d,on_sale:p,scope:f}},k=function(e,t){var n=[];return(Object.entries(e).forEach(function(e){var r=s(e,2),o=r[0],i=r[1],a=t.find(function(e){return e.id===i.id});if(a&&4!==a.product_filter_type&&"number"==typeof a.product_filter_type&&a.filter_options){var l=[];if("range"===i.type){var c=s(a.filter_options,2),u=c[0],d=c[1];if(!(null!=u&&u.id)||!(null!=d&&d.id))return;l=[{filter_option_id:u.id,numeric_value:i.min,unit:u.unit},{filter_option_id:d.id,numeric_value:i.max,unit:d.unit}]}if("single"===i.type){var p=a.filter_options.find(function(e){return e.id===i.selectedOptionId});if(!(null!=p&&p.id))return;l=[{filter_option_id:p.id,numeric_value:p.numeric_value,string_value:p.string_value}]}if("multi"===i.type){var f=a.filter_options.filter(function(e){return e.id&&i.selectedOptionIds.has(e.id)});if(0===f.length)return;l=f.filter(function(e){return void 0!==e.id}).map(function(e){return{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}})}n.push({filter_id:o,filter_options:l,location:i.lastChangedLocation,product_filter_type:a.product_filter_type})}}),n&&0!==n.length)?A(n):null},T=function(e){var t=e.map(function(e){if(!e)return null;var t=e.auxData,n=e.id,r=e.imageUrl,o=e.isVerified,i=e.label,a=e.numericValue,s=e.searchType,c=e.stringValue,u=e.unit,d=e.rules;return null===r||null===r||null===a||null===o||null===c||null===u?null:f(f(f({id:n||"",label:i||"",count:0,image_url:r,is_verified:o,numeric_value:a},d?{rules:l(d)}:{}),"number"==typeof s?{search_type:s}:{}),{},{string_value:c,unit:u},"string"==typeof(null==t?void 0:t.moduleId)?{aux_data:{module_id:t.moduleId}}:{})}).filter(Boolean);return t.length>0?t:null},E=function(e){var t=e.action||{},n=t.filter,r=t.title,o=(n||{}).title,i=r||o;if(!n||!i)return null;var a=n.filterComponentType,s=n.productFilterType,c=n.id,u=(n.filterOptions||[]).filter(Boolean);if(void 0===a||void 0===u||0===u.length||null==s||null==c)return null;var d=T(u);return d?{filter_component_type:a,filter_options:l(d),id:c||"",product_filter_type:s,title:i}:null};function C(e,t,n){var o,i,a,l=s(n,4),c=l[0],u=l[1],d=l[2],p=l[3],f=(null!=(o=null!=p?p:c)?o:{}).numeric_value,y=void 0===f?0:f,m=(null!=(i=null!=d?d:u)?i:{}).numeric_value,h=void 0===m?y+r.f:m,g=(null!=c?c:{}).unit,v=(null==(a=e.filters[t])?void 0:a.type)==="range"?e.filters[t]:{min:y,max:h,id:t,type:"range",lastChangedLocation:1};return{defaultMax:h,defaultMin:y,unit:void 0===g?"USD":g,range:v}}function L(e){return"multi"!==e.type?e:f(f({},e),{},{selectedOptionIds:new Set})}function F(e,t){var n=[];return Object.entries(t).forEach(function(t){var r=s(t,2),o=r[0],i=r[1],a=e.find(function(e){return(null==e?void 0:e.id)===o});if(a){var c,u=null==(c=a.aux_data)?void 0:c.module_id;u&&n.push(u);var d=("multi"===i.type?Array.from(i.selectedOptionIds):"single"===i.type?[i.selectedOptionId]:[]).map(function(e){var t,n,r=null==(t=a.filter_options)?void 0:t.find(function(t){return t.id===e});return(null==r||null==(n=r.aux_data)?void 0:n.module_id)||""}).filter(Boolean);n.push.apply(n,l(d))}}),n}function D(e,t){var n=[];return Object.keys(t).forEach(function(t){var r=e.find(function(e){return(null==e?void 0:e.id)===t});if(r){var o=r.product_filter_type;o&&n.push(o)}}),n}},887826(e,t,n){n.d(t,{S:function(){return o},g:function(){return i}});var r=n(388877),o=[r.I.GUIDED_SEARCH_LANDING,r.I.GUIDED_SEARCH_ENTRY],i=296},642347(e,t,n){var r=n(620162),o=n(424054),i=n(805454),a=n(467780),l=n(991224);t.A=function(e){var t=e.shouldSkipExpActivation,n=(0,a._8)().isAuthenticated,s=(0,l.qJ)(),c=(0,r.zy)(),u=(0,i.A)().checkExperiment;return!n&&s&&(0,o.fF)(c)&&u("unauth_eoq_mau_lever",{dangerouslySkipActivation:void 0!==t&&t}).anyEnabled}},336297(e,t,n){function r(e){return[0,24,21,26].includes(e)}function o(e){var t=e.articleType,n=e.id,r=e.title.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\â€™'"]/g,"").trim().replace(/\s+/g,"-");return"today"===t?"/today/shop/".concat(r,"/").concat(n,"/"):"/discover/article/".concat(r,"/").concat(n,"/")}n.d(t,{I:function(){return r},k:function(){return o}})},42122(e,t,n){n.d(t,{A:function(){return R}});var r=n(157203),o=n(764266),i=n.n(o),a=n(460657);function l(e,t){return Math.max(0,((t<=0?0:Math.ceil(e/t))-1)*t)}function s(e,t,n){return n<=1?Math.max(0,Math.min(e,t-1)):Math.min(Math.max(0,Math.floor(e/n)*n),l(t,n))}var c=n(370714),u=n(879667);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var f="12px";function y(e){var t=e.containerRef,n=e.carouselClassName,o=e.currentIndex,i=void 0===o?0:o,p=e.itemCount,y=e.itemHeight,m=e.itemsPerPage,h=e.onIndexChange,g=e.showNavigationArrows,v=void 0!==g&&g,b=(0,r.useRef)(null),_=(0,c.A)(),S=d((0,r.useState)(void 0),2),x=S[0],w=S[1],j=d((0,r.useState)(0),2),A=j[0],O=j[1];(0,r.useLayoutEffect)(function(){var e,r=!1,o=function(){if(!r){var i=t.current,a=null==i?void 0:i.querySelector(".".concat(n)),l=null==a?void 0:a.querySelector("li"),s=(null==l?void 0:l.querySelector('[data-test-id="pinrep-image"]'))||(null==l?void 0:l.querySelector("img"));if(s&&i&&a){var c=s.getBoundingClientRect(),u=i.getBoundingClientRect();if(c.height>0){w(c.height),O(c.top-u.top),r=!0;return}}e=setTimeout(o,100)}};return o(),function(){r=!0,e&&clearTimeout(e)}},[t,n]);var P=null!=x?x:y,I=P?"calc(".concat(P,"px / 2 - ").concat(18,"px)"):"calc(50% - ".concat(18,"px)"),k=(0,r.useCallback)(function(){if(m&&m>1){var e=Math.max(0,s(i,p,m)-m);null==h||h(e)}else{var t=Math.max(0,i-1);null==h||h(t)}},[i,p,m,h]),T=(0,r.useCallback)(function(){if(m&&m>1){var e=s(i,p,m),t=Math.min(l(p,m),e+m);null==h||h(t)}else{var n=Math.min(p-1,i+1);null==h||h(n)}},[i,p,m,h]),E=function(){if(!v)return{showPrevious:!1,showNext:!1};if(m&&m>1){var e=s(i,p,m);return{showPrevious:e>0,showNext:e<l(p,m)}}return{showPrevious:i>0,showNext:i<p-1}}(),C=E.showPrevious,L=E.showNext;return(0,u.jsxs)(a.az,{ref:b,dangerouslySetInlineStyle:{__style:{height:P?"".concat(P,"px"):"100%",pointerEvents:"none",top:"".concat(A,"px")}},left:!0,position:"absolute",right:!0,zIndex:new a.rk(100),children:[(0,u.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{left:f,pointerEvents:"auto",top:I}},opacity:100*!!C,position:"absolute",children:(0,u.jsx)(a.K0,{accessibilityLabel:_._('View Previous', 'CarouselOverlay.scrollButton.viewPrevious', 'Accessibility label for button to navigate to the previous item in the carousel'),bgColor:"default",dataTestId:"carousel-overlay-previous",icon:"chevron-left",onClick:k,size:"md"})}),(0,u.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",right:f,top:I}},opacity:100*!!L,position:"absolute",children:(0,u.jsx)(a.K0,{accessibilityLabel:_._('View Next', 'CarouselOverlay.scrollButton.viewNext', 'Accessibility label for button to navigate to the next item in the carousel'),bgColor:"default",dataTestId:"carousel-overlay-next",icon:"chevron-right",onClick:T,size:"md"})})]})}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var v={bottom:"15px",boxShadow:"0 1px 0px rgba(0, 0, 0, 0.1)",left:0,position:"absolute",right:0};function b(e){var t=e.index,n=e.isActive,r=e.mode,o=e.onClick,i=e.label;return(0,u.jsx)(a.az,{height:8,width:8,children:(0,u.jsx)(a.Rp,{accessibilityLabel:i||"Navigate to slide ".concat(t+1),onTap:function(){return o(t)},rounding:"circle",children:(0,u.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"single"===r?"var(--sema-color-background-default)":"var(--sema-color-background-inverse)":"single"===r?"rgba(255, 255, 255, 0.6)":"var(--sema-color-background-secondary)",transition:"background-color 0.2s ease"}},height:8,rounding:"circle",width:8})})},t)}function _(e){var t,n=e.currentIndex,o=e.itemCount,i=e.itemLabels,l=e.itemsPerPage,c=e.mode,d=e.onNavigateToIndex,p=l?s(n,o,l):n,f=(0,r.useCallback)(function(e){d(e)},[d]),y=l?Math.ceil(o/l):o,_=l?l<=1?Math.max(0,Math.min(p,o-1)):Math.floor(s(p,o,l)/l):p;return y<=1?null:(0,u.jsx)(a.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=m(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=m(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==m(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},"single"===c&&v)},"data-test-id":"scroll-markers-fallback",display:"flex",justifyContent:"center",zIndex:"single"===c?new a.rk(100):void 0,children:(0,u.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{display:"grid",gridAutoColumns:"1rem",gridAutoFlow:"column",placeItems:"center"}},width:"fit-content",children:((function(e){if(Array.isArray(e))return h(e)})(t=Array(y).keys())||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return h(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,void 0):void 0}}(t)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).map(function(e){var t=l?e*l:e;return(0,u.jsx)(b,{index:t,isActive:e===_,label:null==i?void 0:i[t],mode:c,onClick:f},e)})})})}var S=n(467780),x=function(e){var t=e.mode,n=e.forceShowNavigationButtons,r=e.showNavigationButtons,o=void 0!==r&&r,i=e.showScrollMarkers,a=void 0!==i&&i,l=(0,S._8)().userAgent,s=l.browserName,c=l.browserVersion,u="Chrome"===s&&Number(c.split(".")[0])>=135&&("u"<typeof window||void 0===window.Cypress);return"multi"===t?{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:o,enableFallbackScrollMarkers:a}:u&&void 0===n?{enableCssScrollButtons:o,enableCssScrollMarkers:a,enableFallbackScrollButtons:!1,enableFallbackScrollMarkers:!1}:{enableCssScrollButtons:!1,enableCssScrollMarkers:!1,enableFallbackScrollButtons:o,enableFallbackScrollMarkers:a}};function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return j(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?j(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var A=n(891546);function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var P=function(e){var t,n=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return O(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),o=n[0],i=n[1],a=(0,r.useRef)(null);return(0,A.A)(function(){var t=null;if(e.current){var n=function(){var t=e.current;if(t){var n=t.offsetWidth,r=t.querySelector("li");if(r){var o=r.offsetWidth;if(o>0&&n>0){var a=Math.max(1,Math.floor((n-32+8)/(o+8)));i(function(e){return e!==a?a:e})}}}},r=function(){a.current&&cancelAnimationFrame(a.current),a.current=requestAnimationFrame(function(){n(),a.current=null})};r(),(t=new ResizeObserver(r)).observe(e.current)}return function(){a.current&&cancelAnimationFrame(a.current),t&&t.disconnect()}}),o},I=n(425347),k=function(e){return"\n  --scroll-button-size: 36px;\n  --scroll-button-offset: 1rem;\n\n  &::scroll-button(*) {\n    opacity: 0;\n    pointer-events: auto;\n    position: absolute;\n    position-anchor: --".concat(e,';\n    background-color: var(--sema-color-background-default);\n    border: none;\n    border-radius: 12px;\n    cursor: pointer;\n    display: inline-block;\n    margin-block-start: calc(var(--carousel-item-height) / 2 - var(--scroll-button-size) / 2);\n    height: var(--scroll-button-size);\n    line-height: 0;\n    vertical-align: middle;\n    width: var(--scroll-button-size);\n    transition: opacity 50ms cubic-bezier(0, 0, 1, 1), transform 50ms cubic-bezier(0, 0, 1, 1);\n  }\n\n  /* Show scroll buttons when hovering on the parent <ul>. */\n  &:hover::scroll-button(*) {\n    opacity: 1;\n    transition: opacity 100ms cubic-bezier(0, 0, 1, 1), transform 100ms cubic-bezier(0, 0, 1, 1);\n  }\n\n  &::scroll-button(inline-end) {\n    content: url("').concat("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0 0 24 24' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.7.3 20.42 12 8.71 23.7l-1.42-1.4L17.6 12 7.29 1.7z' /%3E%3C/svg%3E",'");\n    right: anchor(--').concat(e," right);\n    margin-inline-end: var(--scroll-button-offset);\n    top: anchor(--").concat(e,' start);\n  }\n\n  &::scroll-button(inline-start) {\n    content: url("').concat("data:image/svg+xml,%3Csvg aria-hidden='true' role='img' viewBox='0%200%2024%2024' width='16' height='16' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m6.41%2012%2010.3-10.3L15.29.3%203.6%2012l11.7%2011.7%201.42-1.4z'/%3E%3C/svg%3E",'");\n    left: anchor(--').concat(e," left);\n    margin-inline-start: var(--scroll-button-offset);\n    top: anchor(--").concat(e," start);\n  }\n\n  /* CSS specificity order matters: hover/focus â†’ active â†’ disabled (most specific last) */\n  &::scroll-button(*):is(:hover, :focus-visible) {\n    background-color: var(--sema-color-hover-background-default);\n    opacity: 1;\n  }\n\n  &::scroll-button(*):active {\n    background-color: var(--sema-color-pressed-background-default);\n    transform: scale(0.90);\n  }\n\n  &::scroll-button(*):disabled {\n    background-color: var(--sema-color-background-disabled);\n    opacity: 0;\n    cursor: not-allowed;\n    interactivity: inert;\n  }\n\n")},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"multi",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r="multi"===t;return"\n  scroll-marker-group: after;\n\n  &::scroll-marker-group {\n    display: grid;\n    grid-auto-columns: 1rem;\n    grid-auto-flow: column;\n    height: 8px;\n    justify-content: center;\n    margin-block-start: ".concat(r?"".concat(16,"px"):"-1.25rem",";\n    position-anchor: --").concat(e,";\n    position-area: bottom;\n    ").concat(r?"position: fixed; align-items: center;":"scroll-snap-type: y mandatory;","\n    transition: all 150ms ease-out;\n    @media (prefers-reduced-motion: no-preference) {\n      scroll-behavior: smooth;\n    }\n  }\n\n  > li:nth-child(").concat(n,"n + 1)::scroll-marker {\n    aspect-ratio: 1;\n    border-radius: 50% ;\n    background: ").concat(r?"var(--sema-color-background-secondary)":"rgba(255, 255, 255, 0.6)",";\n    content: ' ';\n    width: 50%;\n    box-shadow: ").concat(r?"none":"0 1px 0px rgba(0, 0, 0, 0.1)",";\n    animation-timeline: view(x);\n    interactivity: auto;\n    transition: all 150ms ease-out;\n    place-self: center;\n  }\n\n  > li:nth-child(").concat(n,"n + 1)::scroll-marker:target-current {\n    background: ").concat(r?"var(--sema-color-background-inverse)":"var(--sema-color-background-default)",";\n  }\n")},E=function(e){var t=e.cls,n=e.inset,r=e.isMobile,o=void 0!==r&&r,i=e.itemsPerPage,a="none"===n,l=o?"0rem":"1rem";return"\n  .".concat(t," {\n    --carousel-edge-padding: ").concat(a?"0":o?"0.5rem":"1rem",";\n    --carousel-gap: 0.5rem;\n    --calculated-column-width: calc(\n      (\n        100cqw\n        - var(--carousel-edge-padding)\n        - (var(--carousel-gap) * (var(--carousel-item-count) + 1))\n      ) / var(--carousel-item-count)\n    );\n    anchor-name: --").concat(t,";\n    counter-reset: item;\n    display: grid;\n    gap: var(--carousel-gap);\n    grid-auto-flow: column;\n    grid-auto-columns: var(--calculated-column-width, var(--carousel-item-width, min-content));\n    list-style-type: none;\n    margin-block: 0rem;\n    margin-inline: auto;\n    overscroll-behavior-x: contain;\n    overflow-y: hidden;\n    overflow-x: auto;\n    padding-block-start: ").concat(a?"0":l,";\n    padding-block-end: ").concat(a?"0":l,";\n    padding-inline: var(--carousel-edge-padding);\n    scroll-padding-inline-start: var(--carousel-edge-padding);\n    scroll-padding-inline-end: var(--carousel-edge-padding);\n    scrollbar-width: none;\n\n    @media (prefers-reduced-motion: no-preference) {\n      scroll-behavior: smooth;\n    }\n\n    >li {\n      block-size: auto;\n      overflow: visible;\n      display: flex;\n      flex-direction: column;\n      container-type: scroll-state;\n    }\n\n    &.scroll-markers {\n      ").concat(a?"padding-block-end: ".concat(l,";"):"","\n      ").concat(T(t,"multi",i),"\n    }\n\n    &.scroll-buttons {\n      ").concat(k(t),"\n    }\n  } ")},C=function(e,t){var n,r;return null!=(n=null!=(r=null==e?void 0:e.id)?r:null==e?void 0:e.entityId)?n:t},L=n(227581),F=n(991224);function D(e){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=D(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==D(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t,n,o,l,s,c,d,p,f,m,h,g,v,b,S,j,A,O,D,M,R,N,U,K,q,W,G,H=e.forceShowNavigationButtons,V=e.inset,Q=void 0===V?"default":V,Y=e.itemHeight,J=e.items,X=e.itemWidth,$=e.mode,Z=e.onIndexChange,ee=e.accessibilityLabelledBy,et=e.renderItem,en=e.selectedIndex,er=e.showNavigationButtons,eo=x({mode:$,forceShowNavigationButtons:H,showScrollMarkers:e.showScrollMarkers,showNavigationButtons:er}),ei=eo.enableCssScrollMarkers,ea=eo.enableCssScrollButtons,el=eo.enableFallbackScrollMarkers,es=eo.enableFallbackScrollButtons,ec=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return B(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eu=ec[0],ed=ec[1],ep=(0,r.useRef)(null),ef=(0,r.useRef)(null),ey=P(ep),em=(0,a.Ib)(),eh=(o=(n=w((0,r.useState)(!1),2))[0],l=n[1],c=(s=w((0,r.useState)(!1),2))[0],d=s[1],{keyboardFocused:o,hovered:c,isInteractive:o||c,onKeyboardFocus:(0,r.useCallback)(function(e){e.target.matches(":focus-visible")&&l(!0)},[]),onKeyboardBlur:(0,r.useCallback)(function(){l(!1)},[]),onMouseOver:(0,r.useCallback)(function(){d(!0)},[]),onMouseOut:(0,r.useCallback)(function(){d(!1)},[])}),eg=eh.isInteractive,ev=eh.onKeyboardFocus,eb=eh.onKeyboardBlur,e_=eh.onMouseOver,eS=eh.onMouseOut,ex=(f=(p={scrollerRef:ep,itemsLength:J.length,itemsPerPage:ey,mode:$,focusedIndex:eu,setFocusedIndex:ed,onIndexChange:Z}).scrollerRef,m=p.itemsLength,h=p.itemsPerPage,g=p.mode,v=p.focusedIndex,b=p.setFocusedIndex,S=p.onIndexChange,j=(0,r.useRef)([]),A=(0,r.useRef)(null),O=(0,r.useRef)(!0),D=(0,r.useRef)(null),M=(0,r.useRef)(-1),R=(0,r.useRef)(0),N=(0,r.useRef)(0),U=(0,r.useRef)(null),K=(0,r.useCallback)(function(e){var t=getComputedStyle(e).direction,n=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return"rtl"!==t?n:n<0?-n:r-o-n},[]),q=(0,r.useCallback)(function(){var e=f.current;if(e&&j.current.length){var t=D.current,n=e.children.length;if(O.current||!t||t.scrollWidth!==e.scrollWidth||t.clientWidth!==e.clientWidth||t.childrenCount!==n||j.current.length!==n){var r=Array.from(e.children);j.current=r.map(function(e){return e.offsetLeft+e.offsetWidth/2}),D.current={scrollWidth:e.scrollWidth,clientWidth:e.clientWidth,childrenCount:r.length},O.current=!1}var o=K(e),i=e.scrollWidth-e.clientWidth,a=o+e.clientWidth/2,l=j.current,s=0,c=1/0;l.forEach(function(e,t){var n=Math.abs(e-a);n<c&&(c=n,s=t)});var u=s;if("multi"===g&&h>1){var d=Math.floor(s/h)*h,p=Math.max(0,Math.floor((l.length-1)/h)*h),y=Math.min(d,p),m=R.current;if(m!==y){var _=y>m?1:-1,x=(l[m+(_>0?h-1:0)]+l[y+(_>0?0:Math.min(h-1,l.length-y-1))])/2+_*(a>l[l.length-1]-24||a<l[0]+24?6:24),w=o-N.current;(!(_>0?a>=x:a<=x)||_>0&&w<-.5||_<0&&w>.5)&&(y=m)}(o/i>.98||i-o<=8)&&(y=p),R.current=u=y}var A=performance.now(),P=U.current,k=P&&A-P.timestamp<500;u===v||k||(M.current!==u&&((0,I.GV)("closeup.dweb.css_carousel.enabled.carousel_index_change",{sampleRate:1}),M.current=u),b(u),null==S||S({currentIndex:v,nextIndex:u})),P&&(u===P.targetIndex||A-P.timestamp>500)&&(U.current=null),N.current=o}},[v,h,g,S,f,b,K]),W=(0,r.useCallback)(function(){var e=performance.now(),t=U.current;t&&e-t.timestamp<500||(A.current&&cancelAnimationFrame(A.current),A.current=requestAnimationFrame(function(){A.current=null,q()}))},[q]),G=(0,r.useCallback)(function(){O.current=!0,W()},[W]),(0,r.useLayoutEffect)(function(){var e=f.current;if(e){var t=Array.from(e.children);j.current=t.map(function(e){return e.offsetLeft+e.offsetWidth/2}),D.current={scrollWidth:e.scrollWidth,clientWidth:e.clientWidth,childrenCount:t.length},O.current=!1;var n="u">typeof ResizeObserver?new ResizeObserver(G):null,r=new MutationObserver(G);return n&&n.observe(e),r.observe(e,{childList:!0}),e.addEventListener("scroll",W,{passive:!0}),window.addEventListener("resize",G),function(){e.removeEventListener("scroll",W),window.removeEventListener("resize",G),r.disconnect(),n&&n.disconnect(),A.current&&(cancelAnimationFrame(A.current),A.current=null)}}},[W,G,f]),(0,r.useLayoutEffect)(function(){O.current=!0,W()},[m,h,W]),{setNavigationIntent:(0,r.useCallback)(function(e){U.current={targetIndex:e,timestamp:performance.now()}},[])}).setNavigationIntent,ew=(0,r.useCallback)(function(e){var t=ep.current;if(t){var n=Array.from(t.children),r=Math.max(0,Math.min(e,n.length-1)),o=n[r];if(o&&"number"==typeof o.offsetLeft){var i=parseInt(getComputedStyle(t).paddingInlineStart,10)||0;t.scrollTo({left:o.offsetLeft-i,behavior:em?"auto":"smooth"})}}},[em]),ej=(0,r.useCallback)(function(e){ex(e),ew(e),ed(e),null==Z||Z({currentIndex:eu,nextIndex:e})},[eu,Z,ew,ex]);(0,r.useLayoutEffect)(function(){void 0!==en&&en!==eu&&J.length&&ej(en)},[en,eu,ej,J.length]);var eA=(0,r.useCallback)(function(e){return function(){return ed(e)}},[]),eO=(0,r.useCallback)(function(){return ed(-1)},[]),eP=(0,r.useRef)(new Map),eI=(0,r.useCallback)(function(e){return eP.current.has(e)||eP.current.set(e,eA(e)),eP.current.get(e)},[eA]);(0,r.useLayoutEffect)(function(){eP.current.clear()},[J]);var ek=(0,F.Ay)(),eT=!(0,F.bh)(ek),eE="none"===Q,eC="single"===$,eL="carousel--mode-".concat($),eF=eC?"\n  .".concat(eL," {\n    anchor-name: --").concat(eL,";\n    container-type: inline-size scroll-state;\n    counter-reset: item;\n    display: grid;\n    grid-auto-flow: column;\n    grid-auto-columns: 100%;\n    height: 100%;\n    list-style-type: none;\n    overscroll-behavior-x: contain;\n    overflow-x: auto;\n    scroll-behavior: smooth;\n    scroll-snap-type: x mandatory;\n    scrollbar-width: none;\n\n    @media (hover) {\n      &:not(:hover,\n      :focus-within)::scroll-button(*) {\n        opacity: 0;\n      }\n    }\n\n    > li {\n      container-type: scroll-state;\n      scroll-snap-align: center;\n      scroll-snap-stop: always;\n      width: 100%;\n      height: 100%;\n      overflow: hidden;\n\n      & img {\n        height: 100%;\n        width: 100%;\n      }\n    }\n\n    &.scroll-markers {\n      ").concat(T(eL,"single"),"\n    }\n\n    &.scroll-buttons {\n      ").concat(k(eL),"\n    }\n  }\n"):E({cls:eL,inset:Q,isMobile:eT,itemsPerPage:ey}),eD=z(z({},Y&&{"--carousel-item-height":"".concat(Y,"px")}),X&&{"--carousel-item-width":"".concat(X,"px")}),eM=i()(eL,{"scroll-markers":ei,"scroll-buttons":ea});return(0,u.jsxs)(a.az,{ref:ef,"aria-labelledby":ee,as:"section",dangerouslySetInlineStyle:{__style:{containerType:"inline-size"}},height:"100%",onBlur:eb,onFocus:ev,onMouseOut:eS,onMouseOver:e_,position:"relative",width:"100%",children:[(0,u.jsx)(L.A,{unsafeCSS:eF}),es&&(0,u.jsx)(y,{carouselClassName:eL,containerRef:ef,currentIndex:eu,itemCount:J.length,itemHeight:Y,itemsPerPage:ey,onIndexChange:ej,showNavigationArrows:null!=H?H:eg}),(0,u.jsx)("ul",{ref:ep,className:eM,style:eD,children:J.map(function(e,t){return(0,u.jsx)("li",{children:et({item:e,index:t,isFocused:eu===t,onFocus:eI(t),onUnfocus:eO})},C(e,t))})}),el&&(0,u.jsx)(a.az,{marginBottom:eE||"multi"!==$?void 0:4,marginTop:eE?4:void 0,children:(0,u.jsx)(_,{currentIndex:eu,itemCount:J.length,itemsPerPage:ey,mode:$,onNavigateToIndex:ej})})]})}},787711(e,t,n){n.d(t,{A:function(){return p}});var r=n(157203),o=n(460657),i=n(733533),a=n(879667);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.carouselData,n=e.contextLogData,l=e.height,s=e.id,d=e.index,p=e.slideWidth,f=e.view,y=e.impressionType,m=e.viewParameter,h=u((0,r.useState)(null),2),g=h[0],v=h[1],b=u((0,r.useState)(!1),2),_=b[0],S=b[1];return((0,r.useEffect)(function(){g!==d?(v(d),S(!1)):S(!0)},[d,g]),t)?(0,a.jsx)(i.oc,{carouselData:c(c({},t),{},{type:"canonical"}),contextLogData:n,impressionType:null!=y?y:"Pin",isPaused:!_,loggingId:s,slotIndex:d,viewParameter:m,viewType:f,children:function(e){var t=e.impressionTrackerRef;return(0,a.jsx)(o.az,{ref:t,"data-test-id":"carousel-impression-ref-".concat(s,"-").concat(d),height:l,overflow:"hidden",position:"absolute",width:p})}},"carousel-impression-key-".concat(d)):null}},826984(e,t,n){n.d(t,{A:function(){return L}});var r=n(427344),o=n(6853),i=n(907073),a=n(965562),l=n(842967),s=n(558303),c=n(663767),u=n(877060),d=n(409199),p=n(806367),f=n(35839);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e,t,n){var r;return(r=function(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==y(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return b(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var _="stopwatch_v2",S=(0,r.lo)(_),x=new Map,w=[],j=[],A=!1;function O(){var e=performance.now();x.forEach(function(t,n){e-t.startTimestamp>t.maxDuration&&(S("Auto-aborting stale stopwatch ".concat(n," after ").concat(t.maxDuration,"ms")),C(n,"exceeded_max_duration"))})}function P(e,t,n){performance.mark("".concat(_,":").concat(e,":").concat(t),n?{startTime:n}:void 0)}function I(e,t,n,r){performance.measure("".concat(_,":").concat(e,":").concat(t),n,r)}function k(e){var t="".concat(_,":").concat(e,":"),n=["".concat(t,"start"),"".concat(t,"end"),"".concat(t,"subspan:")];return w.filter(function(e){return e.name.startsWith(t)&&!n.some(function(t){return e.name.startsWith(t)})}).map(function(e){return{label:e.name.slice(t.length),timestamp:e.startTime}})}function T(e,t){var n="".concat(_,":").concat(e,":subspan:");return j.filter(function(e){return e.name.startsWith(n)}).map(function(e){return{name:e.name.slice(n.length),id:(0,c.A)(),parentId:t,startTime:e.startTime,endTime:e.startTime+e.duration,annotationMap:{},binaryAnnotationMap:{}}})}function E(e){var t,n="".concat(_,":").concat(e,":");try{w=w.filter(function(e){return!e.name.startsWith(n)}),j=j.filter(function(e){return!e.name.startsWith(n)})}catch(e){}var r=x.get(e);null==r||null==(t=r.resourceObserver)||t.disconnect(),x.delete(e)}function C(e,t){if((0,u.A)()){var n=x.get(e);if(!n)return void(0,d.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"abort",version:"2"});S("Aborted ".concat(e,": ").concat(t));var r=performance.now(),i=n.startTimestamp,l=(0,c.A)(),y=(0,f.tQ)(),m={type:"stopwatch",name:e},h={type:"ABORT",traceId:l,startTime:i,endTime:r,spans:T(e,l),annotationMap:(0,s.A)(k(e)),binaryAnnotationMap:(0,o.jp)({metricId:m,pwtStaticContext:y,binaryAnnotations:n.binaryAnnotations,performanceResourceTimings:n.resourceBuffer,type:"ABORT",stopwatchVersion:2}),reason:null!=t?t:"unknown"};(0,a.A)({metricId:m,pwtStaticContext:y,result:h,sampleRate:n.sampleRate,stopwatchVersion:2}),(0,d.HF)({abortReason:null!=t?t:"unknown",pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),E(e)}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.sampleRate,r=t.maxDuration;return{name:e,start:function(t){return function(e){var t,n,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if((0,u.A)()){if(!A&&(0,u.A)()){A=!0;var i="".concat(_,":");try{new PerformanceObserver(function(e){var t,n=e.getEntries().filter(function(e){return e.name.startsWith(i)});(t=w).push.apply(t,v(n))}).observe({type:"mark",buffered:!0}),new PerformanceObserver(function(e){var t,n=e.getEntries().filter(function(e){return e.name.startsWith(i)});(t=j).push.apply(t,v(n))}).observe({type:"measure",buffered:!0}),setInterval(O,1e4)}catch(e){}}x.has(e)&&(S("Stopwatch ".concat(e," already active, aborting previous")),C(e,"new_stopwatch_started"));var a=null!=(t=o.startTime)?t:performance.now(),l=function(){var e=[];if(!(0,u.A)())return{observer:null,buffer:e};try{var t=new PerformanceObserver(function(t){if(e.push.apply(e,v(t.getEntries())),e.length>5e3){var n=e.length-5e3;e.splice(0,n),(0,d.pI)({eventName:"resourceBufferTruncated.v2",tags:{dropped:n,remaining:5e3}}),S("Resource buffer truncated",{dropped:n,remaining:5e3})}});return t.observe({type:"resource",buffered:!1}),{observer:t,buffer:e}}catch(t){return{observer:null,buffer:e}}}(),s=l.observer,c=l.buffer;x.set(e,{sampleRate:null!=(n=o.sampleRate)?n:1,binaryAnnotations:{},resourceObserver:s,resourceBuffer:c,startTimestamp:a,maxDuration:null!=(r=o.maxDuration)?r:6e4}),P(e,"start",a),(0,d.Lc)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),S("Started ".concat(e))}}(e,h(h({},t),{},{sampleRate:n,maxDuration:r}))},stop:function(t){return function(e,t){if((0,u.A)()){var n,r,y,m=x.get(e);if(!m)return void(0,d.J6)({errorName:"stopwatch_not_found",pwtName:e,errorDetailsTag:"stop",version:"2"});var h=null!=t?t:performance.now();P(e,"end",h);var g=m.startTimestamp;I(e,"duration","".concat(_,":").concat(e,":start"),"".concat(_,":").concat(e,":end"));var b=(0,c.A)(),w=(0,f.tQ)(),j={type:"stopwatch",name:e},A={type:"COMPLETE",metricId:j,traceId:b,startTime:g,endTime:h,spans:[].concat(v(T(e,b)),v((n=m.resourceBuffer,r=(0,c.A)(),y=n.filter(function(e){return e.responseEnd>0&&e.startTime>=g&&e.responseEnd<=h}),[{name:"network_resources",id:r,parentId:b,startTime:g,endTime:h,annotationMap:{},binaryAnnotationMap:{}}].concat(v(y.map(function(e){return(0,l.A)((0,i.B)(e,[]),r)}).filter(Boolean)))))),annotationMap:(0,s.A)(k(e)),binaryAnnotationMap:(0,o.jp)({metricId:j,pwtStaticContext:w,binaryAnnotations:m.binaryAnnotations,performanceResourceTimings:m.resourceBuffer,type:"COMPLETE",stopwatchVersion:2})};S("Stopped ".concat(e),{duration:h-g}),(0,a.A)({metricId:j,pwtStaticContext:w,result:A,sampleRate:m.sampleRate,stopwatchVersion:2}),(0,d.ed)({pwtName:e,annotateExperiments:(0,p.e0)(),version:"2"}),E(e)}}(e,t)},abort:function(t){return C(e,t)},annotate:function(t){(0,u.A)()&&x.has(e)&&(P(e,t),S("".concat(e," annotation: ").concat(t)))},binaryAnnotate:function(t,n,r){var o;(o=x.get(e))&&(o.binaryAnnotations=h(h({},o.binaryAnnotations),{},g({},t,{value:n,type:r})),S("".concat(e," binary: ").concat(t,"=").concat(String(n))))},subspanStart:function(t){(0,u.A)()&&x.has(e)&&(P(e,"subspan:".concat(t,":start")),S("".concat(e," subspan start: ").concat(t)))},subspanStop:function(t){if((0,u.A)()&&x.has(e)){P(e,"subspan:".concat(t,":end"));try{I(e,"subspan:".concat(t),"".concat(_,":").concat(e,":subspan:").concat(t,":start"),"".concat(_,":").concat(e,":subspan:").concat(t,":end")),S("".concat(e," subspan stop: ").concat(t))}catch(n){S("".concat(e," subspan stop failed: ").concat(t))}}},isActive:function(){return x.has(e)}}}},675767(e,t,n){n.d(t,{A:function(){return k}});var r=n(157203),o=n(4513),i=n(437416),a=n(427344),l=n(372145),s=n(6853),c=n(907073),u=n(965562),d=n(842967),p=n(569123),f=n(558303),y=n(777772),m=n(663767),h=n(854976);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return _(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){w(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e,t,n){var r;return(r=function(e,t){if("object"!=g(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=g(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==g(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=(0,a.lo)("PwtStopwatch"),A=function(e,t){if(h.A){if("start"===t.type&&!e.isTiming){var n=t.name,r=t.startTime,o=t.navigationType;return(0,i.DM)("TIMING.".concat(n)),{isTiming:!0,name:n,isSampled:t.isSampled,startTime:"number"==typeof r?r:h.A.now(),metricId:{type:"stopwatch",name:n,navigationType:o},pwtStaticContext:t.pwtStaticContext,annotations:e.annotations,binaryAnnotations:e.binaryAnnotations,spans:e.spans,traceId:e.traceId,spanNameUpdates:e.spanNameUpdates}}if(!e.isTiming)if(t.bypassIsTimingCheck)j("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",t);else{var a=t.name||e.name;return j("ignoring action - stopwatch is not actively timing",t),(0,i.DM)("WARN.".concat(a,".noTiming.").concat(t.type)),e}if("annotate"===t.type){var p=h.A.now();return j("adding annotation {".concat(t.label,": ").concat(p,"}")),x(x({},e),{},{annotations:e.annotations.concat([{label:t.label,timestamp:p}])})}if("binaryAnnotate"===t.type)return j("adding binary annotation {".concat(t.name,": ").concat(String(t.value),"}")),x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),w({},t.name,{value:t.value,type:t.annotationType}))});if("binaryAnnotateOperation"===t.type){var y=t.binaryAnnotationValueAndType,g=y.value,b=y.type;if(!e.binaryAnnotations[t.name])return x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),w({},t.name,{value:g,type:b}))});var _=e.binaryAnnotations[t.name].value||0;return j("operating on binary annotation {\n          name: ".concat(t.name,"\n          pervious value: ").concat(String(_),"\n          operand: ").concat(String(g),"\n        }")),x(x({},e),{},{binaryAnnotations:x(x({},e.binaryAnnotations),w({},t.name,{value:g?t.operation(_,g):_,type:b}))})}if("addSubspan"===t.type){j("adding subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&j("WARNING: adding duplicate subspan name {".concat(t.name,"}"));var S=t.id||(0,m.A)();-1!==e.spans.findIndex(function(e){return e.id===S})&&j("WARNING: adding duplicate subspan id {".concat(t.name,": ").concat(S,"}"));var A=0;return t.startTime?A=t.startTime:e.startTime?A=e.startTime:j("WARNING: adding subspan {".concat(t.name,"} without start time")),x(x({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:S,startTime:A,endTime:t.endTime||1/0,annotationMap:x({},t.annotations),binaryAnnotationMap:x({},t.binaryAnnotations),parentId:t.parentId}])})}if("subspanStart"===t.type){j("starting subspan {".concat(t.name,"}")),-1!==e.spans.findIndex(function(e){return e.name===t.name})&&j("WARNING: starting duplicate subspan name {".concat(t.name,"}"));var O,P=t.id||(0,m.A)();-1!==e.spans.findIndex(function(e){return e.id===P})&&j("WARNING: starting duplicate subspan id {".concat(t.name,": ").concat(P,"}"));var I=t.parentName?null==(O=e.spans.find(function(e){return e.name===t.parentName}))?void 0:O.id:null;return x(x({},e),{},{spans:[].concat(v(e.spans),[{name:t.name,id:P,parentId:t.parentId||I,startTime:h.A.now(),endTime:1/0,annotationMap:x({},t.annotations),binaryAnnotationMap:x({},t.binaryAnnotations)}])})}if("subspanStop"===t.type){j("stopping subspan {".concat(t.name,"}")),!t.id&&e.spans.filter(function(e){return e.name===t.name}).length>1&&(0,i.vV)("duplicate_subspan_stop_name",{name:t.name,type:t.type});var k=t.id?e.spans.findIndex(function(e){return e.id===t.id}):e.spans.findIndex(function(e){return e.name===t.name});return k>-1?(e.spans[k].endTime=h.A.now(),t.annotations&&(e.spans[k].annotationMap=x(x({},e.spans[k].annotationMap),t.annotations)),t.binaryAnnotations&&(e.spans[k].binaryAnnotationMap=x(x({},e.spans[k].binaryAnnotationMap),t.binaryAnnotations))):(0,i.vV)("invalid_subspan_stop_name",{name:t.name}),e}if("subspanUpdateName"===t.type){e.spans.filter(function(e){return e.name===t.currentName}).length>1&&(0,i.vV)("duplicate_subspan_stop_name",{name:t.currentName,type:t.type});var T=e.spans.findIndex(function(e){return e.name===t.currentName});return T>-1?t.updateWhenStopwatchCompletes?e.spanNameUpdates=[].concat(v(e.spanNameUpdates),[{currentName:t.currentName,newName:t.newName}]):(j("renaming subspan {".concat(t.currentName,"} to {").concat(t.newName,"}")),e.spans[T].name=t.newName):(0,i.vV)("no_subspan_found_to_rename",{name:t.currentName}),e}if("stop"===t.type&&e.isTiming){var E=e.startTime,C=e.metricId,L=e.pwtStaticContext,F=e.annotations,D=e.binaryAnnotations,M=e.isSampled,z=e.spans,B=e.traceId;if(t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect(),M){var R=t.stopTime||h.A.now(),N=v(z.map(function(t){t.endTime===1/0&&(t.endTime=R);var n=e.spanNameUpdates.findIndex(function(e){return t.name===e.currentName});return n>-1&&(j("renaming subspan {".concat(t.name,"} to {").concat(e.spanNameUpdates[n].newName,"}")),t.name=e.spanNameUpdates[n].newName,e.spanNameUpdates=e.spanNameUpdates.filter(function(e){return e.newName!==t.name})),t}));if(t.manualAndResourceSpans||0===z.length){var U=(0,m.A)();N.push.apply(N,[{name:"network_resources",id:U,startTime:E,endTime:R,annotationMap:{},binaryAnnotationMap:{},parentId:null}].concat(v((t.customStopwatchBuffer||[]).map(function(e){return(0,d.A)((0,c.B)(e,[]),U)}).filter(Boolean))))}var K={type:"COMPLETE",metricId:C,traceId:B,startTime:E,endTime:R,spans:N,annotationMap:x({},(0,f.A)(F)),binaryAnnotationMap:(0,s.jp)({metricId:C,pwtStaticContext:L,binaryAnnotations:D,performanceResourceTimings:t.customStopwatchBuffer||[],type:"COMPLETE",stopwatchVersion:1})};(0,u.A)({metricId:C,pwtStaticContext:L,result:K})}return(0,l.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.A)(),spanNameUpdates:[]}}if("error"===t.type){var q=t.error,W=t.stopwatchPerformanceObserver;return q&&(0,i.vV)(q),W&&W.disconnect(),(0,l.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.A)(),spanNameUpdates:[]}}if("abort"===t.type&&e.isTiming){t.stopwatchPerformanceObserver&&t.stopwatchPerformanceObserver.disconnect();var G=t.reason||"",H=e.startTime,V=e.metricId,Q=e.pwtStaticContext,Y=e.binaryAnnotations,J=e.traceId,X={type:"ABORT",traceId:J,startTime:H,endTime:h.A.now(),spans:[],annotationMap:{},binaryAnnotationMap:(0,s.jp)({metricId:V,pwtStaticContext:Q,binaryAnnotations:Y,performanceResourceTimings:t.customStopwatchBuffer||[],type:"ABORT",stopwatchVersion:1}),reason:G};return(0,u.A)({metricId:V,pwtStaticContext:Q,result:X}),(0,l.EG)(),{isTiming:!1,name:e.name,annotations:[],binaryAnnotations:{},spans:[],traceId:J,spanNameUpdates:[]}}}return e},O=function(e){var t,n=e.name,o=e.sampleRate,i=e.navigationType,a=e.manualAndResourceSpans,s=void 0!==a&&a,c=(0,p.A)(),u=(0,r.useRef)([]),d=(0,r.useRef)(null),f=(0,r.useRef)(null);null===f.current&&(f.current=(0,l.Qr)());var m=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(A,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:f.current,spanNameUpdates:[]}))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||b(t,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),g=m[0],v=m[1];return c?{isTiming:g.isTiming,name:g.name,start:function(e){return window.PerformanceObserver&&(u.current=[],d.current=(0,y.A)({entryTypes:["resource"]},function(e){u.current=u.current.concat(e.getEntries()),u.current.length>1e3&&(u.current=u.current.slice(-1e3))})),v({type:"start",startTime:e,name:n,navigationType:i,pwtStaticContext:c,isSampled:!o||Math.random()<o})},stop:function(e){return v({type:"stop",stopTime:e,stopwatchPerformanceObserver:d.current,customStopwatchBuffer:u.current,manualAndResourceSpans:s})},error:function(e){v({type:"error",stopwatchPerformanceObserver:d.current,error:e})},abort:function(e){return v({type:"abort",stopTime:null===h.A||void 0===h.A?void 0:h.A.now(),stopwatchPerformanceObserver:d.current,customStopwatchBuffer:u.current,reason:e})},annotate:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return v({type:"annotate",label:e,parentId:t,bypassIsTimingCheck:n})},binaryAnnotate:function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return v({type:"binaryAnnotate",name:e,value:t,annotationType:n,parentId:r,bypassIsTimingCheck:o})},binaryAnnotateOperation:function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;return v({type:"binaryAnnotateOperation",name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:void 0!==i&&i})},addSubspan:function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,a=e.parentId,l=e.id,s=e.bypassIsTimingCheck;return v({type:"addSubspan",name:t,startTime:n,endTime:r,annotations:void 0===o?{}:o,binaryAnnotations:void 0===i?{}:i,parentId:void 0===a?null:a,id:void 0===l?null:l,bypassIsTimingCheck:void 0!==s&&s})},subspanStart:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,a=e.id,l=e.bypassIsTimingCheck;return v({type:"subspanStart",name:t,annotations:void 0===n?{}:n,binaryAnnotations:void 0===r?{}:r,parentId:void 0===o?null:o,parentName:void 0===i?null:i,id:void 0===a?null:a,bypassIsTimingCheck:void 0!==l&&l})},subspanStop:function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,a=e.bypassIsTimingCheck;return v({type:"subspanStop",name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:void 0!==a&&a})},subspanUpdateName:function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;return v({type:"subspanUpdateName",currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:void 0===o||o})},getSpans:function(e,t){return g.spans.filter(function(n){return n[e]===t})},getTraceId:function(){return g.traceId}}:null},P=n(804215),I=n(879667),k=function(e){var t=e.name,n=e.sampleRate,a=e.abortOnUnloadOrClientNavigation,l=void 0===a||a,s=e.navigationType,c=e.manualAndResourceSpans,u=void 0!==c&&c,d=(0,o.A)("Stopwatch_".concat(t)),p=d.Provider;return{Provider:function(e){var o=e.children,a=O({name:t,sampleRate:n,navigationType:s,manualAndResourceSpans:u}),c=(0,P.A)(),d=c?c.time:0,f=(0,r.useRef)("NotStarted"),y=null==a?void 0:a.isTiming,m=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.abort(e)):(0,i.DM)("WARN.".concat(t,".noTiming.abort"))},[a]),h=(0,r.useCallback)(function(e,t){null==a||a.annotate(e,t)},[a]),g=(0,r.useCallback)(function(e,t,n,r){null==a||a.binaryAnnotate(e,t,n,r)},[a]),v=(0,r.useCallback)(function(e){var t=e.name,n=e.binaryAnnotationValueAndType,r=e.operation,o=e.parentId,i=e.bypassIsTimingCheck;null==a||a.binaryAnnotateOperation({name:t,binaryAnnotationValueAndType:n,operation:r,parentId:o,bypassIsTimingCheck:i})},[a]),b=(0,r.useCallback)(function(e){var t=e.name,n=e.startTime,r=e.endTime,o=e.annotations,i=e.binaryAnnotations,l=e.parentId,s=e.id,c=e.bypassIsTimingCheck;null==a||a.addSubspan({name:t,startTime:n,endTime:r,annotations:o,binaryAnnotations:i,parentId:l,id:s,bypassIsTimingCheck:c})},[a]),_=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.parentId,i=e.parentName,l=e.id,s=e.bypassIsTimingCheck;null==a||a.subspanStart({name:t,annotations:n,binaryAnnotations:r,parentId:o,parentName:i,id:l,bypassIsTimingCheck:s})},[a]),S=(0,r.useCallback)(function(e){var t=e.name,n=e.annotations,r=e.binaryAnnotations,o=e.id,i=e.parentId,l=e.bypassIsTimingCheck;null==a||a.subspanStop({name:t,annotations:n,binaryAnnotations:r,id:o,parentId:i,bypassIsTimingCheck:l})},[a]),x=(0,r.useCallback)(function(e){var t=e.currentName,n=e.newName,r=e.bypassIsTimingCheck,o=e.updateWhenStopwatchCompletes;null==a||a.subspanUpdateName({currentName:t,newName:n,bypassIsTimingCheck:r,updateWhenStopwatchCompletes:o})},[a]),w=(0,r.useCallback)(function(e,t){return a?a.getSpans(e,t):[]},[a]),j=(0,r.useCallback)(function(){return a?a.getTraceId():""},[a]),A=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.error(e)):(0,i.DM)("WARN.".concat(t,".noTiming.error"))},[a]),k=(0,r.useCallback)(function(e){"Started"===f.current&&(null==a||a.abort("duplicated_init_stopwatch_action")),f.current="Started",null==a||a.start(e)},[a]),T=(0,r.useCallback)(function(e){"NotStarted"===f.current&&(f.current="Started",null==a||a.start(e))},[a]),E=(0,r.useCallback)(function(e){"Started"===f.current?(f.current="Stopped",null==a||a.stop(e)):(0,i.DM)("WARN.".concat(t,".noTiming.stop"))},[a]);(0,r.useEffect)(function(){return function(){l&&m("unloadOrClientNavigation")}},[d]);var C=(0,r.useMemo)(function(){return{name:t,isTiming:y,abort:m,addAnnotation:h,addBinaryAnnotation:g,binaryAnnotationOperation:v,addSubspan:b,subspanStart:_,subspanStop:S,getSpans:w,getTraceId:j,updateSubspanName:x,stop:E,error:A,start:k,startOnce:T}},[y,m,h,g,v,b,_,S,w,j,x,E,A,k,T]);return(0,I.jsx)(p,{value:C,children:o})},get:d.getMaybe}}},874834(e,t,n){n.d(t,{A:function(){return o}});var r=(0,n(826984).A)("search_tab_render");function o(){return r}},804215(e,t,n){n.d(t,{A:function(){return i}});var r=n(157203),o=n(778487);function i(){return(0,r.use)(o.A)}},569123(e,t,n){n.d(t,{A:function(){return i}});var r=n(157203),o=n(741523);function i(){return(0,r.use)(o.A)}},877131(e,t,n){n.d(t,{$:function(){return x},A:function(){return j}});var r,o=n(157203),i=n(106386),a=n(847753),l=n(620162),s=n(460657),c=n(350762),u=n(424054),d=n(467780),p=n(3210),f=n(427824),y=n(991224),m=n(301609);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(e){if("string"==typeof e)return v(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var S=(void 0!==r||(r=n(570551)).hash&&"5a3162913508a33c37676bde5973ea45"!==r.hash&&console.error("The definition of 'useDynamicSearchPlaceholderDataQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),x=function(e){var t={pageType:"other",isEligiblePageTypeForDynamicSearchPlaceholder:!1};return(0,u.d3)(e)?(t.pageType="pin",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.iK)(e)?(t.pageType="board",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0):(0,u.Jw)(e)&&(t.pageType="klp",t.isEligiblePageTypeForDynamicSearchPlaceholder=!0),t},w=function(e){var t=e.fetchedSuggestedTerms,n=e.deviceType,r=e.pageType,o={deviceType:n,dataType:e.dataType,pageType:r};return t.length<3?((0,p.PM)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.missing_data",_({termsCount:t.length},o)),t=[]):(t=t.filter(function(e){return e.split(" ").length>1}).map(function(e){return e.toLowerCase()})).length<3&&((0,p.PM)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.not_enough_words",_({termsCount:t.length},o)),t=[]),t};function j(){var e,t=function(e){if(Array.isArray(e))return e}(e=(0,o.useState)([]))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,0)||g(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),n=t[0],r=t[1],h=(0,l.zy)(),b=(0,l.g)(),_=(0,s.Ib)(),j=(0,f.A)(h.pathname)||"",A=(0,d._8)().isAuthenticated,O=(0,y.Ay)(),P=(0,u.d3)(h),I=(0,u.iK)(h),k=(0,u.Jw)(h),T=x(h),E=T.pageType,C=T.isEligiblePageTypeForDynamicSearchPlaceholder,L=b.id||(0,c._)(b.interest||""),F=!A&&C&&!_,D=(0,a.useRelayEnvironment)(),M=(0,i.d4)(function(e){return(0,m.A)(e)[h.pathname]}),z=(0,i.d4)(function(e){var t=e.topics;return Object.keys(t).reduce(function(e,n){var r=t[n];return e[r.slug]=r,e[n]=r,e},{})[L]}),B=function(e){return e.reduce(function(e,t){return t.name?[].concat(function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[t.name]):e},[])},R=(0,o.useCallback)(function(){(0,a.fetchQuery)(D,S,{pinId:j},{fetchPolicy:"store-or-network"}).subscribe({next:function(e){var t,n,o,i=[],a=(null==(t=e.v3GetPinQuery)?void 0:t.__typename)==="V3GetPin"?null==(n=e.v3GetPinQuery)?void 0:n.data:null;null!=a&&a.isUnsafe?(0,p.PM)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.unsafe_pin"):(null!=a&&null!=(o=a.pinJoin)&&o.visualAnnotation&&(i=a.pinJoin.visualAnnotation),i=w({fetchedSuggestedTerms:i,deviceType:O,pageType:E,dataType:"vase"})),r(i.slice(0,5))},error:function(e){(0,p.PM)("useSearchBoxDynamicPlaceholder.fetch_dynamic_placeholder.error",{message:e.message})}})},[O,j,D,E]),N=(0,o.useCallback)(function(){var e;if(null!=M&&M.seo_related_interests&&!(null!=(e=M.owner)&&e.is_partner)){var t=B(M.seo_related_interests);r((t=w({fetchedSuggestedTerms:t,deviceType:O,pageType:E,dataType:"board_annotations"})).slice(0,5))}},[M,E,O]),U=(0,o.useCallback)(function(){if(null!=z&&z.seo_related_interests){var e=B(z.seo_related_interests);r((e=w({fetchedSuggestedTerms:e,deviceType:O,pageType:E,dataType:"klp_annotations"})).slice(0,5))}},[z,E,O]);return(0,o.useEffect)(function(){!A&&F&&("desktop"!==O?r([]):(P&&R(),I&&N(),k&&U()))},[M,P,I,k,F,A,O,R,N,U]),(0,o.useEffect)(function(){P||I||k||0===n.length||r([])},[P,n.length,I,k]),n}},809637(e,t,n){n.d(t,{A:function(){return a}});var r=n(391309);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){var t=e.enteredQuery,n=e.filters,a=e.guideAdded,l=e.query,s=e.requestParams,c=e.rs,u=e.scope,d=e.selectedOneBarModules,p=e.user,f=e.inlineSuggestion,y=e.multimodalPinId;if(!l)return"/";var m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){var r,i;r=t,i=n[t],(r=function(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=o(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[r]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({q:l,rs:c},s);if(n&&(m.filters=n),p&&(m.user=p),d&&(m.selected_one_bar_modules=d),a&&a.term&&(m.add_refine="".concat(a.term,"|guide|word|").concat(a.index)),t&&(m.entered_query=t),f&&(m.inline_suggestion=f),y&&(m.query_image_pins=y),window.location.pathname.startsWith("/explore"))return"/search/pins/?".concat((0,r.A)(m));var h=u;return["pins","buyable_pins","my_pins","boards","users","videos"].includes(null!=h?h:"")||(h="pins"),h?"/search/".concat(h,"/?").concat((0,r.A)(m)):"".concat(window.location.pathname,"?").concat((0,r.A)(m))}},672290(e,t,n){n.d(t,{A:function(){return o}});var r=n(132946);function o(e){var t,n=(0,r.A)(e.search)||{};if(n.q){var o=e.pathname.split("/");t=o.length>2?o[2]:"pins"}if(n.q&&t){var i=Array.isArray(n.q)?n.q.join(" "):n.q,a=Array.isArray(n.rs)?"":n.rs,l=Array.isArray(n.user)?"":n.user;return{filters:n.filters||"",user:l,query:i||"",queryImagePins:n.query_image_pins,rs:a||"",scope:"pins"===t||"buyable_pins"===t||"my_pins"===t||"boards"===t||"users"===t||"videos"===t?t:"pins"}}return{filters:"",user:"",query:"",queryImagePins:void 0,rs:"",scope:"pins"}}},981541(e,t,n){n.d(t,{A:function(){return i}});var r=n(336297),o=n(391309);function i(e){var t=e.bubbleId,n=e.pinId,i=e.query,a=e.referringSource,l=e.storyCategory,s=e.storyId,c=e.title,u=void 0!==l&&[0,24,21,26].includes(l),d=(0,o.A)({q:i,rs:a||void 0,b_id:t,source_id:s,top_pin_ids:n}),p=u&&c?(0,r.k)({title:c,id:t,articleType:"discover"}):"/discover/article/".concat(t,"/");return u?p:"/search/pins/".concat(d?"?"+d:"")}},319041(e,t,n){n.d(t,{A:function(){return o},v:function(){return r}});var r=-1;function o(e){switch(e){case r:return null;case 0:return"shopping-bag";case 1:return"tag";case 9:return"clock-history";default:return"magnifying-glass"}}},34980(e,t){t.A=function(e){var t=e.url;return""===t||/^(https?:\/\/)?[a-z0-9_\-]+\..+/i.test(t)}},810227(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,o=n(157203),i=n(106386);n(745917);var a=n(460657),l=n(884963),s=n(837855),c=n(816858),u=n(467780),d=n(3210),p=n(822164),f=n(991224),y=n(459693),m=n(321766),h=n(191273),g=n(731289),v=n(386862),b=n(879667);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var S=(void 0!==r||(r=n(621580)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==r.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),x=["thumbnail","imageOnly"],w=function(e){var t=e.isUsingMask,n=e.setIsHovered,r=e.children,i=(0,f.qJ)();return t&&i?(0,b.jsx)(a.az,{onMouseEnter:function(){return n(!0)},onMouseLeave:function(){return n(!1)},children:r}):(0,b.jsx)(o.Fragment,{children:r})};function j(e){var t,n,r,j,A,O,P,I,k,T,E,C,L,F,D,M,z,B,R,N,U,K,q,W,G=e.auxData,H=e.boardKey,V=e.component,Q=e.containerBackgroundColor,Y=e.display,J=e.forwardedRef,X=e.fullSize,$=e.hideSecretBoardIcon,Z=e.isAttributionHeightUnfixed,ee=e.isCollaboratorsAttributionVisible,et=e.isFeaturedBoardsModule,en=e.isHomePageBoards,er=e.noPaddings,eo=e.showFollowButton,ei=e.isUsingMask,ea=e.showPinCount,el=e.slotIndex,es=e.type,ec=e.viewObjectIdStr,eu=e.viewParameter,ed=e.viewType,ep=e.trackInteractionObjectProp,ef=e.isFromProfileGrid,ey=e.metaMarginTop,em=e.metaMarginBottom,eh=e.metaPaddingY,eg=(0,s.A)(),ev=eg&&eg.isAuth,eb=(0,i.wA)(),e_=(0,u._8)().locale,eS=(0,p.A)(),ex=(0,c.A)(S,H),ew=(0,v.oW)(),ej=null!=ex&&ex.entityId?ew(ex.entityId):null,eA=(0,m.A)(ex),eO=(0,l.A)(),eP=(0,f.qJ)(),eI=function(e){if(Array.isArray(e))return e}(t=(0,o.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return _(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),ek=eI[0],eT=eI[1];if(!ex)return null;var eE=ex.collaboratingUsers,eC=ex.owner,eL=ex.privacy,eF=ex.shouldShowBoardCollaborators,eD=eg.isAuth?eg.id:"",eM=(null==eC?void 0:eC.entityId)===eD,ez=[];(null==eE?void 0:eE.__typename)==="UserCollaboratingUsersConnectionContainer"?ez=null!=(q=null==(W=eE.connection)||null==(W=W.edges)?void 0:W.map(function(e){var t;return null==e||null==(t=e.node)?void 0:t.entityId}))?q:[]:null!=ej&&ej.collaborating_users&&(ez=ej.collaborating_users.map(function(e){return e.id}));var eB=ez.includes(eD)||eM;if("secret"===eL&&!eB)return null;var eR=!ev&&!(void 0!==ef&&ef&&ex.hasCustomCover)&&!!(null!=(n=ex.images236x)&&null!=(n=n[0])&&n.url),eN="grid"===es||"thumbnail"===es?2:4,eU=eR?null==(r=ex.images236x)||null==(r=r[0])?void 0:r.url:eA(eN),eK=null!=(j=ex.coverPin)?j:null==ej?void 0:ej.cover_pin,eq=null!=(A=(null==eK?void 0:eK.crop)&&(null==eK?void 0:eK.size)&&{x:null!=(O=null==eK?void 0:eK.crop[0])?O:0,y:null!=(P=null==eK?void 0:eK.crop[1])?P:0,width:null!=(I=null==eK?void 0:eK.size[0])?I:0,height:null!=(k=null==eK?void 0:eK.size[0])?k:0})?A:{x:0,y:0,width:0,height:0},eW={isCustom:!eR&&(ex.hasCustomCover||void 0),url:eU,position:eq},eG=null!=(T=ex.pinThumbnailUrls)?T:null==ej?void 0:ej.pin_thumbnail_urls,eH=(0,h.$R)(ex.images170x,null!=(E=null==eG?void 0:eG.filter(function(e){return null!==e}))?E:void 0,eU).map(function(e){var t=e.url;return{name:(0,h.xc)(t),url:t}}),eV=[44,49,4182,4214].includes(eu)||[3,442,625].includes(ed),eQ=null!=ex&&ex.sensitivityScreen?{reason:null==(C=ex.sensitivityScreen)?void 0:C.reason,showWarning:null==(L=ex.sensitivityScreen)?void 0:L.showWarning}:void 0,eY=null!=(F=null!=(D=ex.pinCount)?D:null==ej?void 0:ej.pin_count)?F:0,eJ=null!=(M=null!=(z=ex.sectionCount)?z:null==ej?void 0:ej.section_count)?M:0,eX=(0,b.jsx)(y.A,{archivedDate:null!=(B=ex.archivedByMeAt)?B:null==ej?void 0:ej.archived_by_me_at,auxData:G,boardId:ex.entityId,boardKey:ex,canEdit:!!ex.boardAccess&&ex.boardAccess.includes("write"),containerBackgroundColor:Q,coverPhoto:eW,display:void 0===Y?"responsive":Y,followedByMe:!!(null!=(R=null==ej?void 0:ej.followed_by_me)?R:ex.followedByMe),fullSizeDrawer:X,hideMeta:x.includes(es),hideSecretBoardIcon:void 0!==$&&$,id:ex.entityId,imagesLego:eH,isActive:ek,isAttributionHeightUnfixed:void 0!==Z&&Z,isAuthenticated:ev,isCollaborative:!!ex.isCollaborative,isCollaborator:!!eB,isCollaboratorsAttributionVisible:void 0!==ee&&ee,isFeaturedBoardsModule:void 0!==et&&et,isHomePageBoards:en,isOwner:eM,isProtected:"protected"===ex.privacy||(null==ej?void 0:ej.privacy)==="protected",isSecret:"secret"===ex.privacy||(null==ej?void 0:ej.privacy)==="secret",lastModifiedDate:null!=(N=null!=(U=ex.boardOrderModifiedAt)?U:null==ej?void 0:ej.board_order_modified_at)?N:"",layout:eP?"square":void 0,locale:e_,metaMarginBottom:void 0===em?0:em,metaMarginTop:void 0===ey?2:ey,metaPaddingY:void 0===eh?0:eh,name:null!=(K=ex.name)?K:(null==ej?void 0:ej.name)||"",numberOfCollaborators:ez.length,numCols:eN,onFollow:function(e){return eb((0,g.e)(e,eO))},onUnfollow:function(e){return eb((0,g.X)(e,eO))},pinCount:(void 0===ea||ea)&&eY?eY:void 0,sectionCount:null!=eJ?eJ:0,sensitivityScreen:eQ,showBoardCollaborators:!1!==eF,showFollowButton:void 0===eo||eo,showTitleOnly:"imageTitle"===es,slotIndex:el,viewerId:eD,viewObjectIdStr:ec,viewParameter:eu,viewType:ed}),e$=ex.url||(null==ej?void 0:ej.url);return!x.includes(es)&&e$?(0,b.jsx)(a.$A,{dataTestId:"board-rep-tap-area-link",href:ev?e$:e$.toLowerCase(),onTap:function(){if(eV&&eO({aux_data:{board_id:ex.entityId,board_pin_count:eY,board_section_count:eJ,story_type:null==G?void 0:G.story_type},component:null!=V?V:1,element:36,event_type:102,view_parameter:49===eu?eM?3106:3107:eu,view_data:{view_object_id_str:ec}}),!ev){if((0,d.uq)("click_go_to_board"),ep)return void eS(ep);eS({action:"click",item:"board-card"})}},rounding:200,tapStyle:"compress",children:(0,b.jsx)(a.az,{ref:J,paddingY:void 0!==er&&er?0:eP?2:3,children:(0,b.jsx)(w,{isUsingMask:void 0!==ei&&ei,setIsHovered:eT,children:eX})})}):eX}},408915(e,t,n){n.d(t,{A:function(){return k}});var r=n(157203),o=n(460657),i=n(75035),a=n(819964),l=n(186122),s=n(365506),c=n(787711),u=n(917860),d=n(370714),p=n(212180),f=n(227581),y=n(361268),m=n(467780),h=n(891546),g=n(659323),v=n(879667);function b(e){var t=e.index,n=e.length,r=e.showBadge;return(0,v.jsx)(o.az,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:80*!!r,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:200,width:35,zIndex:new o.rk(1),children:(0,v.jsx)(o.KJ,{color:"inverse",children:"".concat((null!=t?t:0)+1,"/").concat(n)})})}var _=n(783933),S=n(265124),x=n(29739);function w(e){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=w(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=w(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==w(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var I=function(e){var t=e.index,n=O((0,r.useState)(!0),2),o=n[0],i=n[1],a=(0,r.useRef)(void 0),l=(0,r.useRef)(void 0);return(0,r.useEffect)(function(){return a.current=setTimeout(function(){i(!1)},3e3),function(){clearTimeout(a.current)}},[]),(0,r.useEffect)(function(){if(!l.current){l.current=t;return}clearTimeout(a.current),i(!0)},[t]),{showBadge:o}};function k(e){var t,n,w,j=e.backgroundColor,P=e.children,k=e.componentType,T=e.containerRef,E=e.contextLogData,C=e.disableTransition,L=e.gap,F=void 0===L?0:L,D=e.height,M=e.id,z=e.impressionType,B=e.index,R=e.responsiveSizing,N=void 0!==R&&R,U=e.shouldBeDragCarousel,K=e.showCarouselBadge,q=e.styleOverrides,W=e.innerCarouselWidthRef,G=e.slideWidth,H=e.surface,V=e.paddingX,Q=e.view,Y=e.viewParameter,J=e.widthRatio,X=void 0===J?1:J,$=e.setSlideIndex,Z=e.sliderRef,ee=e.showCarouselOverflow,et=e.isHorizontalScrollable,en=I({index:B}).showBadge,er=(0,l.o)().logContextEvent,eo=(0,S.HR)()(M),ei=(0,d.A)(),ea=(0,m._8)().isRTL,el=(0,r.useRef)(void 0),es=(0,r.useRef)(null),ec=(0,r.useRef)(0),eu=(0,r.useRef)(void 0),ed=(0,x.A)(),ep=(0,g._G)(),ef=ep.peekCloseupEnabled,ey=ep.viewportSize;if((0,h.A)(function(){var e=es.current;if(e){Z&&e&&(Z.current=e);var t=function(){var e=ec.current;if(et){var t=new IntersectionObserver(function(n){var o,i=-(null!=(o=O(n,1)[0].boundingClientRect.x)?o:0),a=r.Children.toArray(P),l=Z?(0,_.jV)(Z.current,i+ed,G,X,F,a.length):0;null==$||$(l),Math.abs(e-i)>=10&&er({aux_data:A({},E),component:k,event_type:"right"==(e<i?"right":"left")?9315:9316,view_type:Q,view_parameter:Y}),ec.current=i,eu.current&&t.unobserve(eu.current)});eu.current&&t.observe(eu.current)}else{var n,o,i=-(null!=(n=null==(o=eu.current)?void 0:o.getBoundingClientRect().x)?n:0);Math.abs(e-i)>=10&&er({aux_data:A({},E),component:k,event_type:"right"==(e<i?"right":"left")?9315:9316,view_type:Q,view_parameter:Y}),ec.current=i}};return U&&(et&&(null==e||e.addEventListener("scroll",t)),null==e||e.addEventListener("touchend",t)),function(){U&&(et&&(null==e||e.removeEventListener("scroll",t)),null==e||e.removeEventListener("touchend",t))}}}),X>1||X<0)throw Error("widthRatio should be between 0 and 1 inclusive");var em=Math.floor(G*X),eh=r.Children.toArray(P),eg=eh.length*em,ev=(null==T?void 0:T.clientWidth)||eg,eb=(0,i.Vc)(),e_=eb.maxHeight,eS=eb.fiftyPercentHeight,ex=eb.fiftyPercentWidth,ew=ef&&"lg"===ey&&"ShoppingGridSmallCarousel"===H;ef&&(w="sm"===ey?eS:e_);var ej=null!=(t=null==q?void 0:q.justifyContent)?t:ev>eg?"center":"start",eA=function(e){return void 0!==e?"".concat(e,"px"):U?"".concat(u.cP,"px"):void 0},eO=eA(null==q?void 0:q.horizontalScrollContainerPaddingLeft),eP=eA(null==q?void 0:q.horizontalScrollContainerPaddingRight);W&&(W.current="center"===ej?es.current:null);var eI=N||U?void 0:(0,_.oz)({slotWidth:em,gap:F,numberOfSlides:eh.length,index:B,containerWidth:ev,paddingX:V});return(0,v.jsxs)("div",{className:"BoardMoreIdeasRep"===z?"moreIdeasBoardRepCarousel":"",style:N?{height:"inherit"}:{},children:[(0,v.jsxs)(o.az,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",height:N?"inherit":void 0,justifyContent:ej,overflow:ew||ee?void 0:"hidden",children:[K&&(0,v.jsx)(b,{index:B,length:eh.length,showBadge:en}),"BoardMoreIdeasRep"!==z&&(0,v.jsx)(a.P,{pinKey:null!=eo?{type:"Legacy",data:eo}:null,children:function(e){var t,n;return(0,v.jsx)(c.A,{carouselData:A(A({},e),{},{type:"canonical"}),contextLogData:E,height:null!=(t=null!=D?D:null==(n=el.current)?void 0:n.clientHeight)?t:1,id:M,impressionType:"Pin",index:B,slideWidth:G,view:null!=Q?Q:1,viewParameter:null!=Y?Y:72},"carousel-impression-key-".concat(B))}}),U&&(0,v.jsx)(f.A,{unsafeCSS:"\n  .horizontal-scroll-container {\n    -ms-overflow-style: none;\n    scrollbar-width: none;\n  }\n  ::-webkit-scrollbar {\n    display: none;\n  }"}),(0,v.jsx)("div",{ref:es,className:"horizontal-scroll-container","data-test-id":"carousel-container",style:{backgroundColor:void 0===j?"transparent":j,overflowX:U?"scroll":"visible",paddingLeft:eO,paddingRight:eP,display:"flex",flexDirection:null!=(n=null==q?void 0:q.flexDirection)?n:"row",height:N?"inherit":void 0,marginLeft:V?"".concat(V,"px"):void 0,marginRight:V?"".concat(V,"px"):void 0,position:"relative",scrollbarWidth:0,transition:U||C?void 0:ea?"right .5s":"left .5s",right:ea?eI:void 0,left:ea?void 0:eI,width:N?"100%":void 0},children:eh.map(function(e,t){var n=t===eh.length-1,r=Math.ceil(F/4),a=0;r>=-12&&r<=12&&(a=r);var l=(0,v.jsx)(o.az,{ref:function(e){el.current=e,0===t&&(eu.current=e)},"aria-label":(0,y.$)(ei._('Slide {{ currentSlide }} of {{ totalSlides }}', 'CloseupCarousel.Carousel.labelSlide', 'Accessibility label that defines a carousel slide. currentSlide: current slide number. totalSlides: total number of slides in carousel.'),{currentSlide:"".concat(t+1),totalSlides:"".concat(eh.length)}),"data-carousel-indicator":"carousel-card","data-test-id":"carousel-img-".concat(t),display:t!==B&&N?"none":"block",height:N?"100%":null!=D?D:void 0,marginEnd:n?0:a,maxHeight:w,maxWidth:ew?"calc(".concat(i.aP,"px - ").concat(i.T3,"px * 2)"):ex,role:"group",width:N?"100%":em,children:e},"carousel-slot-".concat(M,"-").concat(t));if("BoardMoreIdeasRep"===z){var s,c,u=e.props,d={total_object_count:null!=(s=null==u||null==(c=u.story.objects)?void 0:c.length)?s:0,storyType:null==u?void 0:u.story.story_type,boardIdStr:null==u?void 0:u.item.board_id,slotIndex:null==u?void 0:u.slotIndex,story_id:null==u?void 0:u.story.id};return(0,v.jsx)(p.g$,{componentType:k,contextLogData:d,impressionAuxFields:d,impressionType:"BoardMoreIdeasRep",loggingId:M,slotIndex:t,viewParameter:null!=Y?Y:72,viewType:null!=Q?Q:1,children:function(e){var t=e.impressionTrackerRef;return(0,v.jsx)(o.az,{ref:t,children:l})}},"carousel-slot-".concat(M,"-").concat(t))}return l})})]}),14114===k&&(0,v.jsx)(s.En,{anchor:eu.current,experienceIds:[506684],idealDirection:"down",placementId:11,positionRelativeToAnchor:!0,showCaret:!0,textWeight:"normal",useMasonryFlyout:!0})]})}},436509(e,t,n){var r=n(157203),o=n(460657),i=n(370714),a=n(879667);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}t.A=function(e){var t,n=e.iconType,s=e.showFab,c=e.moduleHovered,u=e.opacity,d=(0,i.A)(),p=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),f=p[0],y=p[1],m=null!=c?c:f;return(0,a.jsx)(o.az,{"data-test-id":"navigation-fab-container",onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},opacity:m?100:m===c?0:void 0===u?80:u,children:(0,a.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},opacity:100*!!s,children:(0,a.jsx)(o.K0,{accessibilityLabel:"forward"===n?d._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image'):d._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),bgColor:"default",dataTestId:"navigation-fab",icon:"forward"===n?"chevron-right":"chevron-left",size:"md"})})})}},783933(e,t,n){n.d(t,{JF:function(){return u},Jf:function(){return s},KJ:function(){return c},UV:function(){return y},WD:function(){return p},jV:function(){return f},oz:function(){return l},tS:function(){return d}});var r=function(e){var t=e.index;return e.numberOfSlides-t-Math.floor(e.slidesShownPerPosition)<1},o=function(e){var t=e.slidesShownPerPosition,n=e.slotAndGapWidth;return n-(t-parseInt(t,10))*n},i=function(e){var t=e.containerWidth,n=e.contentWidth,r=e.index,o=e.slotAndGapWidth,a=r-1,l=a*o;return n-l>=t?l:i({index:a,slotAndGapWidth:o,containerWidth:t,contentWidth:n})},a=function(e){var t=e.containerWidth,n=e.contentWidth,r=e.gap,a=e.index,l=e.slidesShownPerPosition,s=e.slotAndGapWidth,c=e.paddingX;return i({containerWidth:t,contentWidth:n,index:a,slotAndGapWidth:s})+o({slidesShownPerPosition:l,slotAndGapWidth:s})-r+(void 0===c?0:c)},l=function(e){var t=e.containerWidth,n=e.gap,o=e.index,i=e.numberOfSlides,l=e.slotWidth,s=e.paddingX,c=l+n,u=c*i,d=s?t-s:t;if(u<=d)return 0;var p=d/c,f=r({index:o,numberOfSlides:i,slidesShownPerPosition:p})?a({containerWidth:d,contentWidth:u,gap:n,index:o,slidesShownPerPosition:p,slotAndGapWidth:c,paddingX:s}):o*c;return f?Math.round(-f):0},s=function(e){var t=e.containerWidth,n=e.gap,r=e.index,o=e.numberOfSlides,i=e.slotWidth,a=e.isHorizontalScrollable,s=e.paddingX,c=e.rows,u=o/(void 0===c?1:c)*i+n*(o-1),d=s?t-s:t;return 0!==t&&(u<=d||(a?u<=d:Math.abs(l({containerWidth:t,gap:n,index:r,numberOfSlides:o,slotWidth:i,paddingX:s}))+n>=u-d))},c=function(e){var t=e.containerWidth,n=e.currentIndex,r=e.gap,o=e.index,i=e.numberOfSlides,a=e.slotWidth,s=e.paddingX,c=a+r,u=s?t-s:t;if(c*i<=u||0===t)return!0;var d=l({containerWidth:t,gap:r,index:n,numberOfSlides:i,slotWidth:a,paddingX:s}),p=s?u+c+s:t+c;return d+c*o<p},u=function(e,t,n){return e||"".concat(t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')," ").concat(n)};function d(e){var t,n,r,o,i,a=e.highResOnly,l=e.slot.images;return a?"".concat(null!=(o=null==l||null==(i=l["564x"])?void 0:i.url)?o:""," 1x"):[(null==l?void 0:l["474x"])&&"".concat(null!=(t=l["474x"].url)?t:""," 2x"),(null==l?void 0:l["736x"])&&"".concat(null!=(n=l["736x"].url)?n:""," 3x"),(null==l?void 0:l.orig)&&"".concat(null!=(r=l.orig.url)?r:""," 4x")].filter(Boolean).join(", ")}var p=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5?arguments[5]:void 0,a=i?n-i:n;if(a===t)return-(r*t*1)+(i||0);var l=Math.floor(a-t),s=t+o;return r===e-1?-1*r*s+l+(i||0):-1*r*s+(i||0)},f=function(e,t,n,r,o,i,a){if(!e||t<=0)return 0;var l=Math.floor(n*r),s=(null==e?void 0:e.clientWidth)||i*l;return Math.round(((a?t-a:t)+(a?s-a:s)-l/2)/(l+o))-1},y=function(e,t,n,r,o,i){e.current&&t&&e.current.scrollBy({left:(n-r)*(o+i),behavior:"smooth"})}},348274(e,t,n){n.d(t,{A:function(){return c},a:function(){return s}});var r=n(157203),o=n(460657),i=n(874834),a=n(879667);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var s={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function c(e){var t,n,c,u=e.backgroundColor,d=e.children,p=e.coverImage,f=e.disableTabIndex,y=e.height,m=e.id,h=e.isHovered,g=e.onClick,v=e.onMouseDown,b=e.onMouseEnter,_=e.onMouseLeave,S=e.searchBoxRenderStopwatch,x=e.url,w=e.width,j=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return l(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),A=j[0],O=j[1],P=function(){b?b():O(!0)},I=function(){_?_():O(!1)},k=h||A,T=k?s.hoverOverlay:s.bubbleOverlay;return(0,a.jsx)(o.$A,{href:x,onBlur:I,onFocus:P,onMouseDown:v,onMouseEnter:P,onMouseLeave:I,onTap:function(){null==g||g(m)},rounding:400,tabIndex:f?-1:void 0,children:(0,a.jsx)(o.n1,{height:y,rounding:400,width:w||"100%",children:null!=p&&p.url?(0,a.jsxs)(o._V,{alt:"",color:u,fit:"cover",naturalHeight:null!=(n=p.height)?n:1,naturalWidth:null!=(c=p.width)?c:1,onLoad:function(){null==S||S.stop();var e=(0,i.A)();e.isActive()&&e.stop()},role:"presentation",src:p.url,children:[(0,a.jsx)(o.az,{dangerouslySetInlineStyle:{__style:T},height:"100%",width:"100%"}),"function"==typeof d?d({isHovered:k}):d]}):(0,a.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:u}},height:"100%",width:"100%"})})})}},404429(e,t,n){n.d(t,{A:function(){return ri}});var r=n(157203),o=n(460657),i=n(185653),a=n(370714),l=n(675767),s=(0,l.A)({name:"autocomplete_render",sampleRate:1}),c=s.Provider,u=s.get,d=(0,l.A)({name:"search_tab_render",sampleRate:1}),p=d.Provider,f=d.get,y=n(467780),m=n(413249),h=n(620162),g=n(252825),v=n(837855),b=n(227581),_=n(879667);function S(e){var t=e.gradientPrimaryColor,n=e.gradientSecondaryColor,r=e.gradientDirection,i=e.position;return(0,_.jsx)(o.az,{bottom:"bottom"===i,dangerouslySetInlineStyle:{__style:{backgroundImage:"linear-gradient(".concat(r,", ").concat(t,", ").concat(n,")"),pointerEvents:"none"}},height:16,position:"absolute",rounding:"pill",top:"top"===i,width:"100%",zIndex:new o.rk(1)})}var x=function(e){var t=e.term;return(0,_.jsx)(o.KJ,{color:"subtle",inline:!0,lineClamp:1,children:t})};function w(e){var t,n,i=e.defaultPlaceholder,l=e.gradientSecondaryColor,s=void 0===l?"#FFF":l,c=e.height,u=e.suggestedSearchTerms,d=(0,a.A)(),p=u.length<3,f=(0,r.useRef)(null);return(0,_.jsx)(o.az,{ref:f,alignItems:"center",dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},"data-test-id":"dynamic-search-placeholder",display:"flex",height:void 0===c?48:c,overflow:"hidden",position:"relative",children:p?(0,_.jsx)(o.KJ,{color:"subtle",inline:!0,children:i}):(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(S,{gradientDirection:"to top",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"top"}),(0,_.jsx)(S,{gradientDirection:"to bottom",gradientPrimaryColor:"rgba(255, 255, 255, 0)",gradientSecondaryColor:s,position:"bottom"}),(0,_.jsxs)(o.so,{alignItems:"stretch",height:18,justifyContent:"start",children:[(0,_.jsx)(o.KJ,{color:"subtle",inline:!0,overflow:"noWrap",children:d._('Search for', 'searchBar.placeholder.dynamicText', 'Placeholder in search input. This text is followed by a set of animated search phrases like "Search for aesthetic art"')}),(0,_.jsx)(b.A,{unsafeCSS:"\n@keyframes slide-3-terms-loop {\n  0%, 21.74% {\n    transform: translateY(0%);\n  }\n  33.33%, 55.07% {\n      transform: translateY(-25%);\n  }\n  66.66%, 88.4% {\n      transform: translateY(-50%);\n  }\n  100% {\n      transform: translateY(-75%);\n  }\n}\n@keyframes slide-4-terms-loop {\n  0%,16.3% {\n    transform: translateY(0%);\n  }\n  25%,41.3%{\n    transform: translateY(-20%);\n  }\n  50%,66.3%{\n    transform: translateY(-40%);\n  }\n  75%,91.3%{\n    transform: translateY(-60%);\n  }\n  100% {\n    transform: translateY(-80%);\n  }\n}\n@keyframes slide-5-terms-loop {\n  0%, 13.04% {\n    transform: translateY(0%);\n  }\n  20%,33.04%{\n    transform: translateY(-16.66%);\n  }\n  40%,53.04%{\n    transform: translateY(-33.33%);\n  }\n  60%,73.04%{\n    transform: translateY(-49.98%);\n  }\n  80%,93.04%{\n    transform: translateY(-66.64%);\n  }\n  100% {\n    transform: translateY(-83.3%);\n  }\n}\n"}),(0,_.jsx)(o.az,{children:(0,_.jsxs)(o.az,{dangerouslySetInlineStyle:(t=u.length,{__style:{animation:"slide-".concat(t,"-terms-loop ").concat(2.3*(t+1),"s ease-out infinite forwards")}}),display:"inlineBlock",marginStart:1,children:[u.map(function(e){return(0,_.jsx)(o.az,{marginBottom:7,children:(0,_.jsx)(x,{term:e})},e)}),(0,_.jsx)(o.az,{marginBottom:7,children:(0,_.jsx)(x,{term:null!=(n=u[0])?n:""})})]})})]})]})})}var j=n(891546),A=n(707397);function O(){var e=(0,A.Z)(),t=e.displayedQuery,n=e.inlineACSuggestion,r=e.logInlineSuggestionView;return(0,j.A)(function(){r()}),(0,_.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{whiteSpace:"pre-wrap"}},children:[(0,_.jsx)("span",{style:{visibility:"hidden"},children:(0,_.jsx)(o.KJ,{color:"disabled",inline:!0,children:t})}),(0,_.jsx)(o.KJ,{color:"subtle",inline:!0,children:n.slice(t.length)})]})}var P=n(877131),I=n(984945),k=n(482771),T=n(106386),E=n(799632),C=n(132946),L=n(897454);function F(){var e,t,n=(0,h.zy)(),r=(0,L.A)(),o=n.pathname.startsWith("/pin/")&&n.pathname.split("/")[2]||(null==(e=n.pathname.startsWith("/search/")&&(0,C.A)(n.search).query_image_pins)?void 0:e.toString())||"",i=(0,T.d4)(function(e){return e.pins[o||""]}),a=(0,E.A)(i?null:{name:"ApiResource",options:{url:"/v3/pins/".concat(o,"/"),data:{fields:["pin.images[236x]","pin.is_unsafe"]}}}),l=a.data,s=a.isFetching,c=null!=i?i:l;return r&&!c&&s?{pinId:o}:r&&c&&!c.is_unsafe?{pinId:o,imageData:null==(t=c.images)?void 0:t["236x"]}:{}}var D=n(218393);function M(e){var t=e.disabled,n=void 0!==t&&t,i=e.name,l=(0,a.A)(),s=(0,r.useRef)(null),c=(0,r.useRef)(void 0),u=(0,v.A)().isAuth,d=(0,h.zy)(),p=(0,o.Ib)(),f=(0,L.A)(),y=(0,A.Z)(),m=y.delayedSearchBoxOpen,S=y.displayedQuery,x=y.handleInputBlur,T=y.handleInputChange,E=y.handleInputClick,C=y.handleInputFocus,M=y.handleKeyDown,z=y.handleKeyUp,B=y.suggestionsFocusIndex,R=y.suggestionGroups,N=y.inlineACSuggestion,U=y.isInTypeaheadSession,K=y.handleTypedSearchSubmit,q=y.multimodalPinId,W=y.searchBoxPlaceholder,G=y.searchBoxHovered,H=y.setVoiceSearchPlaceholder,V=y.suggestedSearchTerms,Q=y.voiceSearchPlaceholder,Y=(0,k.TR)({suggestionsFocusIndex:B,suggestionGroups:R}),J=(0,P.$)(d).isEligiblePageTypeForDynamicSearchPlaceholder;(0,r.useEffect)(function(){Q&&c.current&&(c.current.pathname!==d.pathname||c.current.search!==d.search)&&H(D.g.NULL),c.current=d},[d,Q,H]),(0,j.A)(function(){s.current&&K&&s.current.addEventListener("searchTrigger",K)}),(0,r.useEffect)(function(){s.current&&(document.activeElement===s.current!==U?U?s.current.focus():s.current.blur():H(D.g.NULL))},[U,H]),(0,j.A)(function(){s.current&&new URLSearchParams(window.location.search).get("search_box_open")&&m()});var X=!p&&!u&&J&&!S,$=X?"":f&&"Looking for something?"||W||l._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),Z=F().imageData,ee=q&&Z&&"padding-left: ".concat(Math.round(101*(Z.width||1)/(Z.height||2))+8,"px !important;")||f&&!U&&!S&&"padding-left: ".concat(36,"px !important;")||"";return(0,_.jsxs)(o.az,{flex:"grow",height:"100%",children:[(0,_.jsx)(b.A,{unsafeCSS:"\n          div:has(> textarea) {\n            border-radius: 24px !important\n          }\n          textarea {\n            font-size: 20px !important;\n            width: calc(100% - 20px) !important;\n            ".concat(ee,"\n          }\n          input::placeholder {\n          color: var(--sema-color-text-subtle)").concat(X?"; display: none":"","\n          }")}),f?(0,_.jsx)(o.fs,{ref:s,"data-test-id":"search-box-input",disabled:n,id:"omnipresent-search-box",onBlur:function(e){x(e.event)},onChange:function(e){T(e.event)},onClick:function(e){E(e.event)},onFocus:function(e){C(e.event)},onKeyDown:function(e){M(e.event)},onKeyUp:function(e){z(e.event)},placeholder:$,rows:3,value:S}):(0,_.jsx)("input",{ref:s,"aria-activedescendant":Y,"aria-autocomplete":"list","aria-controls":"SuggestionsMenu","aria-describedby":"searchBoxAccessibleText","aria-expanded":U,"aria-label":l._('Search', 'searchBox.searchInput.placeholder', 'placeholder text for the search box'),autoCapitalize:"off",autoComplete:"off",autoCorrect:"off","data-gestalt-valid-html":"SearchField","data-test-id":"search-box-input",disabled:n,name:i,onBlur:x,onChange:T,onClick:E,onFocus:C,onKeyDown:M,onKeyUp:z,placeholder:$,role:"combobox",style:{backgroundColor:"transparent",border:"none",color:"var(--sema-color-text-default)",fontFamily:g.A,fontSize:16,fontWeight:"normal",height:"100%",outline:"none",padding:"0",width:"100%"},type:"text",value:S}),!!N&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none",top:13}},position:"absolute",top:!0,width:"85%",children:(0,_.jsx)(O,{})}),X&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},position:"absolute",top:!0,width:"85%",children:(0,_.jsx)(w,{defaultPlaceholder:$,gradientSecondaryColor:G?I.uq:I.kP,suggestedSearchTerms:V})}),(0,_.jsx)(o.az,{display:"none",id:"searchBoxAccessibleText",children:l._('When autocomplete results are available use up and down arrows to\n                review and enter to select. Touch device users, explore by touch or\n                with swipe gestures.', 'searchBox.searchInput.accessibleText', 'Accessible text for search input')})]})}var z=n(794044),B=n(642347),R=n(912272),N=n(186122),U=n(388877),K=n(598269);function q(e){var t=e.contentTypes,n=e.contentTypesAnchor,r=e.handleSelectFilter,i=e.onDismiss;return(0,_.jsx)(o.ms,{anchor:n,disableMobileUI:!0,id:"ContentFilterList",idealDirection:"down",isWithinFixedContainer:!0,onDismiss:i,zIndex:new o.rk(K.d1),children:t.map(function(e,t){return(0,_.jsx)(o.ms.Item,{dataTestId:"search-filter-"+e.dataId,onSelect:function(){return r(t)},option:{value:e.text,label:e.text},children:(0,_.jsx)(o.KJ,{weight:[z.cO.PINS,z.cO.PINS_MINE].includes(e.scope)?"bold":"normal",children:e.text})},e.text)})})}var W=n(351462),G=n(880937);function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return V(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?V(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var Q=function(e){switch(e){case z.cO.PINS:return 220;case z.cO.PINS_MINE:return 223;case z.cO.PINS_VIDEO:return 11399;case z.cO.BOARDS:return 221;case z.cO.USERS:return 222;default:return null}},Y=function(e){var t,n,i=e.currentlySelectedFilter,l=e.currentQuery,s=e.handleContentTypeFilterHover,c=e.handleScopeChange,u=(0,N.o)().logContextEvent,d=(0,a.A)(),p=(n=(t=[{scope:z.cO.PINS,text:d._('All Pins', 'All Pins label for content type filters on search bar', 'All Pins label for content type filters on search bar'),dataId:"all-pins"},{scope:z.cO.PINS_MINE,text:d._('Your Pins', 'Your Pins label for content type filters on search bar', 'Your Pins label for content type filters on search bar'),dataId:"your-pins"}]).findIndex(function(e){return e.scope===z.cO.PINS_MINE}),t.push(t.splice(n,1)[0]),t),f=(0,r.useRef)(null),y=(0,h.Zp)(),m=(0,W.A)().enabled,g=(0,L.A)(),v=H((0,r.useState)(i||p[0].scope),2),b=v[0],S=v[1],x=H((0,r.useState)(!1),2),w=x[0],j=x[1],A=H((0,r.useState)(!1),2),O=A[0],P=A[1];(0,r.useEffect)(function(){S(i)},[i]);var I=function(){P(!0),s&&s(!0)},k=function(){P(!1),s&&s(!1)},T=(p[b?p.findIndex(function(e){return e.scope===b}):0]||p[0]).text,E=(0,_.jsx)(o.az,{ref:f,dangerouslySetInlineStyle:{__style:{borderRadius:"0 4px 4px 0",height:R.vT}},"data-test-id":"search-filter",overflow:"hidden",children:(0,_.jsxs)(o.az,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",paddingX:4,children:[(0,_.jsx)(o.KJ,{inline:!0,size:"200",weight:"bold",children:T}),(0,_.jsx)(o.az,{marginStart:2,children:(0,_.jsx)(o.In,{accessibilityLabel:d._('Dropdown', ' - ', ' -- '),color:"default",icon:"chevron-down",inline:!0,size:12})})]})});return(0,_.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:O?"rgba(0, 0, 0, 0.06)":void 0,bottom:g?4:void 0}},display:"flex",flex:"none",height:R.vT,left:!0,marginStart:2,position:g?"absolute":"relative",rounding:m?G.Xr:600,zIndex:g?new o.K5([new o.rk(K.d1+1)]):void 0,children:[(0,_.jsx)(o.Rp,{fullHeight:!0,fullWidth:!1,onMouseEnter:function(){return I()},onMouseLeave:function(){return k()},onTap:function(e){var t=e.event;t&&(t.preventDefault(),t.stopPropagation()),j(!w),u({event_type:101,component:215,aux_data:{entered_query:l}})},rounding:600,children:E}),w&&(0,_.jsx)(q,{contentTypes:p,contentTypesAnchor:f.current,handleSelectFilter:function(e){var t=p[e].scope;S(t),j(!1),u({event_type:101,component:215,element:Q(t),aux_data:{entered_query:l}}),c(t),l&&y("/search/".concat(t,"/?q=").concat(encodeURIComponent(l),"&rs=").concat(U.I.FILTER))},onDismiss:function(){return j(!1)}})]})};function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function X(e){var t,n=e.children,o=e.hideOnScroll,i=e.isInTypeaheadSession,a=e.searchBoxHovered,l=e.hideDurationMs,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return J(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,r.useRef)(0);function p(){o&&window.scrollY!==d.current&&(u(!0),d.current=window.scrollY)}function f(){o&&window.scrollY===d.current&&(setTimeout(function(){u(!1)},l),d.current=window.scrollY)}return c&&(i||a)&&u(!1),(0,j.A)(function(){return window.addEventListener("scroll",p),window.addEventListener("scrollend",f),function(){window.removeEventListener("scroll",p),window.removeEventListener("scroll",f)}}),n({isHidden:c,updateHiddenState:u})}var $=n(155357);function Z(){var e=F(),t=e.imageData,n=e.pinId,r=void 0===n?"":n,i=t||{},a=i.width,l=i.height,s=i.url,c=(0,$.A)(),u=c.hovered,d=c.onMouseEnter,p=c.onMouseLeave,f=(0,A.Z)(),y=f.multimodalPinId,m=f.setMultimodalPinId,h=y?101:50,g=(a||1)/(l||2)*h;return s&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{left:8,bottom:8}},height:h,position:"absolute",rounding:400,width:g,children:(0,_.jsx)(o.Rp,{onMouseDown:function(e){var t=e.event;t.preventDefault(),t.stopPropagation()},onMouseEnter:d,onMouseLeave:p,onTap:function(){m(y?"":r)},rounding:400,children:(0,_.jsx)(o.n1,{height:h,rounding:400,wash:!0,width:g,children:(0,_.jsx)(o._V,{alt:"",fit:"cover",naturalHeight:h,naturalWidth:g,src:s,children:(u||!y)&&(0,_.jsx)(o.n1,{height:"100%",wash:!0,width:"100%",children:(0,_.jsx)(o.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,_.jsx)(o.In,{accessibilityLabel:"",color:"inverse",icon:y?"close":"plus",size:24})})})})})})})}function ee(e){var t=e.hasAppliedQuery,n=e.onClear,r=(0,a.A)(),i=(0,L.A)();return(0,_.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:i?{__style:{bottom:60}}:void 0,"data-test-id":"search-cancel",display:"flex",height:48,justifyContent:"center",position:i?"absolute":void 0,right:!!i,width:48,children:(0,_.jsx)(o.n1,{rounding:t&&!i?300:400,children:(0,_.jsx)(o.K0,{accessibilityLabel:r._('Remove search input', 'searchBox.removeSearchInput.accessibilityLabel', 'Accessibility label to remove the search input'),icon:t&&!i?"close":"circle-close",iconColor:"default",onClick:n,padding:t&&!i?2:void 0,size:t&&!i?"sm":"lg"})})})}var et=n(910623),en=n(946368),er=function(e){var t;return null!=(t=e.split("\n").find(function(e){return e&&!e.startsWith("#")}))?t:null},eo=[{magicBytes:"Qk",format:{mimeType:"image/bmp",extension:".bmp"}},{magicBytes:"R0lGOD",format:{mimeType:"image/gif",extension:".gif"}},{magicBytes:"/9j/",format:{mimeType:"image/jpeg",extension:".jpg"}},{magicBytes:"iVBORw0KGgo",format:{mimeType:"image/png",extension:".png"}},{magicBytes:"SUkq",format:{mimeType:"image/tiff",extension:".tiff"}},{magicBytes:"TU0A",format:{mimeType:"image/tiff",extension:".tiff"}},{magicBytes:"UklGR",format:{mimeType:"image/webp",extension:".webp"}}],ei={mimeType:"image/png",extension:".png"};function ea(e){var t,n,r=eo.find(function(t){var n=t.magicBytes;return e.startsWith(n)}),o=null!=(t=null==r?void 0:r.format)?t:ei,i=o.mimeType,a=o.extension;try{n=atob(e)}catch(e){throw Error("Invalid base64 encoding")}return new File([new Blob([Uint8Array.from(n,function(e){return e.charCodeAt(0)})],{type:i})],"lens-image".concat(a),{type:i})}function el(e){return(el="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function es(e){var t="function"==typeof Map?new Map:void 0;return(es=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(ec())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var o=new(e.bind.apply(e,r));return n&&eu(o,n.prototype),o}(e,arguments,ed(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),eu(n,e)})(e)}function ec(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(ec=function(){return!!e})()}function eu(e,t){return(eu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ed(e){return(ed=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ep="MULTIPLE_IMAGES",ef="NO_FILE",ey="URL_VALIDATION",em="UNSUPPORTED_FORMAT",eh="DATA_URL_INVALID",eg="REMOTE_URL_FAILED",ev="NO_RESULTS",eb="GENERIC",e_=function(e){function t(e,n){var r,o,i,a,l,s,c;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");return o=t,i=[e,n],o=ed(o),a=r=function(e,t){if(t&&("object"==el(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,ec()?Reflect.construct(o,i||[],ed(this).constructor):o.apply(this,i)),s="LensUserError",(c=function(e,t){if("object"!=el(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=el(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(l="name","string"),(l="symbol"==el(c)?c:c+"")in a)?Object.defineProperty(a,l,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[l]=s,r.type=e,r}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eu(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}(es(Error)),eS=function(e){return e._('Something went wrong. Please try again', 'lens.error.uploadFailed', 'Generic fallback error message when no specific error applies')},ex=function(e,t){switch(t){case ep:return e._('Upload a single image and try again.', 'lens.error.multipleImages', 'Error message when user drops multiple images instead of one');case ef:return e._('No image found. Try dragging an image file.', 'lens.error.noFile', 'Error message when user drops content with no valid image file');case ey:return e._('Double check the image URL and try again.', 'lens.error.urlValidation', 'Error message when user enters a malformed or invalid URL in Lens');case em:return e._('Something went wrong. Upload a .jpg, .gif, .png, .tif, or .webp file or an image link.', 'lens.error.unsupportedFormat', 'Error message when user uploads an unsupported image format');case eh:return e._('Couldn\'t load image from URL. Try a different image.', 'lens.error.dataUrlInvalid', 'Error when data URL is invalid (e.g. malformed base64, corrupted data)');case eg:return e._('Unable to add link. Try saving and uploading the image.', 'lens.error.remoteUrlFailed', 'Error when fetching remote URL fails (site blocked, network error, server error)');case ev:return e._('No results found for this image. Try uploading another image.', 'lens.error.noResults', 'Error message when no visual search results are found for the uploaded image');default:return eS(e)}},ew=n(646752);function ej(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return eA(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(eA(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eA(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,eA(u,"constructor",c),eA(c,"constructor",s),s.displayName="GeneratorFunction",eA(c,o,"GeneratorFunction"),eA(u),eA(u,o,"Generator"),eA(u,r,function(){return this}),eA(u,"toString",function(){return"[object Generator]"}),(ej=function(){return{w:i,m:d}})()}function eA(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(eA=function(e,t,n,r){function i(t,n){eA(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function eO(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eP(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eO(i,r,o,a,l,"next",e)}function l(e){eO(i,r,o,a,l,"throw",e)}a(void 0)})}}var eI=function(e){var t=e.lastIndexOf(".");return t>0?e.slice(0,t):e};function ek(){return(ek=eP(ej().m(function e(t,n){return ej().w(function(e){for(;;)if(0===e.n)return e.a(2,new Promise(function(e,r){t.toBlob(function(t){t?e(t):r(Error("Canvas toBlob failed"))},n,en.Et)}))},e)}))).apply(this,arguments)}function eT(e,t){return eE.apply(this,arguments)}function eE(){return(eE=eP(ej().m(function e(t,n){var r,o,i,a,l,s,c,u,d,p,f,y;return ej().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,ew.A)({file:t,i18n:n,ideaPinRenamingEnabled:!1,options:{allowVideo:!1}});case 1:if("error"!==(r=e.v).type){e.n=2;break}throw new e_(em,{cause:r.message||"File validation failed"});case 2:return e.n=3,createImageBitmap(t);case 3:if(i=(o=e.v).width,a=o.height,l=i>en.Dj?en.Dj/i:1,c=(s=[Math.round(i*l),Math.round(a*l)])[0],u=s[1],(d=document.createElement("canvas")).width=c,d.height=u,p=d.getContext("2d")){e.n=4;break}throw o.close(),new e_(eb,{cause:"Failed to create canvas context"});case 4:return p.drawImage(o,0,0,c,u),o.close(),f=d.toDataURL(en.g0,en.Et),e.n=5,function(e,t){return ek.apply(this,arguments)}(d,en.g0);case 5:return y=new File([e.v],eI(t.name)+en.WK,{type:en.g0}),e.a(2,{file:y,src:f,width:c,height:u})}},e)}))).apply(this,arguments)}function eC(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return eL(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(eL(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eL(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,eL(u,"constructor",c),eL(c,"constructor",s),s.displayName="GeneratorFunction",eL(c,o,"GeneratorFunction"),eL(u),eL(u,o,"Generator"),eL(u,r,function(){return this}),eL(u,"toString",function(){return"[object Generator]"}),(eC=function(){return{w:i,m:d}})()}function eL(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(eL=function(e,t,n,r){function i(t,n){eL(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function eF(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eD(){var e;return e=eC().m(function e(t,n){var r,o;return eC().w(function(e){for(;;)switch(e.p=e.n){case 0:if(r=t.split(",")[1]){e.n=1;break}throw new e_(eh,{cause:"Missing base64 data in data URL"});case 1:e.p=1,o=ea(r),e.n=3;break;case 2:throw e.p=2,new e_(eh,{cause:e.v||"Failed to decode base64 image"});case 3:return e.a(2,eT(o,n))}},e,null,[[1,2]])}),(eD=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eF(i,r,o,a,l,"next",e)}function l(e){eF(i,r,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}var eM=n(752411);function ez(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return eB(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(eB(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,eB(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,eB(u,"constructor",c),eB(c,"constructor",s),s.displayName="GeneratorFunction",eB(c,o,"GeneratorFunction"),eB(u),eB(u,o,"Generator"),eB(u,r,function(){return this}),eB(u,"toString",function(){return"[object Generator]"}),(ez=function(){return{w:i,m:d}})()}function eB(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(eB=function(e,t,n,r){function i(t,n){eB(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function eR(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function eN(){var e;return e=ez().m(function e(t){var n,r,o,i,a,l,s,c;return ez().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,(0,eM.A)({url:en.UQ,method:"GET",data:{url:t}});case 1:r=e.v,e.n=3;break;case 2:throw e.p=2,new e_(eg,{cause:e.v});case 3:if(o=null==(n=r.resource_response.data)?void 0:n.image_file){e.n=4;break}throw new e_(eg,{cause:"Missing image_file in V3_LENS_UPLOAD_HANDLER response"});case 4:e.p=4,i=ea(o),e.n=6;break;case 5:throw e.p=5,new e_(eg,{cause:e.v||"Failed to decode base64 image from server"});case 6:return e.n=7,createImageBitmap(i);case 7:return l=(a=e.v).width,s=a.height,a.close(),c="data:".concat(i.type,";base64,").concat(o),e.a(2,{file:i,src:c,width:l,height:s})}},e,null,[[4,5],[0,2]])}),(eN=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){eR(i,r,o,a,l,"next",e)}function l(e){eR(i,r,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function eU(e,t){return e.startsWith("data:image")?function(){return function(e,t){return eD.apply(this,arguments)}(e,t)}:function(){return function(e){return eN.apply(this,arguments)}(e)}}var eK=n(361268),eq=n(737968),eW=n(259938),eG={border:"2px dashed #dadada",borderRadius:"16px",pointerEvents:"none"};function eH(e){var t,n,r,i,l,s,c=e.error,u=e.isDisabled,d=e.setValidationError,p=e.uploadImage,f=(0,a.A)(),y=(n=(t={isDisabled:void 0!==u&&u,setValidationError:d,uploadImage:p}).isDisabled,r=t.setValidationError,i=t.uploadImage,l=(0,a.A)(),s=(0,N.o)().logContextEvent,{handleFileSelect:function(e){if(!n){var t=function(e){if(e&&e.length>1)return{type:"multipleFiles"};var t=null==e?void 0:e[0];return t?{type:"file",file:t}:{type:"noFile"}}(e.target.files);switch(s({component:en.SY,element:14558,event_type:15656,view_type:en.CR}),t.type){case"file":i(function(){return eT(t.file,l)},en.nb);break;case"multipleFiles":r(ex(l,ep));break;case"noFile":r(ex(l,ef))}}},handleFileAndUrlDrop:function(e){if(!n){var t,o,a,c,u=(o=(t=e.dataTransfer).types.includes("text/uri-list"),a=er(t.getData("text/uri-list")),c=t.files,a?{type:"url",url:a,fromBrowser:!0}:c.length>1?{type:"multipleFiles",fromBrowser:o}:1===c.length&&c[0]?{type:"file",file:c[0],fromBrowser:!1}:o?{type:"invalidUrl",fromBrowser:!0}:{type:"noFile",fromBrowser:!1});switch(s({component:en.SY,event_type:u.fromBrowser?3502:3501,view_type:en.CR}),u.type){case"url":i(eU(u.url,l),en.cr);break;case"file":i(function(){return eT(u.file,l)},en.nb);break;case"multipleFiles":r(ex(l,ep));break;case"invalidUrl":r(ex(l,ey));break;case"noFile":r(ex(l,ef))}}}}),m=y.handleFileSelect,h=y.handleFileAndUrlDrop;return(0,_.jsx)(eW.A,{accept:eq.oA.join(","),accessibilityLabel:f._('File Upload', 'lens.upload.fileUpload', 'Input where we upload files for Lens image search'),allowMultipleFiles:!1,dropRounding:16,hasError:!!c,id:"lens-photo-upload-input",onChange:m,onDrop:h,children:function(){return(0,_.jsx)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:eG},direction:"column",display:"flex",minHeight:280,children:(0,_.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{marginTop:70}},direction:"column",display:"flex",children:[(0,_.jsx)(o.In,{accessibilityLabel:f._('Upload photo', 'lens.photo.upload.icon', 'Upload indicator for lens image search'),color:c?"error":"dark",icon:c?"circle-exclamation-point":"circle-arrow-up",size:24}),(0,_.jsx)(o.so,{alignItems:"center",direction:"column",justifyContent:"start",children:(0,_.jsxs)(o.az,{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",marginTop:4,children:[!!c&&(0,_.jsx)(o.az,{marginBottom:4,width:320,children:(0,_.jsx)(o.KJ,{align:"center",color:"error",children:c})}),(0,_.jsx)(o.KJ,{align:"center",inline:!0,children:(0,eK.vQ)(f._('Drag an image here or {{ chooseFile }}', 'lens.popover.uploadTip.dragImage', 'Upload tip for Lens Image Search. chooseFile: choose a file to upload'),{chooseFile:(0,_.jsx)(o.KJ,{inline:!0,underline:!0,children:f._('choose a file', 'lens.popover.uploadTip', 'Upload tip for Lens Image Search')},"lens-choose-file")})})]})})]})})}})}var eV=n(39626),eQ=n(644632),eY=n(42122),eJ=n(212180),eX=n(395121);function e$(){var e=(0,a.A)(),t=(0,h.zy)(),n=(0,h.Zp)(),r=(0,N.o)().logContextEvent,i=(0,et.S)().setIsPopoverOpen,l=en.Gj,s=(0,eV.A)({buttonPadding:2,height:229,hideSave:!0,pageSize:10,viewParameter:l,viewType:119,width:163}),c=s.items,u=s.isLoaded,d=s.renderItem,p=u&&c.length>0,f=!p,y="/lens-search/history"===t.pathname,m=e._('Your uploads', 'lens.history.header', 'Header for users Lens image upload history'),g=e._('View all', 'lens.history.viewAll', 'Text for button to view all lens history');(0,eQ.r)(p?{component:15075,element:14560,view_type:119}:null);var v=(0,eJ.bi)({componentType:15075,impressionType:"Story",loggingId:"lens-history-carousel-impression-logging-id",viewType:119});return(0,_.jsx)(o.az,{ref:v,marginBottom:2,paddingY:3,children:(0,_.jsx)(eX.A,{actionButton:(0,_.jsx)(o.$n,{disabled:f,onClick:function(e){e.event.stopPropagation(),r({component:15075,element:14560,event_type:101,view_type:119}),i(!1),y||n("/lens-search/history")},text:g}),collapseButtonElementType:14560,collapseByDefault:!0,componentType:15075,disabled:f,expandButtonElementType:14560,headerPaddingX:10,heading:m,icon:"compact-chevron-down",viewType:119,children:(0,_.jsx)(o.az,{marginTop:3,paddingX:6,children:(0,_.jsx)(eY.A,{inset:"none",itemHeight:229,items:c,itemWidth:163,mode:"multi",renderItem:function(e){return d(e.item)},showNavigationButtons:!0,showScrollMarkers:!0})})})})}function eZ(e){var t=e.onDismiss,n=(0,a.A)();return(0,_.jsx)(o.az,{padding:6,children:(0,_.jsxs)(o.so,{alignItems:"center",justifyContent:"between",children:[(0,_.jsx)(o._Y,{accessibilityLevel:1,size:"400",children:n._('Upload an image to search', 'lens.popover.header', 'Header for Lens Image Search popover')}),(0,_.jsx)(o.K0,{accessibilityLabel:n._('Close', 'lens.popover.close', 'Close button for Lens popover'),icon:"close",iconColor:"default",onClick:t,size:"lg"})]})})}function e0(){var e=(0, a.A)()._('Uploading Image', 'lens.loading.message', 'Message for uploading image');return(0,_.jsx)(o.az,{bottom:!0,color:"default",left:!0,margin:"auto",position:"absolute",right:!0,top:!0,children:(0,_.jsxs)(o.so,{alignItems:"center",direction:"column",gap:{row:0,column:6},height:"100%",justifyContent:"center",width:"100%",children:[(0,_.jsx)(o.y$,{accessibilityLabel:e,show:!0}),(0,_.jsx)(o.Wu,{children:e})]})})}var e1=n(34980);function e2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var e3="lens-url-input";function e6(e){var t,n,i,l,s,c,u,d,p,f,y,m=e.error,h=e.isDisabled,g=void 0!==h&&h,v=e.setValidationError,S=e.uploadImage,x=(0,a.A)(),w=(n=(t={isDisabled:g,setValidationError:v,uploadImage:S}).isDisabled,i=t.setValidationError,l=t.uploadImage,s=(0,a.A)(),c=(0,N.o)().logContextEvent,p=(d=function(e){if(Array.isArray(e))return e}(u=(0,r.useState)(""))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(u,0)||function(e,t){if(e){if("string"==typeof e)return e2(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e2(e,2):void 0}}(u,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())[0],f=d[1],y=function(){if(!n&&p){if(c({component:en.SY,element:14559,event_type:15656,view_type:en.CR}),!p.startsWith("data:image")&&!(0,e1.A)({url:p}))return void i(ex(s,ey));l(eU(p,s),en.cr)}},{inputValue:p,handleInputChange:function(e){f(e),i("")},handleSubmit:y,handleKeyDown:function(e){"Enter"===e.key&&y()}}),j=w.inputValue,A=w.handleInputChange,O=w.handleSubmit,P=w.handleKeyDown;return(0,_.jsxs)(o.az,{paddingY:4,position:"relative",children:[(0,_.jsx)(b.A,{unsafeCSS:"\n          #".concat(e3," {\n            padding-right: ").concat(52,"px !important;\n          }\n        ")}),(0,_.jsx)(o.A_,{autoComplete:"url",disabled:g,errorMessage:m,hasError:!!m,id:e3,label:x._('Upload from URL', 'lens.url.label', 'Label for url input'),labelDisplay:"hidden",onChange:function(e){return A(e.value)},onKeyDown:function(e){return P(e.event)},placeholder:x._('Paste image link', 'lens.url.textField', 'Placeholder text to enter website url'),size:"lg",type:"url",value:j}),(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{top:26}},paddingX:3,position:"absolute",right:!0,children:(0,_.jsx)(o.K0,{accessibilityLabel:x._('Submit', 'lens.url.submitButton', 'Submit button to scrape images from url'),bgColor:"secondary",disabled:!j||g,icon:"chevron-right",onClick:O,size:"sm"})})]})}var e4=n(288039),e5=n(204597),e7=n(651421);function e8(e){return(e8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e9(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return te(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(te(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,te(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,te(u,"constructor",c),te(c,"constructor",s),s.displayName="GeneratorFunction",te(c,o,"GeneratorFunction"),te(u),te(u,o,"Generator"),te(u,r,function(){return this}),te(u,"toString",function(){return"[object Generator]"}),(e9=function(){return{w:i,m:d}})()}function te(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(te=function(e,t,n,r){function i(t,n){te(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=e8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e8(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tr(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}var to={x:0,y:0,w:1,h:1};function ti(){var e;return e=e9().m(function e(t,n){var r,o,i,a,l,s;return e9().w(function(e){for(;;)switch(e.n){case 0:return(o=new FormData).append("image",t),o.append("x",String(to.x)),o.append("y",String(to.y)),o.append("w",String(to.w)),o.append("h",String(to.h)),e.n=1,(0,e4.A)({url:en.hU,type:"POST",data:o}).promise;case 1:if((i=e.v).responseText){e.n=2;break}throw new e_(eb,{cause:"Empty response from server"});case 2:if((a=JSON.parse(i.responseText)).success){e.n=3;break}throw new e_(eb,{cause:a.error||"Upload not successful"});case 3:if(!(!a.data||0===a.data.length)){e.n=4;break}throw new e_(ev,{cause:a.error||"Empty data in the response"});case 4:if(a.url){e.n=5;break}throw new e_(eb,{cause:a.error||"Missing API URL in response"});case 5:return l=a.url,s={url:en.b0,data:tn(tn({url:l,crop_source:5},to),{},{add_fields:e7.A.base_grid_item.join(",")})},n((0,e5.O8)("ApiResource",s,{resource_response:{data:null!=(r=a.data)?r:[],error:null},bookmarks:a.bookmark?[a.bookmark]:[]})),e.a(2,l)}},e)}),(ti=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tr(i,r,o,a,l,"next",e)}function l(e){tr(i,r,o,a,l,"throw",e)}a(void 0)})}).apply(this,arguments)}function ta(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return tl(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(tl(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,tl(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,tl(u,"constructor",c),tl(c,"constructor",s),s.displayName="GeneratorFunction",tl(c,o,"GeneratorFunction"),tl(u),tl(u,o,"Generator"),tl(u,r,function(){return this}),tl(u,"toString",function(){return"[object Generator]"}),(ta=function(){return{w:i,m:d}})()}function tl(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(tl=function(e,t,n,r){function i(t,n){tl(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function ts(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tu(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tu(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var td=n(26546);function tp(e){var t,n,i,l,s,c,u,d,p,f,y,m,g,v,b,S,x,w,j,A=e.anchor,O=e.onDismiss,P=e.searchBoxRef,I=(0,a.A)(),k=(0,td.g)(),E=(t=(0,a.A)(),n=(0,T.wA)(),i=(0,h.Zp)(),l=(0,h.zy)().pathname,s=(0,et.S)().setPreparedImage,u=(c=tc((0,r.useState)(!1),2))[0],d=c[1],f=(p=tc((0,r.useState)(""),2))[0],y=p[1],g=(m=tc((0,r.useState)(""),2))[0],v=m[1],b=function(e){y(e),e&&v("")},S=function(e){v(e),e&&y("")},x=ta().m(function e(r,o){var a,c,u,p,f,y,m,h;return ta().w(function(e){for(;;)switch(e.p=e.n){case 0:return(a=o===en.nb?b:S)(""),d(!0),e.p=1,e.n=2,r();case 2:return u=(c=e.v).file,p=c.src,f=c.width,y=c.height,e.n=3,function(e,t){return ti.apply(this,arguments)}(u,n);case 3:m=e.v,function(e,t){var n=new FormData;n.append("image",e),n.append("source_type",t),(0,e4.A)({url:en.SK,type:"PUT",data:n})}(u,o),s({file:u,src:p,apiUrl:m,width:f,height:y}),"/lens-search"!==l&&i("/lens-search/"),O(),e.n=5;break;case 4:e.p=4,h=e.v,a(h instanceof e_?ex(t,h.type):eS(t));case 5:return e.p=5,d(!1),e.f(5);case 6:return e.a(2)}},e,null,[[1,4,5,6]])}),w=function(){var e=this,t=arguments;return new Promise(function(n,r){var o=x.apply(e,t);function i(e){ts(o,n,r,i,a,"next",e)}function a(e){ts(o,n,r,i,a,"throw",e)}i(void 0)})},{isUploading:u,fileError:f,setFileError:b,urlError:g,setUrlError:S,uploadImage:function(e,t){return w.apply(this,arguments)}}),C=E.isUploading,L=E.fileError,F=E.setFileError,D=E.urlError,M=E.setUrlError,z=E.uploadImage;if((0,eQ.r)({component:en.SY,view_type:en.CR}),!A)return null;var B=null==P||null==(j=P.current)?void 0:j.getBoundingClientRect(),R=document.documentElement.clientWidth,N=B?R-B.right:0,U="calc(100vh - ".concat(k,"px - ").concat(en.qm,"px)");return(0,_.jsx)(o.Wd,{zIndex:en.B4,children:(0,_.jsx)(o.AM,{accessibilityLabel:I._('Lens popover', 'lens.popover.accessibilityLabel', 'Popover for Lens Image Search'),anchor:A,coordinates:{top:k,end:N},idealDirection:"down",onDismiss:O,position:"fixed",positionRelativeToAnchor:!1,size:"flexible",children:(0,_.jsxs)(o.az,{position:"relative",width:en.J8,children:[(0,_.jsx)(eZ,{onDismiss:O}),(0,_.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{maxHeight:U}},overflow:"auto",position:"relative",children:[(0,_.jsxs)(o.az,{paddingX:6,children:[(0,_.jsx)(eH,{error:L,isDisabled:C,setValidationError:F,uploadImage:z}),(0,_.jsx)(e6,{error:D,isDisabled:C,setValidationError:M,uploadImage:z})]}),(0,_.jsx)(e$,{}),C&&(0,_.jsx)(e0,{})]})]})})})}function tf(e){var t=e.searchBoxRef,n=(0,a.A)(),i=(0,N.o)().logContextEvent,l=(0,et.S)(),s=l.isPopoverOpen,c=l.setIsPopoverOpen,u=l.setLensButtonMounted,d=(0,r.useRef)(null);(0,j.A)(function(){return u(!0),i({component:43,element:1304,event_type:120}),function(){return u(!1)}});var p=(0,r.useCallback)(function(){c(!s),i({component:43,element:1304,event_type:101})},[s,c,i]);return(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(o.K0,{ref:d,accessibilityLabel:n._('Lens', 'searchBox.lens.accessibilityLabel', 'Lens'),icon:"search-by-image",onClick:p,tooltip:{text:n._('Upload image', 'searchBox.lens.tooltip', 'Upload image'),idealDirection:"down",zIndex:G.Yo}}),s&&(0,_.jsx)(tp,{anchor:d.current,onDismiss:function(){return c(!1)},searchBoxRef:t})]})}var ty=n(805454);function tm(){return"u">typeof window&&("webkitSpeechRecognition"in window||"SpeechRecognition"in window)}var th=n(217870),tg=n(35845),tv={v:"4.8.0",meta:{g:"LottieFiles AE 3.6.0",a:"",k:"",d:"",tc:""},fr:25,ip:0,op:75,w:24,h:24,nm:"lottie_loop_3_sec",ddd:0,assets:[],layers:[{ddd:0,ind:1,ty:4,nm:"Shape Layer 5",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[22.062,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:5,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:12,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:25,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.704],[-10.125,5.714]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:32,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3.25],[-10.125,3.194]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.544],[-10.125,4.522]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:45,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-.703],[-10.125,.641]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:52,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.685],[-10.125,7.748]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.451],[-10.125,5.474]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-4.75],[-10.125,4.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Shape Layer 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[17.047,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:18,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:27,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:38,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-4.346],[-10.154,4.304]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:53,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.151,-4.706],[-10.151,4.668]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:63,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.165,-1.59],[-10.165,1.514]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:71,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.135,-6.147],[-10.135,6.125]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-7.875],[-10.141,7.875]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Shape Layer 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[12.031,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:13,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.145,-5.963],[-10.145,5.901]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:24,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:42,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.141,-.622],[-10.141,.622]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.156,-7.75],[-10.156,7.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.15,-4.91],[-10.15,4.872]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:67,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.154,-6.64],[-10.154,6.587]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Shape Layer 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[7.016,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:10,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-3],[-10.125,2.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:20,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-7.688],[-10.109,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:29,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:39,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-4.734],[-10.117,4.456]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:46,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-.938],[-10.141,.938]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:56,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-5.148],[-10.121,5.07]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:65,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-1.818],[-10.137,1.802]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.109,-6.062],[-10.109,5.688]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Shape Layer 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[2,12,0],ix:2},a:{a:0,k:[-10.125,-.031,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.333,y:0},t:0,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:7,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:26,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-5.438],[-10.125,5.413]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:33,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-1.062],[-10.125,1]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:40,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-6.851],[-10.125,6.734]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:50,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:60,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-7.688],[-10.125,7.562]],c:!1}]},{i:{x:.667,y:1},o:{x:.333,y:0},t:70,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]},{t:76,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[-10.125,-2.062],[-10.125,2.188]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[0,0,0,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:2,ix:5},lc:2,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:165,st:0,bm:0}],markers:[{tm:75,cm:"",dr:0}]};function tb(){var e=(0, a.A)()._('Listening...', 'searchBox.voiceSearch.accessibilityLabel', 'Icon indicating that the microphone is listening'),t=(0,tg.A)({animationData:tv,loop:!0,autoplay:!0,renderer:"svg",rendererSettings:{title:e},onDOMLoaded:function(){var e,n=null==(e=t.current)?void 0:e.querySelector("svg");n&&n.setAttribute("role","img")}}).animationContainerRef;return(0,_.jsx)(o.so,{alignItems:"center",height:48,justifyContent:"center",width:48,children:t?(0,_.jsx)(o.n1,{height:24,width:24,children:(0,_.jsx)(o.az,{ref:t})}):(0,_.jsx)(o.In,{accessibilityLabel:e,color:"default",icon:"audio-bars",size:24})})}var t_=n(44813);function tS(e){var t=e.onCloseClick,n=(0,a.A)(),r=(0,N.o)().logContextEvent;(0,j.A)(function(){r({event_type:13,view_type:R.p1,component:15282})});var i=function(){r({event_type:101,view_type:R.p1,component:15282,element:75}),t()};return(0,_.jsx)(t_.Ay,{accessibilityModalLabel:n._('Voice search permissions modal', 'voiceSearch.accessibilityLabel', 'Modal for Voice Search permissions'),align:"start",heading:(0,_.jsx)(o._Y,{accessibilityLevel:1,size:"600",children:n._('Want to use voice search?', 'voiceSearch.modal.header', 'Header for Voice Search microphone permissions')}),isOpen:!0,onDismiss:i,size:"sm",children:(0,_.jsxs)(o.az,{direction:"column",display:"flex",paddingX:7,children:[(0,_.jsx)(o.KJ,{children:n._('Go to your browser settings to let Pinterest access the microphone', 'voiceSearch.modal.message', 'Voice Search microphone permissions message')}),(0,_.jsx)(o.az,{display:"flex",justifyContent:"end",marginBottom:6,marginTop:7,children:(0,_.jsx)(o.$n,{accessibilityLabel:n._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal'),color:"primary",onClick:i,size:"md",text:n._('Close', 'voiceSearch.close.button', 'Button to close voice search permissions modal')})})]})})}function tx(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return tw(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(tw(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,tw(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,tw(u,"constructor",c),tw(c,"constructor",s),s.displayName="GeneratorFunction",tw(c,o,"GeneratorFunction"),tw(u),tw(u,o,"Generator"),tw(u,r,function(){return this}),tw(u,"toString",function(){return"[object Generator]"}),(tx=function(){return{w:i,m:d}})()}function tw(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(tw=function(e,t,n,r){function i(t,n){tw(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function tj(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tO(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tO(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tO(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function tP(){var e,t,n=(0,a.A)(),i=(0,N.o)().logContextEvent,l=(0,ty.A)().checkExperiment,s=(0,A.Z)(),c=s.handleTextChange,u=s.handleVoiceSearchSubmit,d=s.voiceSearchPlaceholder,p=s.setVoiceSearchPlaceholder,f=tA((0,r.useState)(!1),2),y=f[0],m=f[1],h=tA((0,r.useState)(!1),2),g=h[0],v=h[1],b=(0,r.useRef)(null),S=l("web_lens",{dangerouslySkipActivation:!0}).anyEnabled;(0,r.useEffect)(function(){v(tm())},[]),(0,j.A)(function(){i({event_type:120,view_type:R.p1,component:43,element:15977})});var x=(0,r.useCallback)(function(){b.current&&(b.current.stop(),p(D.g.NULL))},[p]);if((0,r.useEffect)(function(){d===D.g.CANCEL&&(i({event_type:101,view_type:R.p1,component:43,element:73,aux_data:{is_voice_search:!0}}),x(),p(D.g.NULL))},[d,x,p,i]),!g)return null;var w=(e=tx().m(function e(){var t,n,r,o,a;return tx().w(function(e){for(;;)switch(e.p=e.n){case 0:return i({event_type:101,view_type:R.p1,component:43,element:15977}),e.p=1,e.n=2,navigator.permissions.query({name:"microphone"});case 2:if("denied"!==(t=e.v).state){e.n=3;break}return p(D.g.NULL),m(!0),e.a(2);case 3:b.current=n=new(window.webkitSpeechRecognition||window.SpeechRecognition),n.lang="en-US",n.interimResults=!1,r=void 0,c(""),p(D.g.NULL),n.onstart=function(){p(D.g.LISTENING)},n.onresult=function(e){var t,n=null==(t=e.results)||null==(t=t[0])||null==(t=t[0])?void 0:t.transcript;n&&(r=n)},n.onerror=function(e){p(null),"permission-denied"===e.error&&m(!0)},n.onend=function(){r&&d!==D.g.CANCEL?(u(r),p(null)):"prompt"===t.state?p(null):(i({event_type:16683,view_type:R.p1,component:43,aux_data:{reason:"voice search miss"}}),p(D.g.DEFAULT)),r=void 0},n.start(),e.n=5;break;case 4:e.p=4,a=e.v,o=(0,th.A)(a,"message"),i({event_type:16683,view_type:R.p1,component:43,aux_data:{error_message:o}});case 5:return e.a(2)}},e,null,[[1,4]])}),t=function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tj(i,r,o,a,l,"next",e)}function l(e){tj(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return t.apply(this,arguments)});return(0,_.jsxs)(r.Fragment,{children:[d===D.g.LISTENING?(0,_.jsx)(tb,{}):(0,_.jsx)(o.K0,{accessibilityLabel:n._('Voice search', 'searchBox.voiceSearch.accessibilityLabel', 'Icon button that initiates a voice search'),icon:"microphone",iconColor:"default",onClick:w,tooltip:S?{text:n._('Search by voice', 'searchBox.voice.tooltip', 'Search By Voice'),idealDirection:"down",zIndex:G.Yo}:void 0}),y&&(0,_.jsx)(tS,{onCloseClick:function(){return m(!1)}})]})}function tI(e){var t=e.displayedQuery,n=e.hasAppliedQuery,r=e.hasTypedSinceFocus,i=e.isInTypeaheadSession,a=e.isPartner,l=e.onClearSearch,s=e.searchBoxRef,c=function(e){var t=e.displayedQuery,n=e.hasTypedSinceFocus,r=e.isInTypeaheadSession,o=e.isPartner,i=e.showContentTypeFilter,a=e.voiceSearchPlaceholder,l=(0,y._8)(),s=l.country,c=l.language,u=(0,v.A)(),d=(0,ty.A)().checkExperiment,p=u.isAuth,f=tm(),m=a===D.g.LISTENING,h=p&&d("web_lens",{dangerouslySkipActivation:!0}).anyEnabled,g=f&&p&&"US"===s&&c.startsWith("en")&&d("web_voice_search").anyEnabled;if(m)return{state:"voiceListening",showCancel:!0,showLens:!1,showVoice:!0};if(t)if(n)return{state:"typing",showCancel:!0,showLens:!1,showVoice:g};else return{state:"filled",showCancel:!0,showLens:h,showVoice:g};return d("dweb_search_clear_search").anyEnabled?{state:"empty",showCancel:!1,showLens:h,showVoice:g}:{state:"empty",showCancel:!!t||o&&i||r,showLens:h,showVoice:g}}({displayedQuery:t,hasTypedSinceFocus:r,isInTypeaheadSession:i,isPartner:a,showContentTypeFilter:e.showContentTypeFilter,voiceSearchPlaceholder:e.voiceSearchPlaceholder}),u=c.showCancel,d=c.showLens,p=c.showVoice,f=(0,L.A)();return(0,_.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:f?{__style:{bottom:4}}:void 0,display:"flex",marginEnd:1,marginStart:3,position:f?"absolute":void 0,right:!!f,children:[u&&(0,_.jsx)(ee,{hasAppliedQuery:n,onClear:l}),d&&(0,_.jsx)(tf,{searchBoxRef:s}),p&&(0,_.jsx)(tP,{})]})}var tk=n(4513),tT=n(884128);function tE(e){return(tE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tC(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=tE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tE(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==tE(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tC(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tF={recentSaves:[],recentViews:[]};function tD(e,t){if(e=e||tF,"FETCH_COMPLETE"!==t.type)return e;var n=t.payload,r=n.options,o=n.resource,i=t.payload.response.resource_response.data;if("ApiResource"===o&&"/v3/users/me/recent/engaged/pin/stories/"===(void 0===r?{}:r).url&&i){var a=i.find(function(e){return"user_recently_viewed_pins"===e.story_type}),l=i.find(function(e){return"user_recently_saved_pins"===e.story_type}),s=(null==a?void 0:a.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_view",url:"/pin/".concat(r)}}))||[],c=(null==l?void 0:l.objects.map(function(e,t){var n=e.description,r=e.id;return{label:n,images:e.images,resultIndex:t,type:"recent_save",url:"/pin/".concat(r)}}))||[];return tL(tL({},e),{},{recentSaves:c,recentViews:s})}return e}function tM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tz=(0,tk.A)("SearchBox"),tB=tz.Provider,tR=tz.get;function tN(e){var t,n=e.children,o=function(e){if(Array.isArray(e))return e}(t=(0,r.useReducer)(tD,tF))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return tM(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tM(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),i=o[0],a=o[1],l=(0,r.useCallback)(function(e){a({type:"FETCH_COMPLETE",payload:e})},[]);(0,tT.jY)("ApiResource",l);var s=(0,r.useMemo)(function(){return{state:i}},[i]);return(0,_.jsx)(tB,{value:s,children:n})}var tU=n(156547),tK=n(991224);function tq(e){var t=e.autocompleteRequestSurface,n=(0,tK.qJ)(),r=(0,v.A)();return(0,tU.A)(r.isAuth?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:z.cO.PINS,autocomplete_request_surface:t},noCache:!0}:null),(0,tU.A)(n?{name:"SearchTabResource"}:null),null}var tW=(0,n(826984).A)("autocomplete_render"),tG=n(874834),tH=n(685947),tV=n(446775),tQ=n(452248),tY=n(848450),tJ=n(999345),tX=n(365506);function t$(e){return(t$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tZ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tZ(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=t$(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t$(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==t$(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tZ(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var t1=function(e){var t=e.children,n=e.impressionTrackerProps;return n?(0,_.jsx)(eJ.g$,t0(t0({},n),{},{children:t})):t({impressionTrackerRef:null})},t2=n(614974),t3=n(954408);function t6(e){var t=e.onLoad,n=e.suggestion,i=(0,t3.A)({url:n.action_button_uri});return(0,r.useEffect)(function(){t()},[]),(0,_.jsxs)(o.az,{padding:10,children:[(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{color:"#004b91",fontSize:"28px",WebkitFontSmoothing:"antialiased"}},marginBottom:6,children:n.description}),(0,_.jsx)(o.$A,{href:n.action_button_uri,rel:i?"nofollow":"none",rounding:"pill",children:(0,_.jsx)(o.az,{color:"info",display:"inlineBlock",padding:3,rounding:"pill",children:(0,_.jsx)(o.KJ,{color:"inverse",weight:"bold",children:n.action_button_text})})})]})}var t4=n(407811),t5=n(307208),t7=n(812565);function t8(e){return(t8="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var t9=(0,r.lazy)(function(){return n.e("6408").then(n.bind(n,310779))});function ne(e){var t=e.experiences,n=e.index,i=e.focusedIndex,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.onLoad,c=e.query,u=e.suggestion,d=(0,t5.A)(u),p=(0,A.Z)(),f=p.handleSuggestionSelect,y=p.handleInclusiveProductFilterClick,m=p.getSuggestionImpressionOptions;return(0,r.useEffect)(function(){u.image||s()},[]),(0,_.jsx)(tX.cO,{experiences:t,placementId:1000315,searchTerm:c,suggestions:[u],children:function(e){var t=e.searchDelightConfig;return(0,_.jsx)(t1,{impressionTrackerProps:m({index:n,groupIndex:n,suggestion:u,loggingId:u.id}),children:function(e){var r,p,m,h,g,v=e.impressionTrackerRef;return(0,_.jsxs)(o.az,{ref:v,marginBottom:1,marginEnd:-3,marginStart:-3,children:[(0,_.jsx)(t4.m,{id:(0,k.mc)(0,n),isHovered:i===n,onClick:function(){f({suggestion:u,index:n})},onMouseEnter:function(){a(n)},onMouseLeave:function(){l()},url:(0,k.R7)({suggestion:u,query:c}),children:(0,_.jsx)(o.so,{alignItems:"center",justifyContent:"start",children:(0,_.jsx)(o.az,{flex:"grow",children:(0,_.jsx)(t4.A,{highlightMatch:!0,imageUrl:u.image,label:u.label,onLoad:s,query:c,rounding:2,searchDelightConfig:t,subLabel:u.subLabel,type:u.type})})})}),!!d&&d!==t7.zB.BODY&&y&&(0,_.jsx)(o.so,{alignItems:"center",justifyContent:"start",overflow:"hidden",children:(0,_.jsx)(tJ.A,{name:"SafeSuspense_BlendedTypeaheadSuggestion_InclusiveFilters",children:(0,_.jsx)(t2.A,{children:(0,_.jsx)(t9,{filters:(p={},m=d,h=null==(g=u.modified_filter_eligibility)||null==(g=g[d])?void 0:g.filter_options,(r=function(e,t){if("object"!=t8(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=t8(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(m,"string"),(m="symbol"==t8(r)?r:r+"")in p)?Object.defineProperty(p,m,{value:h,enumerable:!0,configurable:!0,writable:!0}):p[m]=h,p),moduleType:t7.P4.SEARCH_AUTOCOMPLETE,onClickApplyFilters:function(e){return y(u,n,e)},query:c,viewParameter:103,viewType:R.p1})})})})]})}})}})}var nt=function(e){var t=e.index,n=e.focusedIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.onLoad,l=e.suggestion,s=(0,A.Z)(),c=s.handleSuggestionSelect,u=s.getSuggestionImpressionOptions;return(0,_.jsx)(t1,{impressionTrackerProps:u({index:t,groupIndex:t,suggestion:l,loggingId:l.id}),children:function(e){var s=e.impressionTrackerRef;return(0,_.jsx)(o.az,{ref:s,marginBottom:1,marginEnd:-3,marginStart:-3,children:(0,_.jsx)(t4.m,{id:(0,k.mc)(0,t),isHovered:n===t,onClick:function(){c({suggestion:l,index:t})},onMouseEnter:function(){r(t)},onMouseLeave:function(){i()},url:l.url,children:(0,_.jsx)(t4.A,{imageUrl:l.image,isVerifiedMerchant:l.is_verified_merchant,label:l.label,onLoad:a,rounding:"circle",subLabel:l.subLabel,verified:l.verified})})},"".concat(l.type,"-").concat(l.label,"-").concat(l.subLabel||""))}})};function nn(e){var t=e.experiences,n=e.suggestions,r=e.focusedIndex,o=e.query,i=e.onSuggestionMouseEnter,a=e.onSuggestionMouseLeave,l=u(),s=function(e){return"image"in e&&e.image},c=n.some(s),d=function(){null==l||l.stop(),tW.isActive()&&tW.stop()};return n.map(function(e,n){var l=!c||s(e);switch(e.type){case"autocompleteupsell":return(0,_.jsx)(t6,{onLoad:l?d:function(){},suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"query":case"recent_pin_searches":return(0,_.jsx)(ne,{experiences:t,focusedIndex:r,index:n,onLoad:l?d:function(){},onSuggestionMouseEnter:i,onSuggestionMouseLeave:a,query:o,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));case"user":return(0,_.jsx)(nt,{focusedIndex:r,index:n,onLoad:l?d:function(){},onSuggestionMouseEnter:i,onSuggestionMouseLeave:a,suggestion:e},"search-suggestion-".concat(e.type,"-").concat(e.id));default:return null}})}var nr=n(782786),no=n(917860),ni=n(698508),na=n(319041),nl=n(348274),ns=n(412509),nc=n(183155);function nu(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return nd(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(nd(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nd(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,nd(u,"constructor",c),nd(c,"constructor",s),s.displayName="GeneratorFunction",nd(c,o,"GeneratorFunction"),nd(u),nd(u,o,"Generator"),nd(u,r,function(){return this}),nd(u,"toString",function(){return"[object Generator]"}),(nu=function(){return{w:i,m:d}})()}function nd(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(nd=function(e,t,n,r){function i(t,n){nd(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function np(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function nf(e){var t,n,r,i=e.contextLogData,l=e.dominantColor,s=e.groupIndex,c=e.height,u=e.icon,d=e.images,p=e.isDarkRep,f=void 0!==p&&p,y=e.isHovered,m=e.title,h=e.onMouseEnter,g=e.onMouseLeave,v=e.onClick,b=e.searchBoxRenderStopwatch,S=e.suggestion,x=e.showRemoveButton,w=void 0!==x&&x,j=e.slotIndex,O=e.url,P=e.width,I=(0,a.A)(),k=(0,A.Z)(),T=k.autocompleteRequestSurface,E=k.getSuggestionImpressionOptions,C=k.isSyop,L=(0,ns.A)({isSyop:C}),F=L.group,D=L.anyEnabled,M=(0,nc.A)(T),z=F.includes("vertical"),B=c||80,R=d&&d[0]&&(null==(r=d[0]["236x"])?void 0:r.url)||"";(0,ni.A)("search_tab_render",R,"recent_query"===S.type?"200x":"236x");var N=!!u&&(0,na.A)(u),U=!!P&&P<160||!!c&&c<60,K=U&&!D?"200":"300",q=D?void 0:"bold",W=(U||D)&&2||3,G=U&&2||D&&3||4,H=P?P-B:no.rt-80,V=U?300:400,Q=U?300:400,Y=U?200:300,J=U?200:300,X=function(){null==b||b.stop();var e=(0,tG.A)();e.isActive()&&e.stop()},$=(t=nu().m(function e(t){return nu().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,eM.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 1:M();case 2:return e.a(2)}},e)}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){np(i,r,o,a,l,"next",e)}function l(e){np(i,r,o,a,l,"throw",e)}a(void 0)})},function(e){return n.apply(this,arguments)});return(0,_.jsx)(t1,{impressionTrackerProps:E({index:j,additionalAuxData:i,groupIndex:s,suggestion:S,loggingId:S.id}),children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(o.az,{ref:t,"data-test-id":w?"recent-query":void 0,height:B,width:P||"100%",children:(0,_.jsx)(o.n1,{rounding:V,wash:!f&&!z,children:(0,_.jsxs)(o.az,{dangerouslySetInlineStyle:D?void 0:{__style:f&&{backgroundColor:y?"var(--base-color-grayscale-350)":"var(--base-color-grayscale-400)"}||y&&nl.a.lightHoverOverlay||{}},children:[(0,_.jsx)(t4.m,{isHovered:y,onBlur:function(){},onClick:v,onFocus:h,onMouseEnter:h,onMouseLeave:g,rounding:Q,url:O,children:(0,_.jsxs)(o.so,{direction:"row",children:[(0,_.jsx)(o.az,{"data-test-id":"search-suggestion-image-container",flex:"none",height:B,padding:D?1:void 0,width:B,children:R?(0,_.jsx)(o.n1,{height:"100%",rounding:D?Y:void 0,wash:!0,width:"100%",children:(0,_.jsx)(o._V,{alt:"",color:l,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:X,role:"presentation",src:R})}):(0,_.jsx)(o.az,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",rounding:D?J:void 0,width:"100%",children:(0,_.jsx)(o.In,{accessibilityLabel:"",color:"dark",icon:"magnifying-glass",size:24})})}),(0,_.jsxs)(o.az,{alignItems:"center",display:"flex",flex:"grow",maxHeight:B,maxWidth:D?void 0:H,padding:G,children:[N&&(0,_.jsx)(o.az,{alignItems:"center",display:"flex",flex:"none",marginEnd:2,children:(0,_.jsx)(o.In,{accessibilityLabel:"",icon:N,inline:!0,size:14})}),(0,_.jsx)(o.KJ,{color:f?"light":void 0,dataTestId:"search-suggestion-text",lineClamp:W,size:K,weight:q,children:m})]}),w&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{visibility:y?"visible":"hidden"}},"data-test-id":"clear-recent-queries",display:"flex",flex:"none",marginEnd:2,marginStart:-1,children:(0,_.jsx)(o.K0,{accessibilityLabel:I._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),bgColor:"default",focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),$(m)},padding:2,size:"sm"})})]})}),w&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{visibility:y?"visible":"hidden"}},"data-test-id":"clear-recent-queries",marginEnd:2,marginTop:7,onMouseEnter:h,onMouseLeave:g,position:"absolute",right:!0,top:!0,children:(0,_.jsx)(o.K0,{accessibilityLabel:I._('Remove recent search', 'Remove recent search icon in search autocomplete', 'Remove recent search icon'),focusColor:"darkBackground",icon:"close",iconColor:"default",onClick:function(e){var t=e.event;t.stopPropagation(),t.preventDefault(),$(m)},padding:2,size:"sm"})})]})})})}})}var ny=n(615300),nm=n(906938);function nh(e){var t=e.coverImage,n=e.creator,r=e.formattedTitle,i=e.height,a=e.id,l=e.impressionTrackerRef,s=e.inheritedIsHovered,c=e.onClick,u=e.onMouseDown,d=e.onMouseEnter,p=e.onMouseLeave,f=e.searchBoxRenderStopwatch,y=e.url,m=e.width,h=null==n?void 0:n.avatar_color_index;return(0,_.jsx)(nl.A,{ref:l,backgroundColor:"gray",coverImage:t,disableTabIndex:!0,height:i,id:a,isHovered:s,onClick:c,onMouseDown:u,onMouseEnter:d,onMouseLeave:p,searchBoxRenderStopwatch:f,url:y,width:m,children:(0,_.jsx)(o.az,{ref:l,alignItems:"end",display:"flex",height:i,justifyContent:"center",padding:3,position:"absolute",top:!0,width:m||"100%",children:(0,_.jsxs)(o.so,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i>200?(0,_.jsx)(o._Y,{align:"center",color:"light","data-test-id":"sp-bubble-title",size:"600",children:r}):(0,_.jsx)(o.KJ,{align:"center",color:"light","data-test-id":"sp-bubble-subtitle",weight:"bold",children:r}),n&&n.image_small_url&&n.full_name&&(0,_.jsxs)(o.az,{alignItems:"center","data-test-id":"sp-bubble-creator",display:"flex",justifyContent:"center",marginTop:4,children:[(0,_.jsx)(o.az,{marginEnd:2,children:(0,_.jsx)(nm.eu,{color:h,name:n.full_name,outline:!0,size:"xs",src:n.image_small_url})}),(0,_.jsx)(o.KJ,{color:"light",size:"100",children:n.full_name})]})]})})})}var ng=n(733533);function nv(e){return(nv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nb=["board","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","viewParameter","viewType","width"];function n_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nS(e){var t=e.board,n=e.height,r=e.isHovered,o=e.searchBoxRenderStopwatch,i=e.slotIndex,a=e.storyId,l=e.storyType,s=e.viewParameter,c=e.viewType,u=e.width,d=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,nb),p=t.id,f=t.name,y=t.image_cover_hd_url,m=t.owner,h=t.url,g=(0,ny.A)(f||"",{});return f&&p&&h?(0,_.jsx)(ng.D6,{auxData:{grid_index:i.toString(),board_id:p,story_type:l,story_id:a},loggingId:p,objectIdStr:p,slotIndex:i,viewParameter:s||3467,viewType:c,children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(nh,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n_(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=nv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nv(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nv(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({coverImage:{url:y},creator:m,formattedTitle:g,height:n,id:p,impressionTrackerRef:t,inheritedIsHovered:r,searchBoxRenderStopwatch:o,url:h,width:u},d))}}):null}var nx=n(830996);function nw(e){return(nw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var nj=["component","height","isHovered","searchBoxRenderStopwatch","slotIndex","storyId","storyType","todayArticle","viewParameter","viewType","width"];function nA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nO(e){var t=e.component,n=e.height,r=e.isHovered,o=e.searchBoxRenderStopwatch,i=e.slotIndex,a=e.storyId,l=e.storyType,s=e.todayArticle,c=e.viewParameter,u=e.viewType,d=e.width,p=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,nj),f=s.id,y=s.title,m=s.image_urls,h=s.article_creator_user,g=s.feed_source,v=s.is_product_pin_feed,b=m&&m.length>0?{url:m[0]}:void 0,S=(0,ny.A)(y||"",{});if(!y||!f)return null;var x=(0,nx.oF)(null!=g?g:0,null!=v&&v,y,f);return(0,_.jsx)(ng.hK,{auxData:{grid_index:i.toString(),today_article_id:f,story_type:l,story_id:a},component:t,loggingId:f,objectIdStr:f,slotIndex:i,viewParameter:c||3467,viewType:u,children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(nh,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nA(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=nw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nw(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nw(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nA(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({coverImage:b,creator:h,formattedTitle:S,height:n,id:f,impressionTrackerRef:t,inheritedIsHovered:r,searchBoxRenderStopwatch:o,url:x,width:d},p))}})}function nP(e){return(nP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nI(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=nP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nP(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nP(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nI(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nT(e){var t=e.bubble;return"board"===t.type?(0,_.jsx)(nS,nk(nk({},e),{},{board:t})):(0,_.jsx)(nO,nk(nk({},e),{},{todayArticle:t}))}var nE=.75*no.rt,nC=1.5*no.rt;function nL(e){var t=e.children,n=e.prototypeSLP,r=e.containerWidth,i=e.repType,a=void 0===i?"default":i,l=(0,(0,ty.A)().checkExperiment)("dweb_ac_empty_state_new_user_onboarding_exp",{dangerouslySkipActivation:!0}).group,s=(0,L.A)();return n?(0,_.jsx)(o.xA,{columnGap:2,rowGap:2,templateColumns:{base:"repeat(1, 1fr)",sm:"repeat(2, 1fr)",md:"repeat(".concat(s?3:2,", 1fr)"),lg:"repeat(".concat(s?3:4,", 1fr)"),xl:"repeat(".concat(s?3:4,", 1fr)"),xxl:"repeat(4, 1fr)"},children:t({width:void 0,height:"trending"===a&&72||"nux"===a&&"enabled_4reps"===l&&110||88})}):(0,_.jsx)(o.so,{alignItems:"stretch",direction:"row",gap:2,justifyContent:"start",wrap:!0,children:t(function(e){var t,n=e.containerWidth,r=4,o=function(e){return n?(n-(4*R.QX*2+8*(e-1)))/e:no.rt};for(t=o(4);t<nE&&r>1;)r-=1,t=o(r);for(;t>nC;)r+=1,t=o(r);var i=Math.max(60,t/2.6);return{width:t,height:i}}({containerWidth:r}))})}function nF(e){return(nF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function nM(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return nz(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,p={p:0,n:0,v:e,a:f,f:f.bind(e,4),d:function(t,n){return i=t,l=0,s=e,p.n=n,a}};function f(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],f=p.p,y=i[2];n>3?(o=y===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=f&&((o=n<2&&f<i[1])?(l=0,p.v=r,p.n=i[1]):f<y&&(o=n<3||i[0]>r||r>y)&&(i[4]=n,i[5]=r,p.n=y,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,y){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&f(u,y),l=u,s=y;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(p.n=-1),f(l,s)):p.n=s:p.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=p.n<0)?s:n.call(r,p))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(nz(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,nz(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,nz(u,"constructor",c),nz(c,"constructor",s),s.displayName="GeneratorFunction",nz(c,o,"GeneratorFunction"),nz(u),nz(u,o,"Generator"),nz(u,r,function(){return this}),nz(u,"toString",function(){return"[object Generator]"}),(nM=function(){return{w:i,m:d}})()}function nz(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(nz=function(e,t,n,r){function i(t,n){nz(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function nB(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function nR(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){nB(i,r,o,a,l,"next",e)}function l(e){nB(i,r,o,a,l,"throw",e)}a(void 0)})}}function nN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nN(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=nF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nF(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nF(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nN(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function nK(e){var t=e.title,n=e.action,r=e.prototypeSLP;return(0,_.jsxs)(o.az,{alignItems:"center","data-test-id":"suggestion-group-heading",display:"flex",justifyContent:"between",marginEnd:2,children:[r?(0,_.jsx)(o.az,{marginEnd:1,paddingX:1,children:(0,_.jsx)(o._Y,{lineClamp:1,size:"400",children:t})}):(0,_.jsx)(o._Y,{lineClamp:1,size:"300",children:t}),r&&n&&(0,_.jsx)(o.so.Item,{flexBasis:"shrink",children:(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{top:2}},position:"relative",children:(0,_.jsx)(o.pp,{onMouseEnter:n.onFocus,onMouseLeave:n.onBlur,children:(0,_.jsx)(o.Rp,{onBlur:n.onBlur,onFocus:n.onFocus,onTap:n.onClick,children:(0,_.jsx)(o.KJ,{color:"subtle",children:(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{lineHeight:1}},children:n.text})})})})})})]})}var nq=function(e){var t=e.handleRemove,n=e.id,r=e.isHovered,i=e.label,a=e.onClick,l=e.onMouseEnter,s=e.onMouseLeave,c=e.removeA11yText,u=e.url;return(0,_.jsx)(o.az,{"aria-selected":r?"true":"false","data-test-id":"search-suggestion",id:n,marginBottom:2,marginEnd:2,role:"option",children:(0,_.jsx)(o.$A,{accessibilityLabel:i,href:u,onMouseEnter:l,onMouseLeave:s,onTap:function(e){var t=e.event,n=e.dangerouslyDisableOnNavigation;t.metaKey||t.ctrlKey||(n(),t.preventDefault(),a())},rounding:"pill",children:(0,_.jsxs)(o.az,{alignItems:"center",color:r?void 0:"secondary",dangerouslySetInlineStyle:{__style:nU({whiteSpace:"nowrap"},r?{backgroundColor:"#dadada"}:{})},display:"flex",paddingX:3,paddingY:1,position:"relative",rounding:"pill",children:[(0,_.jsx)(o.KJ,{align:"center",children:i}),(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{paddingTop:"2px"}},"data-test-id":"clear-recent-queries",marginStart:2,children:(0,_.jsx)(o.K0,{accessibilityLabel:null!=c?c:"",icon:"close",iconColor:"default",onClick:function(e){var n=e.event;n.stopPropagation(),n.preventDefault(),null==t||t(i)},size:"xs"})})]})})})},nW=function(e){var t,n,i,l,s,c=e.id,u=e.isHovered,d=e.onClick,p=e.onMouseEnter,f=e.onMouseLeave,y=e.showSeeMoreOverlay,m=e.suggestion,h=e.trackClick,g=e.url,v=(0,a.A)();return(0,_.jsx)(o.az,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion",id:c,marginBottom:2,paddingX:1,role:"option",children:(0,_.jsx)(o.$A,{href:g||m.url,onMouseEnter:p,onMouseLeave:f,onTap:function(e){var t=e.event;(0,e.dangerouslyDisableOnNavigation)(),h(),t.metaKey||t.ctrlKey||g||(t.preventDefault(),d())},rounding:300,tabIndex:-1,children:(0,_.jsxs)(o.n1,{height:R.QH,rounding:300,wash:u,width:R.nH,children:[(null==(t=m.images["236x"])?void 0:t.url)&&(0,_.jsx)(o._V,{alt:m.label,fit:"cover",naturalHeight:null!=(n=null==(i=m.images["236x"])?void 0:i.height)?n:1,naturalWidth:null!=(l=null==(s=m.images["236x"])?void 0:s.width)?l:1,src:m.images["236x"].url}),y&&(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(o.az,{dangerouslySetInlineStyle:R.t5,height:R.QH,left:!0,position:"absolute",top:!0,width:R.nH}),(0,_.jsx)(o.az,{alignItems:"center",display:"flex",height:R.QH,justifyContent:"center",padding:3,position:"absolute",top:!0,width:R.nH,children:(0,_.jsx)(o.KJ,{align:"center",color:"inverse",dataTestId:"see-more-suggestions-overlay",weight:"bold",children:v._('See More', 'searchBox.suggestionGroups.recentPinRep.seeMoreText', 'Text inviting users to see more of the same type of Pins')})})]})]})})})},nG=function(e){var t=e.componentType,n=e.focusedIndex,r=e.groupIndex,i=e.keyPrefix,a=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.seeMoreUrl,c=e.suggestions,u=e.title,d=(0,N.o)().logContextEvent,p=(0,A.Z)().handleSuggestionSelect;return(0,_.jsxs)(o.so,{dataTestId:"".concat(i,"_section"),direction:"column",gap:R.Eb,children:[(0,_.jsx)(o.so,{width:"100%",children:(0,_.jsx)(nK,{title:u})}),(0,_.jsx)(o.so,{alignItems:"stretch",justifyContent:"start",width:"100%",wrap:!0,children:c.map(function(e,o){var u=o===R.BZ-1&&c.length===R.BZ;return(0,_.jsx)(nW,{id:(0,k.mc)(r,o),isHovered:n===o,onClick:function(){p({suggestion:e,index:o})},onMouseEnter:function(){a(o)},onMouseLeave:function(){l()},showSeeMoreOverlay:u,suggestion:e,trackClick:function(){d({event_type:101,component:t,element:u?179:12374,view_type:R.p1,view_parameter:103})},url:u?s:e.url},"".concat(i,"-").concat(o))})})]})};function nH(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,i=e.suggestions,l=(0,a.A)();return(0,eQ.r)({component:13844,view_parameter:103,view_type:R.p1}),(0,_.jsx)(nG,{componentType:13844,focusedIndex:t,groupIndex:n,keyPrefix:"recent_save",onSuggestionMouseEnter:r,onSuggestionMouseLeave:o,seeMoreUrl:"/me/pins/",suggestions:i,title:l._('Recently saved', 'searchBox.recentSavedSuggestions.heading', 'Recently saved Pins heading in search autocomplete')})}function nV(e){var t,n=e.suggestion,r=e.groupIndex,i=e.index,l=e.focusedIndex,s=e.onSuggestionMouseEnter,c=e.onSuggestionMouseLeave,u=(0,A.Z)(),d=u.handleSuggestionSelect,p=u.getSuggestionImpressionOptions,f=u.autocompleteRequestSurface,y=(0,nc.A)(f),m=(0,a.A)(),h=(t=nR(nM().m(function e(t){return nM().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,eM.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 1:y();case 2:return e.a(2)}},e)})),function(e){return t.apply(this,arguments)}),g=m._('Remove', 'Remove recent search in search typeahead suggestion', 'Remove recent search in search typeahead suggestion');return(0,_.jsx)(t1,{impressionTrackerProps:p({index:i,groupIndex:r,suggestion:n,loggingId:n.id}),children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(o.az,{ref:t,"data-test-id":"recent-query",children:(0,_.jsx)(nq,{handleRemove:h,id:(0,k.mc)(r,i),isHovered:l===i,label:n.label,onClick:function(){d({suggestion:n,index:i})},onMouseEnter:function(){s(i)},onMouseLeave:function(){c()},removeA11yText:g,url:(0,k.R7)({suggestion:n,query:""})})},"".concat(n.type,"-").concat(n.label))}})}function nQ(e){var t=e.containerWidth,n=e.focusedIndex,r=e.groupIndex,i=e.onSuggestionMouseEnter,l=e.onSuggestionMouseLeave,s=e.searchBoxRenderStopwatch,c=e.suggestions,u=(0,a.A)(),d=(0,A.Z)().isSyop,p=(0,ns.A)({isSyop:d}).anyEnabled,f=(0,A.Z)().handleSuggestionSelect,y=(0,k.Dq)({pillLabels:c.map(function(e){return e.label}),maxWidth:t});return(0,_.jsxs)(o.so,{direction:"column",gap:R.Eb,children:[(0,_.jsx)(nK,{prototypeSLP:p,title:u._('Recent searches', 'Recent searches heading in search autocomplete', 'Recent searches heading in search autocomplete')}),p?(0,_.jsx)(nL,{containerWidth:t,numItems:c.length,prototypeSLP:p,repType:"recentSearch",children:function(e){var t=e.width,o=e.height;return c.map(function(e,a){var c;return(0,_.jsx)(nf,{groupIndex:r,height:o,images:null==(c=e.image_preview_pins)?void 0:c.map(function(e){return{"236x":nU(nU({},e.image_medium_size_pixels),{},{url:e.image_medium_url})}}),isHovered:n===a,onClick:function(){f({suggestion:e,index:a})},onMouseEnter:function(){i(a)},onMouseLeave:function(){l()},searchBoxRenderStopwatch:s,showRemoveButton:!0,slotIndex:a,suggestion:e,title:e.label,url:(0,k.R7)({suggestion:e,query:""}),width:t},e.label)})}}):(0,_.jsx)(o.az,{display:"flex",overflow:"hidden",position:"relative",children:c.slice(0,y).map(function(e,t){return(0,_.jsx)(nV,{focusedIndex:n,groupIndex:r,index:t,onSuggestionMouseEnter:i,onSuggestionMouseLeave:l,suggestion:e},e.label)})})]})}function nY(e){var t=e.focusedIndex,n=e.groupIndex,r=e.onSuggestionMouseEnter,o=e.onSuggestionMouseLeave,i=e.suggestions,l=(0,a.A)();return(0,eQ.r)({component:13843,view_parameter:103,view_type:R.p1}),(0,_.jsx)(nG,{componentType:13843,focusedIndex:t,groupIndex:n,keyPrefix:"recent_view",onSuggestionMouseEnter:r,onSuggestionMouseLeave:o,seeMoreUrl:"/recently-viewed/",suggestions:i,title:l._('Recently viewed', 'searchBox.recentSavedSuggestions.heading', 'Recently viewed Pins heading in search autocomplete')})}function nJ(e){var t=e.groupIndex,n=e.focusedIndex,r=e.onSuggestionMouseEnter,i=e.onSuggestionMouseLeave,a=e.searchBoxRenderStopwatch,l=e.suggestions,s=R.p1,c=l.id,u=l.items,d=l.story_type,p=l.title.format,f=(0,A.Z)(),y=f.handleSuggestionSelect,m=f.getSuggestionImpressionOptions,h=u.map(function(e){return e.type+":"+e.id}).join("|");return(0,_.jsxs)(o.so,{direction:"column",gap:R.Eb,children:[(0,_.jsx)(nK,{title:p}),(0,_.jsx)(t1,{impressionTrackerProps:m({additionalAuxData:{content_ids:h,story_id:c,story_type:d},suggestion:u[0],index:t,groupIndex:t,loggingId:c}),children:function(e){var l=e.impressionTrackerRef;return(0,_.jsx)(o.az,{ref:l,display:"flex",marginBottom:5,wrap:!0,children:u.map(function(e,l){var u=n===l;return(0,_.jsx)(o.az,{"aria-selected":u?"true":"false","data-test-id":"search-suggestion-today-bubble",id:(0,k.mc)(t,l),marginBottom:2,paddingX:1,role:"option",children:(0,_.jsx)(nT,{bubble:e,component:13525,height:R.OA,isHovered:u,onClick:function(){y({suggestion:e,index:l})},onMouseEnter:function(){r(l)},onMouseLeave:function(){i()},searchBoxRenderStopwatch:a,slotIndex:l,storyId:c,storyType:d,viewParameter:3467,viewType:s,width:R.OA})},"story".concat("--",t,"-").concat(l))})})}})]})}function nX(e){var t,n,i=e.containerWidth,a=e.focusedIndex,l=e.groupIndex,s=e.index,c=e.onSuggestionMouseEnter,u=e.onSuggestionMouseLeave,d=e.searchBoxRenderStopwatch,p=e.suggestions,f=(0,N.o)().logContextEvent,y=(0,A.Z)().isSyop,m=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return nD(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?nD(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),h=m[0],g=m[1],v=p.action,b=p.id,S=p.items,x=p.story_type,w=p.title.format,j=S[0]&&"explorearticle"===S[0].type&&S[0].story_category,O=(0,ns.A)({isSyop:y}).anyEnabled,P="shopping_spotlight"===x,I=(0,A.Z)(),T=I.handleSuggestionSelect,E=I.getSuggestionImpressionOptions,C=S.map(function(e){return e.type+":"+e.id}).join("|"),L=(0,nc.A)(0),F=(n=nR(nM().m(function e(t){return nM().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,(0,eM.A)({url:"/v3/search/recent/",method:"DELETE",data:{query:t}});case 1:return e.a(2)}},e)})),function(e){return n.apply(this,arguments)}),D=v&&v.text?{text:v.text,onClick:function(){var e;null==(e=p.custom_properties)||null==(e=e.recent_searches)||e.forEach(function(e){return F(e)}),L()},onFocus:function(){g(!0)},onBlur:function(){g(!1)}}:void 0;return(0,_.jsxs)(o.so,{dataTestId:"search-story-suggestions-container",direction:"column",gap:R.Eb,children:[(0,_.jsx)(nK,{action:D,prototypeSLP:O,title:w}),(0,_.jsx)(t1,{impressionTrackerProps:E({additionalAuxData:{content_ids:C,story_id:b,story_type:x},suggestion:S[0],index:l,groupIndex:l,loggingId:b}),children:function(e){var t=e.impressionTrackerRef;return(0,_.jsx)(o.az,{ref:t,children:(0,_.jsx)(nL,{containerWidth:i,numItems:S.length,prototypeSLP:O,repType:2===j&&"trending"||"search_tab_nux_topic_articles"===x&&"nux"||"default",children:function(e){var t=e.width,n=e.height;return S.map(function(e,r){var i=s+r;if(P){var p=e.id;return(0,_.jsx)(nT,{bubble:e,height:R.OA,onClick:function(){f({component:200,event_type:101,view_parameter:3467,view_type:2,aux_data:{article_id:p,autocomplete_type:"recommended_article",story_type:x}})},onMouseDown:function(e){return e.event.preventDefault()},slotIndex:i,viewParameter:3467,viewType:2,width:R.OA},"ss-bubble-".concat(p))}var y,m=h||a===i,g=e.cover_images,v=e.dominant_colors,S=e.id,w=e.story_category,j=e.title.format,A=e.subtitle,O=e.identifier_icon_type,I=(0,k.R7)({suggestion:e,query:"",suggestionStoryId:b});return(0,_.jsx)(o.az,{"aria-selected":m?"true":"false","data-test-id":"search-suggestion",id:(0,k.mc)(l,r),role:"option",children:(0,_.jsx)(nf,{contextLogData:{story_type:x,content_ids:C,grid_index:r,story_id:b},dominantColor:null!=(y=null==v?void 0:v[0])?y:"",groupIndex:l,height:n,icon:O,images:g,isHovered:m,onClick:function(){T({suggestion:e,index:i,suggestionStoryId:b})},onMouseEnter:function(){c(i)},onMouseLeave:function(){u()},searchBoxRenderStopwatch:d,slotIndex:i,subtitle:null==A?void 0:A.format,suggestion:e,title:j,url:I,width:t})},"story-".concat(null!=w?w:"","-").concat(l,"-").concat(S))})}})})}})]})}var n$=n(399694),nZ=n(539619),n0=n(833187);function n1(e){return(n1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n2(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=n1(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n1(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n1(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function n6(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n4(e){var t,n=e.query,i=e.searchBoxHeight,l=e.searchBoxRenderStopwatch,s=e.showSyopHeading,c=e.suggestionGroups,u=e.width,d=(0,r.useRef)(null),p=(0,a.A)(),f=(0,tQ.A)(1000315).experiencesMulti,m=(0,nZ.A)().enabled,h=(0,n0.A)().enabled,g=m||h,v=(0,y._8)(),b=v.country,S=v.isAuthenticated,x=(0,A.Z)(),w=x.suggestionsFocusIndex,j=x.suggestionsMaxHeight,O=x.setSuggestionsHovered,P=x.setSuggestionsFocusIndex,I=x.handleFeaturedBoardSubmit,T=x.isSyop,E=(0,ns.A)({isSyop:T}).anyEnabled,C=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(0))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return n6(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n6(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),F=C[0],D=C[1],M=(0,tV.A)(D,400),z=(0,n$.wt)(S,b),B=(0,y._8)().isRTL;function N(){P(void 0)}(0,r.useLayoutEffect)(function(){if(!d.current)return function(){};D(d.current.getBoundingClientRect().width);var e=new ResizeObserver(function(){M(function(e){var t;return(null==(t=d.current)?void 0:t.getBoundingClientRect().width)||e})});return e.observe(d.current),function(){e.disconnect()}},[M]);var U=(0,L.A)(),K=U&&"24px"||g&&"0 0 ".concat(G.Ak,"px ").concat(G.Ak,"px")||"0 0 16px 16px",q=U&&{left:"-".concat(24,"px"),bottom:"-".concat(24,"px")}||g&&(m?B?{right:"-16px",left:"-24px"}:{left:"-16px",right:"-24px"}:{left:"-24px",right:"-12px"})||{};return(0,_.jsx)(tY.A,{view:R.p1,viewParameter:103,children:c.length>0?(0,_.jsxs)(o.az,{color:"default",dangerouslySetInlineStyle:{__style:n3(n3({borderRadius:K,top:U?void 0:i},q),{},{zIndex:U?-5:void 0})},id:"SuggestionsMenu",left:!0,overflow:"hidden",position:"absolute",role:"listbox",width:U&&"calc(100% + ".concat(48,"px")||u||"100%",children:[(0,_.jsx)("div",{"data-test-id":"typeaheadResults",onMouseEnter:function(){return O(!0)},onMouseLeave:function(){return O(!1)},style:{maxHeight:U?690:j,boxSizing:"content-box",overflowY:"auto"},children:(0,_.jsxs)(o.az,{ref:d,color:"default",dangerouslySetInlineStyle:{__style:{borderRadius:K,paddingBottom:U?142:"4px",paddingTop:E?"28px":"32px"}},direction:"column",display:"flex",overflow:"hidden",width:"100%",children:[s&&(0,_.jsx)(o.az,{marginBottom:4,marginStart:8,marginTop:4,children:(0,_.jsx)(o._Y,{size:"600",children:n.length>0?(0,eK.vQ)(p._('Search your Pins for {{ query }}', 'searchBox.suggestionsMenu.searchYourPinsForQueryText', 'Heading for search autocomplete when searching your own Pins for specific query'),{query:n}):p._('Search your Pins', 'searchBox.suggestionsMenu.searchYourPinsText', 'Heading for search autocomplete when searching your own Pins')})}),c.map(function(e,t){var r,i;return e.items.length?(0,_.jsx)(o.az,{marginBottom:E?9:4,paddingX:R.QX,children:function(e,t,r){var o=(0,k.n6)(c),i=null==w?void 0:w-o[t],a=function(e){P((0,k.n6)(c)[t]+e)};if("story"===e.type&&"shopping_spotlight"===e.story_type&&z)return(0,_.jsx)(nr.A,{handleFeaturedBoardSubmit:I});switch(e.type){case"recent_query":return(0,_.jsx)(nQ,{containerWidth:r,focusedIndex:i,groupIndex:t,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e.items});case"recent_save":return(0,_.jsx)(nH,{focusedIndex:i,groupIndex:t,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,suggestions:e.items});case"recent_view":return(0,_.jsx)(nY,{focusedIndex:i,groupIndex:t,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,suggestions:e.items});case"story":return"shopping_spotlight"===e.story_type?(0,_.jsx)(nJ,{containerWidth:r,focusedIndex:i,groupIndex:t,index:0,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e}):(0,_.jsx)(nX,{containerWidth:r,focusedIndex:i,groupIndex:t,index:0,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,searchBoxRenderStopwatch:l,suggestions:e});case"blended_autocomplete":return(0,_.jsx)(nn,{experiences:f,focusedIndex:i,onSuggestionMouseEnter:a,onSuggestionMouseLeave:N,query:n,suggestions:e.items})}return null}(e,t,F)},"".concat(n,"-").concat(e.type,"-").concat(null!=(r=null==(i=e.title)?void 0:i.format)?r:"")):null})]})}),U&&(0,_.jsx)(o.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(255, 255, 255, 0.00) 0%, #FFF 20%)",pointerEvents:"none",transition:"opacity 0.1s"}},height:172,left:!0,position:"absolute",width:"100%"})]}):(0,_.jsx)(o.az,{})})}function n5(e){return(n5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function n8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function n9(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?n8(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=n5(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=n5(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n5(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function re(e){var t=e.searchBoxHeight,n=e.suggestionGroups,o=e.width,i=(0,B.A)({shouldSkipExpActivation:!0}),a=f(),l=(0,tG.A)(),s=u(),c=(0,y._8)().isBot,d=(0,v.A)(),p=(0,ty.A)().checkExperiment,m=(0,A.Z)(),h=m.autocompleteRequestSurface,g=m.enteredScope,b=m.enteredQuery,S=m.updateSuggestionGroups,x=m.isInTypeaheadSession,w=m.isSyop,j=(0,nZ.A)()&&p("dweb_search_omnipresent_multimodal").anyEnabled;(0,r.useEffect)(function(){x&&!w&&(b?(null!=s&&s.isTiming&&(null==s||s.abort("pivoted")),null==s||s.start()):null!=a&&a.isTiming||null==a||a.start(),b?(tW.isActive()&&tW.abort("pivoted"),tW.start()):l.isActive()||l.start())},[x,w,b]);var O=(0,E.A)(c?null:{name:"SearchTabResource"}).data,P=tR().state,I=P.recentSaves,k=P.recentViews,T=(0,tH.H)({autocompleteRequestSurface:h}),C=T.items,L=T.isLoaded,F=(0,tH.c)({query:b,scope:g,autocompleteRequestSurface:h});return((0,r.useEffect)(function(){d.isAuth&&O&&O.length>0&&L&&C.length<9&&p("dweb_ac_empty_state_new_user_onboarding_exp")},[C,O,d.isAuth,p,L]),(0,r.useEffect)(function(){var e,t=O||[],n=d.isAuth?t.filter(function(e){return"shopping_spotlight"!==e.story_type}):t;S((j&&(n=n.map(function(e){return n9(n9({},e),{},{items:e.items.slice(0,6)})})),w?[{items:C,type:"recent_query"},{items:k,type:"recent_view"},{items:I,type:"recent_save"}]:b.length?F:[{items:C,type:"recent_query"}].concat(function(e){if(Array.isArray(e))return n7(e)}(e=n||[])||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n7(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n7(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))},[F,j,w,S,b,O,C,I,k,g,d]),i)?null:x&&n.length>0&&(0,_.jsx)(n4,{query:b,searchBoxHeight:t,searchBoxRenderStopwatch:a,showSyopHeading:w,suggestionGroups:n,width:o})}var rt=n(113530);function rn(e){return(rn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ro(e){var t=e.isPartner,n=void 0!==t&&t,i=e.widthType,l=void 0===i?"md":i,s=(0,a.A)(),u=(0,y._8)().isRTL,d=(0,W.A)().enabled,f=(0,nZ.A)().enabled,h=(0,B.A)({shouldSkipExpActivation:!0}),g=d||h,v=((0,L.A)()||{group:""}).group,b=!!v,S=F().pinId,x=(0,A.Z)(),w=x.appliedQuery,j=x.displayedQuery,O=x.endPadding,P=x.enteredScope,k=x.handleClearSearch,T=x.handleScopeChange,E=x.handleSearchIconButtonClick,C=x.hasTypedSinceFocus,D=x.inputFocused,N=x.isContentTypeFilterHovered,U=x.isInTypeaheadSession,q=x.multimodalPinId,H=x.searchBoxHovered,V=x.setContentTypeFilterHovered,Q=x.setSearchBoxHovered,J=x.showContentTypeFilter,$=x.showIconOnly,ee=x.suggestionGroups,et=x.voiceSearchPlaceholder,en=!!w,er=(0,m.A)()(),eo=(0,r.useRef)(null),ei=b?!S&&P===z.cO.PINS_MINE&&J:J;if($&&!D&&!en&&!U)return(0,_.jsxs)(o.az,{ref:eo,"data-test-id":"search-box-container",id:R.rv,children:[(0,_.jsx)(o.K0,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'accessibility label for search icon only at narrow screen width'),icon:"magnifying-glass",iconColor:"subtle",onClick:E,size:"lg"}),er&&(0,_.jsx)(tq,{})]});var ea=l&&Object.keys(R.XO).includes(l)&&"shrink"!==l?R.XO[l]:"auto",el=(0,_.jsx)(o.az,{ref:eo,"data-test-id":"search-box-container",flex:"grow",id:R.rv,marginEnd:f&&!b?2:0,minWidth:b?void 0:ea,paddingX:f?0:h?4:2,children:(0,_.jsxs)(o.az,{dangerouslySetInlineStyle:b?void 0:{__style:{backgroundColor:H?I.uq:I.kP}},display:"flex",height:b?void 0:R.vT,rounding:g?G.Xr:600,children:[(0,_.jsxs)(o.az,{alignItems:"center",dangerouslySetInlineStyle:b?void 0:{__style:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rr(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=rn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rn(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rn(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({padding:u?"0 16px 0 ".concat(O):"0 ".concat(O," 0 16px")},U?{borderRadius:g?"".concat(G.A4,"px"):"24px",boxShadow:"0 0 0 4px rgba(0, 132, 255, .5)"}:{})},display:"flex",flex:"grow",height:"100%",onMouseEnter:function(){Q(!0)},onMouseLeave:function(){Q(!1)},position:"relative",children:[!(j||D||q)&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:b?{__style:{position:"absolute",top:"19px",left:"20px"}}:void 0,flex:"none",marginEnd:2,zIndex:b?new o.K5([K.Bf]):void 0,children:(0,_.jsx)(o.In,{accessibilityLabel:s._('Search icon', 'searchBox.searchIcon.accessibilityLabel', 'Search icon in search box'),color:b?"dark":void 0,icon:"magnifying-glass",size:b?24:16})}),(0,_.jsx)(M,{name:"searchBoxInput"}),(0,_.jsx)(tI,{displayedQuery:j,hasAppliedQuery:en,hasTypedSinceFocus:C,isInTypeaheadSession:U,isPartner:n,onClearSearch:k,searchBoxRef:eo,showContentTypeFilter:ei,voiceSearchPlaceholder:et}),!!S&&(0,_.jsx)(Z,{}),(0,_.jsx)(p,{children:(0,_.jsx)(c,{children:(0,_.jsx)(re,{searchBoxHeight:R.vT+4,suggestionGroups:ee,width:"shrink"===l?"".concat(80,"vw"):void 0})})}),er&&(0,_.jsx)(tq,{})]}),ei?(0,_.jsxs)(r.Fragment,{children:[!b&&(0,_.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{background:"#d8d8d8",borderRadius:"1px"}},height:32,margin:"auto",width:2}),(0,_.jsx)(Y,{currentlySelectedFilter:P,currentQuery:w,handleContentTypeFilterHover:function(){n&&V(N)},handleScopeChange:T})]}):null]})});if(b){var es=U&&8||!v.includes("large")&&4||8,ec=v.match(/_hide(\d+)/),eu=null!=ec&&ec[1]?parseInt(null==ec?void 0:ec[1],10):2e3;return(0,_.jsx)(X,{hideDurationMs:eu,hideOnScroll:v.includes("hide")||v.includes("employees"),isInTypeaheadSession:U,searchBoxHovered:H,children:function(e){var t=e.isHidden&&!U;return(0,_.jsx)(o.az,{column:es,dangerouslySetInlineStyle:{__style:{bottom:48,left:"50%",transform:"translateX(-50%)",backgroundColor:U?"#FFF":void 0,boxShadow:"0 3px 12px 0 rgba(0, 0, 0, 0.20)",marginLeft:u?void 0:G.s6/2,marginRight:u?G.s6/2:void 0,transition:"opacity 200ms linear, width 150ms linear",opacity:t?.5:1}},position:"fixed",rounding:600,children:el})}})}return el}function ri(e){var t=e.handleIconOnlyChange,n=e.iconOnly,r=void 0!==n&&n,o=e.isPartner,a=void 0!==o&&o,l=e.widthType,s=void 0===l?"md":l;return(0,_.jsx)(rt.n,{children:(0,_.jsx)(i.Q,{children:(0,_.jsx)(tN,{children:(0,_.jsx)(A.U,{handleIconOnlyChange:t,iconOnly:r,isPartner:a,widthType:s,children:(0,_.jsx)(ro,{handleIconOnlyChange:t,iconOnly:r,isPartner:a,widthType:s})})})})})}},707397(e,t,n){n.d(t,{Z:function(){return B},U:function(){return R}});var r=n(4513),o=n(17036),i=n(822164),a=n(642347),l=n(157203),s=n(620162),c=n(460657),u=n(887826),d=n(186122),p=n(837855),f=n(998619),y=n(575406),m=n(424054),h=n(805454),g=n(467780),v=n(809637),b=n(672290),_=n(538767),S=n(388877),x=n(794044),w=n(132946),j=n(464301),A=n(912272),O=n(482771),P=n(183155),I=n(218393),k=n(332300),T=n(229065);function E(e){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return F(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var D=n(879667),M=(0,r.A)("SearchBoxHandlers"),z=M.Provider,B=M.get;function R(e){var t=e.children,n=function(e){var t,n=e.handleIconOnlyChange,r=e.iconOnly,o=void 0!==r&&r,i=e.isPartner,a=void 0!==i&&i,F=e.widthType,D=void 0===F?"md":F,M=e.handleHomePageSearchBar,z=(0,d.o)().logContextEvent,B=(0,g._8)().isRTL,R=(0,p.A)(),N=(0,s.Zp)(),U=(0,s.zy)(),K=(0,h.A)().checkExperiment,q=L((0,l.useTransition)(),2)[1],W=(0,c.Y0)().isFocusVisible,G=(0,T.A)({skipResourceCall:!(0,m._p)(U)}).auxData,H=null==G||null==(t=G.metadata)?void 0:t.unity_search_query,V=(0,b.A)(U),Q=V.query,Y=V.scope,J=V.rs,X=V.queryImagePins,$=K("web_search_sticky_guides_iterated_entered_query",{dangerouslySkipActivation:!0}).anyEnabled&&H||(0,w.A)(U.search).entered_query,Z=u.S.includes(J)?"":$||Q,ee=null!=Z?Z:"",et=L((0,l.useState)(ee),2),en=et[0],er=et[1],eo=L((0,l.useState)(),2),ei=eo[0],ea=eo[1],el=ei?(0,O.lm)(ei):en,es=(0,O.AT)(),ec=null!=Y?Y:x.cO.PINS;es&&(ec=x.cO.PINS_MINE),ec===x.cO.PINS_BUYABLE&&(ec=x.cO.PINS);var eu=L((0,l.useState)(ec),2),ed=eu[0],ep=eu[1],ef=R.isAuth&&ed===x.cO.PINS_MINE,ey=+!!ef;(0,O.Dj)(ey);var em=L((0,l.useState)([]),2),eh=em[0],eg=em[1],ev=L((0,l.useState)(),2),eb=ev[0],e_=ev[1],eS=L((0,l.useState)(!1),2),ex=eS[0],ew=eS[1],ej=L((0,l.useState)(!1),2),eA=ej[0],eO=ej[1],eP=L((0,l.useState)(!1),2),eI=eP[0],ek=eP[1],eT=L((0,l.useState)(!1),2),eE=eT[0],eC=eT[1],eL=L((0,l.useState)(!1),2),eF=eL[0],eD=eL[1],eM=eA||eF,ez=L((0,l.useState)(!1),2),eB=ez[0],eR=ez[1],eN=L((0,l.useState)(0),2),eU=eN[0],eK=eN[1],eq=L((0,l.useState)(""),2),eW=eq[0],eG=eq[1],eH=L((0,l.useState)(0),2),eV=eH[0],eQ=eH[1],eY=L((0,l.useState)(""),2),eJ=eY[0],eX=eY[1],e$=L((0,l.useState)(""),2),eZ=e$[0],e0=e$[1],e1=L((0,l.useState)((null==X?void 0:X.toString())||""),2),e2=e1[0],e3=e1[1];(0,l.useEffect)(function(){e3((null==X?void 0:X.toString())||"")},[X]),(0,l.useEffect)(function(){e0("")},[eM]),(0,l.useEffect)(function(){if(eM&&en.trim().length>0&&eV===en.length){if(eW&&eW.startsWith(en)){var e=(0,O.eD)(eh,eb),t=e&&["recent_pin_searches","query"].includes(e.type)&&e.query;if(!eF||!e||t===eW)return}else if(eh&&eh.length>0){var n,r=null==(n=eh[0])?void 0:n.items.find(function(e){return["recent_pin_searches","query"].includes(e.type)});if(r&&r.query.startsWith(en)){var o=K("dweb_search_autocomplete_inline_suggestions"),i=o.anyEnabled,a=o.group;if(i&&r.show_inline_query&&function(e){var t=e.enteredQuery,n=e.group,r=e.viewedInlineSuggestion;if(!n.includes("continuous")&&r)return!1;var o=n.includes("2word")&&2||n.includes("3word")&&3||1;return!!t.endsWith(" ")&&t.split(" ").filter(function(e){return!!e}).length>=o}({enteredQuery:en,group:a,viewedInlineSuggestion:eJ})){eG(r.query),eX(r.query);return}}}}eG("")},[en,eh,K,eM,eV,eW,eF,eJ,eb]);var e6=L((0,l.useState)(I.g.NULL),2),e4=e6[0],e5=e6[1];function e7(){e_(void 0),ea(void 0)}var e8=(0,j.Y)(),e9=e8.setAppFocusState,te=e8.toggleTypeaheadOverlay,tt=(0,P.A)(ey),tn=(0,k.A)(),tr=L((0,l.useState)(o),2),to=tr[0],ti=tr[1];(0,l.useEffect)(function(){ti(o)},[o]);var ta=L((0,l.useState)(!1),2),tl=ta[0],ts=ta[1],tc=L((0,l.useState)(),2),tu=tc[0],td=tc[1];(0,O.g2)({setShouldHideGhostText:ts,setSuggestionsMaxHeight:td,isSyop:ef});var tp=R.isAuth&&"shrink"!==D&&(ee||es&&!K("dweb_search_syop_empty_state").anyEnabled),tf=["shrink","auto"].includes(D)?"8px":0;tp&&(tf="4px");var ty=L((0,O.u5)({shouldHideGhostText:tl,isSyop:ef,inputFocused:eA,voiceSearchPlaceholder:e4}),3),tm=ty[0],th=ty[1],tg=ty[2],tv=(0,l.useRef)(void 0);function tb(){eK(Date.now()),eO(!0)}function t_(e){er(e),e7(),ek(!0)}function tS(){z({event_type:8721,view_type:A.p1,view_parameter:103,component:15487,aux_data:{entered_query:en,inline_suggestion:eW}}),er(eW),e0(eW),eG("")}function tx(e){var t=e.index,n=e.isKeyDown,r=e.suggestion,o=e.suggestionStoryId,i=n?97:101,a=(0,O.vK)({index:t,suggestion:r,enteredQuery:en,additionalAuxData:{user_id:"user"===r.type?r.id:void 0}});switch(r.type){case"recent_pin_searches":case"recent_query":case"query":if(r.query===ee)break;z({event_type:i,view_type:A.p1,view_parameter:"recent_query"===r.type?3467:103,component:35,element:["recent_query","recent_pin_searches"].includes(r.type)?253:104,aux_data:a,object_id_str:r.id});var l=(0,O.R7)({suggestion:r,query:en,lastFocusTime:eU,inlineSuggestion:eZ});ef&&"recent_query"===r.type&&(l=l.replace("pins","my_pins")),tn(l),N(l);break;case"recent_save":N(r.url);break;case"explorearticle":var s=26===r.story_category?13865:200;z({event_type:101,view_type:A.p1,view_parameter:3467,component:s,aux_data:a});var c=(0,O.R7)({suggestion:r,query:"",suggestionStoryId:o});tn(c),N(c);break;case"todayarticle":z({event_type:101,view_type:A.p1,view_parameter:3467,component:200,aux_data:a}),N((0,O.R7)({suggestion:r,query:""}));break;case"board":case"user":z({event_type:i,view_type:A.p1,view_parameter:103,component:35,element:104,aux_data:a,object_id_str:r.id}),tn(r.url),N(r.url)}e7(),eO(!1),eD(!1)}(0,l.useEffect)(function(){tv.current!==eM&&q(function(){eM?f.A.pause():f.A.resume(),e9(!eM),eM||(e7(),er(ee)),te(eM),tv.current=eM})},[ee,eM,e9,te]),(0,l.useEffect)(function(){er(ee),ep(ec),ee||tt(),eO(!1),ek(!1),eD(!1)},[ee,ec,tt]),(0,l.useEffect)(function(){en||tt()},[en,tt]);var tw=function(){if(el!==ee||ed!==ec){var e=(0,_.A)(el);if(e.length){var t=(0,v.A)({query:e,rs:e2?"multimodal_typed":S.I.TYPED,scope:ed,inlineSuggestion:eZ,multimodalPinId:e2});tn(t),eO(!1),eD(!1),N(t)}}};return{appliedQuery:ee,autocompleteRequestSurface:ey,delayedSearchBoxOpen:function(){setTimeout(tb,500)},displayedQuery:el,endPadding:tf,enteredQuery:en,enteredScope:ed,getSuggestionImpressionOptions:function(e){var t=e.additionalAuxData,n=e.index,r=e.groupIndex,o=e.suggestion,i=e.loggingId,a=A.p1,l=(0,O.vK)({index:n,suggestion:o,enteredQuery:en,additionalAuxData:t});switch(o.type){case"query":case"user":return{viewType:a,componentType:35,elementType:104,viewParameter:103,loggingId:i,objectIdStr:i,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_pin_searches":return{viewType:a,componentType:35,elementType:253,viewParameter:103,loggingId:i,objectIdStr:i,contextLogData:l,impressionType:"Search",slotIndex:r};case"recent_query":return{viewType:a,componentType:35,elementType:253,viewParameter:3467,loggingId:i,objectIdStr:i,contextLogData:l,impressionType:"Search",slotIndex:r};case"explorearticle":case"todayarticle":return{contextLogData:l,impressionType:"Article",loggingId:i,objectIdStr:i,slotIndex:n,viewParameter:3467,viewType:a};case"story":return{componentType:200,contextLogData:l,impressionType:"Story",loggingId:i,objectIdStr:i,slotIndex:r,viewParameter:3467,viewType:a};default:return null}},handleClearSearch:function(){e3(""),er(""),e7(),K("dweb_search_clear_search").anyEnabled?(tb(),e4===I.g.LISTENING&&e5(I.g.CANCEL)):(ep(x.cO.PINS),e5(I.g.CANCEL),R.isAuth&&ee?N("/"):a&&n&&n(!0))},handleInclusiveProductFilterClick:function(e,t,n){var r={};en&&(r.entered_query=en),z({event_type:101,view_type:A.p1,view_parameter:103,component:35,element:104,aux_data:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=E(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==E(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({autocomplete_type:"query",result_index:t},r)});var o=(0,O.R7)({suggestion:e,query:en,lastFocusTime:eU,filterSelectedTerm:n});tn(o),eD(!1),N(o)},handleInputBlur:function(e){var t=e.currentTarget;setTimeout(function(){t.contains(document.activeElement)||(eO(!1),ek(!1),eX(""))},0)},handleInputChange:function(e){var t;eQ((null==(t=e.currentTarget)?void 0:t.selectionStart)||0),t_(e.target.value)},handleInputClick:function(e){var t;(z({event_type:101,component:43,element:227}),M)?M(e):eQ((null==(t=e.currentTarget)?void 0:t.selectionStart)||0)},handleInputFocus:function(e){var t;(!M||W)&&(eQ((null==(t=e.currentTarget)?void 0:t.selectionStart)||0),tb())},handleKeyDown:function(e){switch(e.keyCode){case y.A.ENTER:if(M){M(e),eO(!1),eD(!1);return}var t=(0,O.eD)(eh,eb);eM&&t&&e.preventDefault(),t&&ex?(tx({index:t.resultIndex||0,isKeyDown:!0,suggestion:t}),ew(!1)):tw();break;case y.A.ESCAPE:eM&&e.preventDefault(),e.stopPropagation(),eO(!1),eD(!1);break;case y.A.UP:eM&&e.preventDefault();var n=L((0,O.O_)(eh,eb),2),r=n[0],o=n[1];e_(r),ew(!0),ea(o);break;case y.A.DOWN:eM&&e.preventDefault();var i=L((0,O.O_)(eh,eb,!0),2),a=i[0],l=i[1];e_(a),ew(!0),ea(l);break;case y.A.RIGHT:!B&&eW&&(e.preventDefault(),e.stopPropagation(),tS());break;case y.A.LEFT:B&&eW&&(e.preventDefault(),e.stopPropagation(),tS());break;case y.A.TAB:th&&!en&&eM?(e.preventDefault(),e.stopPropagation(),er(th)):eW&&(e.preventDefault(),e.stopPropagation(),tS());break;case y.A.BACKSPACE:eW&&eG("")}},handleKeyUp:function(e){var t;eQ((null==(t=e.currentTarget)?void 0:t.selectionStart)||0)},handleScopeChange:function(e){ep(e),eO(a&&!en),e7()},handleSearchIconButtonClick:function(){eO(!0),a&&z({event_type:101,element:11809})},handleSuggestionSelect:tx,handleSyopCtaClick:function(){var e=(0,_.A)(en);if(e.length){var t=(0,v.A)({query:e,rs:S.I.AC,scope:x.cO.PINS_MINE});tn(t),N(t)}},handleTextChange:t_,handleTypedSearchSubmit:tw,handleVoiceSearchSubmit:function(e){var t=(0,v.A)({query:e,rs:S.I.VOICE_SEARCH,scope:ed});tn(t),eO(!1),eD(!1),N(t)},handleFeaturedBoardSubmit:function(){e7(),eO(!1),eD(!1)},hasTypedSinceFocus:eI,inlineACSuggestion:eW,inputFocused:eA,isContentTypeFilterHovered:eB,isInTypeaheadSession:eM,isSyop:ef,logInlineSuggestionView:function(){z({event_type:13,view_type:A.p1,view_parameter:103,component:15487,aux_data:{entered_query:en,inline_suggestion:eW}})},multimodalPinId:e2,searchBoxHovered:eE,searchBoxPlaceholder:tm,setContentTypeFilterHovered:eR,setMultimodalPinId:e3,setSearchBoxHovered:eC,setVoiceSearchPlaceholder:e5,setSuggestionsFocusIndex:e_,setSuggestionsHovered:eD,showContentTypeFilter:tp,showIconOnly:to,voiceSearchPlaceholder:e4,suggestedSearchTerms:tg,suggestionGroups:eh,suggestionsFocusIndex:eb,suggestionsMaxHeight:tu,updateSuggestionGroups:eg}}({handleIconOnlyChange:e.handleIconOnlyChange,iconOnly:e.iconOnly,widthType:e.widthType,isPartner:e.isPartner,handleHomePageSearchBar:function(){var e=(0,a.A)({shouldSkipExpActivation:!0}),t=(0,o.A)(),n=(0,i.A)();if(e)return function(e){return e.preventDefault(),e.currentTarget.blur(),t({reason:"CLICK_LOGIN_OR_SIGNUP",attributionLabel:"homepage_search_bar",desktopOptions:{modalType:"login",modalOptions:{source:"homePage",container:"home_page"}}}),n({action:"click",item:"home-page-nav-bar-search",within:"unauth-header"}),!0}}()});return(0,D.jsx)(z,{value:n,children:t})}},782786(e,t,n){n.d(t,{A:function(){return I}});var r,o=n(157203),i=n(745917),a=n(460657),l=n(370714),s=n(467780),c=n(991224),u=n(810227),d=n(408915),p=n(913216),f=n(436509),y=n(783933),m=n(399694),h=n(261707),g=n(879667);function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=v(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return x(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var w=(void 0!==r||(r=n(874565)).hash&&"3ca45565a804bd5428a8509aa83434c3"!==r.hash&&console.error("The definition of 'SearchLandingPageFeaturedBoardsQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),j=function(e){var t=e.board,n=e.isLastBoard,r=e.handleFeaturedBoardSubmit,o=(0,c.qJ)();return t?(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{flex:"none",paddingRight:n?o?"36px":"16px":void 0}},marginBottom:2,paddingX:+!o,role:"option",width:n?o?268:216:o?236:200,children:(0,g.jsx)(a.Rp,{onTap:function(){return r?r():void 0},children:(0,g.jsx)(u.default,{boardKey:"__fragments"in t?t:{type:"Legacy",data:t},display:"responsive",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,isUsingMask:!0,noPaddings:!0,showFollowButton:!1,trackInteractionObjectProp:{action:"click",item:"slp-featuredboards-board",within:"slp-featuredboards-section"},type:"grid",viewParameter:3070,viewType:2})})}):null},A={backgroundColor:"default",borderStyle:"shadow",hoverColor:"default",iconColor:"default",showFab:!0,size:"sm",opacity:100},O=function(e){var t,n,r=e.handleFeaturedBoardSubmit,i=(0,l.A)(),s=(0,c.qJ)(),u=(0,c.M)(),v=(0,m.DA)(),b=(0,o.useRef)(null),x=(0,o.useRef)(null),w=S((0,o.useState)(0),2),O=w[0],P=w[1],I=S((0,o.useState)("0px"),2),k=I[0],T=I[1],E=S((0,o.useState)([]),2),C=E[0],L=E[1],F=null!=(t=null==b||null==(n=b.current)?void 0:n.clientWidth)?t:0;(0,o.useEffect)(function(){v.data&&v.data.filter(function(e){return"board"===e.type}).length<m.im&&v.fetchMore()},[v]),(0,o.useEffect)(function(){v.data&&L(v.data.filter(function(e){return"board"===e.type}).slice(0,m.im))},[v]);var D=(0,m.pj)(i);if((0,o.useEffect)(function(){C&&O===C.length-1?T("-80px"):T("0px")},[O,C]),!v.data||v.error)return null;var M=(0,y.Jf)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:F,gap:16,numberOfSlides:C.length,index:O});return(0,g.jsxs)(a.so,{direction:"column",children:[(0,g.jsx)(a.az,{alignItems:"center",display:"flex",marginStart:4*!s,children:(0,g.jsx)(h.A,{headerMarginTopOverride:u?6:3,sectionHeader:D,smallHeader:!0})}),(0,g.jsx)(a.az,{children:s?(0,g.jsxs)(a.az,{ref:b,display:"flex",marginBottom:s?4:6,paddingX:3*!!u,position:"relative",children:[(0,g.jsx)(p.A,{backNode:(0,g.jsx)(f.A,_(_({},A),{},{iconType:"back"})),carouselData:{index:O,entityId:"",carouselSlots:C.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:O,forwardNode:(0,g.jsx)(f.A,_(_({},A),{},{iconType:"forward"})),handleCarouselSwipe:function(e){P(e),x.current&&(0,y.UV)(x,!0,e,O,236,16)},isShowingLastSlide:M,itemsPerPage:s?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{marginLeft:k,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,g.jsx)(d.A,{containerRef:b.current,gap:6,id:"featured-boards",index:O,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:P,showCarouselOverflow:!0,sliderRef:x,slideWidth:236,children:C.map(function(e,t){return(0,g.jsx)(j,{board:e,handleFeaturedBoardSubmit:r},"board--".concat(t))})})})]}):(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:s?3:6,paddingX:3*!s,children:v.data.filter(function(e){return"board"===e.type}).slice(0,m.im).map(function(e,t){return e&&(0,g.jsx)(j,{board:e,isLastBoard:t===m.im-1},"board--".concat(t))})})})]})},P=function(e){var t,n,r,s,u=e.handleFeaturedBoardSubmit,v=(0,l.A)(),b=(0,c.qJ)(),x=(0,c.M)(),O=(0,o.useRef)(null),P=(0,o.useRef)(null),I=S((0,o.useState)(0),2),k=I[0],T=I[1],E=S((0,o.useState)("0px"),2),C=E[0],L=E[1],F=null!=(t=null==O||null==(n=O.current)?void 0:n.clientWidth)?t:0,D=(0,i.useLazyLoadQuery)(w,{}),M=(null==(r=D.v3RootPageFeaturedBoardsQuery)?void 0:r.__typename)==="V3RootPageFeaturedBoards"?D.v3RootPageFeaturedBoardsQuery.data:void 0;if((0,o.useEffect)(function(){M&&k===M.length-1?L("-80px"):L("0px")},[k,M]),null!=(s=D.v3RootPageFeaturedBoardsQuery)&&null!=(s=s.error)&&s.message||!M)return null;var z=(0,m.pj)(v),B=(0,y.Jf)({isHorizontalScrollable:!0,slotWidth:236,containerWidth:F,gap:16,numberOfSlides:M.length,index:k});return(0,g.jsxs)(a.so,{direction:"column",children:[(0,g.jsx)(a.az,{alignItems:"center",display:"flex",marginStart:4*!b,children:(0,g.jsx)(h.A,{headerMarginTopOverride:x?6:3,sectionHeader:z,smallHeader:!0})}),(0,g.jsx)(a.az,{children:b?(0,g.jsxs)(a.az,{ref:O,display:"flex",marginBottom:b?4:6,paddingX:3*!!x,position:"relative",children:[(0,g.jsx)(p.A,{backNode:(0,g.jsx)(f.A,_(_({},A),{},{iconType:"back"})),carouselData:{index:k,entityId:"",carouselSlots:M.map(function(e){return{id:e.entityId,title:null}})},carouselIndex:k,forwardNode:(0,g.jsx)(f.A,_(_({},A),{},{iconType:"forward"})),handleCarouselSwipe:function(e){T(e),P.current&&(0,y.UV)(P,!0,e,k,236,16)},isShowingLastSlide:B,itemsPerPage:b?3:1,pinKey:null,sliderStyleOverride:{padding:"0 32px 80px 32px"}}),(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{marginLeft:C,transition:"margin-left 0.3s ease-out",overflowX:"hidden"}},marginStart:0,children:(0,g.jsx)(d.A,{containerRef:O.current,gap:6,id:"featured-boards",index:k,isHorizontalScrollable:!0,paddingX:0,setSlideIndex:T,showCarouselOverflow:!0,sliderRef:P,slideWidth:236,children:M.map(function(e,t){return(0,g.jsx)(j,{board:e,handleFeaturedBoardSubmit:u},"board--".concat(t))})})})]}):(0,g.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{scrollBehavior:"smooth",overflowX:"auto",scrollbarWidth:"none"}},display:"flex",marginBottom:b?3:6,paddingX:3*!b,children:M.slice(0,m.im).map(function(e,t){return e&&(0,g.jsx)(j,{board:e,isLastBoard:t===m.im-1},"board--".concat(t))})})})]})};function I(e){var t=e.handleFeaturedBoardSubmit,n=(0,s._8)().country;return(0,m.R0)(n)?(0,g.jsx)(P,{handleFeaturedBoardSubmit:t}):(0,g.jsx)(O,{handleFeaturedBoardSubmit:t})}},482771(e,t,n){n.d(t,{AT:function(){return E},Dj:function(){return D},Dq:function(){return M},O_:function(){return T},R7:function(){return w},TR:function(){return F},eD:function(){return k},g2:function(){return C},ik:function(){return j},lm:function(){return O},mc:function(){return P},n6:function(){return I},u5:function(){return L},vK:function(){return A}});var r=n(620162),o=n(336297),i=n(837855),a=n(370714),l=n(467780),s=n(413249),c=n(799632),u=n(877131),d=n(981541),p=n(538767),f=n(794044),y=n(106910),m=n(893984),h=n(891546),g=n(912272),v=n(412509),b=n(218393);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function w(e){var t=e.suggestion,n=e.query,r=e.lastFocusTime,i=void 0===r?0:r,a=e.filterSelectedTerm,l=e.suggestionStoryId,s=e.inlineSuggestion;if("explorearticle"===t.type){var c,u,f=t.aux_fields,m=t.id,h=t.query,g=t.story_category;return null!=(c=null==(u=t.action)?void 0:u.url)?c:(0,d.A)({bubbleId:m,pinId:null==f?void 0:f.image_pin_id,query:h,referringSource:2===g?"trending":"autocomplete_bubble",storyCategory:g,storyId:l})}if("todayarticle"===t.type){var v=t.id,b=t.title;return(0,o.k)({title:b,id:v,articleType:"today"})}var _={eq:(0,p.A)(n)};return i&&(_.etslf=String(Date.now()-i)),a&&(_.filters=a),s&&(_.inline_suggestion=s),(0,y.A)("url"in t&&t.url?t.url:"",_)}function j(e){switch(e){case"app_upsell_autocomplete":case"autocompleteupsell":case"unauth_search_header":case"news_hub_search":case"recent_save":case"recent_view":return;case"generic_query":case"personal_query":return"query";case"recent_personal_searches":case"recent_pin_searches":return"recent_query";case"recommended_query":return"recommended";case"explorearticle":case"todayarticle":case"story":return"recommended_article";default:return e}}function A(e){var t=e.enteredQuery,n=e.suggestion,r=e.index,o=e.additionalAuxData,i=x(x({},void 0===o?{}:o),{},{entered_query:t||void 0,selected_query:n.query||n.label||void 0,autocomplete_type:j(n.type)});switch(n.type){case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return x(x({},i),{},{result_index:r,user_id:"user"===n.type?n.id:void 0,ac_suggestion_id:n.id});case"explorearticle":return 26===n.story_category?x(x({},i),{},{article_id:n.id,story_id:n.storyId,story_type:"shopping_spotlight"}):x(x({},i),{},{autocomplete_type:2===n.story_category?"trending":"recommended",result_index:r});case"todayarticle":return x(x({},i),{},{article_id:n.id,story_type:"shopping_spotlight"});default:return{}}}function O(e){switch(e.type){case"explorearticle":case"news_hub_search":return e.title.format;case"todayarticle":return e.title;case"board":case"user":case"recent_pin_searches":case"recent_query":case"query":return e.label;default:return""}}function P(e,t){return"SuggestionGroup-Option-".concat(e,"-").concat(t)}var I=function(e){var t=0;return e.map(function(e){var n,r,o=t;return t+=null!=(n=(null!=(r=e.items)?r:[]).length)?n:0,o})},k=function(e,t){if(null!=t){for(var n=I(e),r=0;r<n.length;r+=1)if(e[r].items.length&&t-n[r]<e[r].items.length)return e[r].items[t-n[r]];return null}};function T(e,t,n){var r=e.map(function(e){var t;return null!=(t=e.items.length)?t:0}).reduce(function(e,t){return e+t},0),o=n?null==t?0:t===r-1?void 0:t+1:null==t?r-1:0===t?void 0:t-1,i=k(e,o);return[o,i]}function E(){var e=(0,r.zy)(),t=(0,i.A)(),n=(0,m.A)(e.search),o=n.ideas_referrer,a=n.view_parameter_type;o=parseInt(o,10),a=parseInt(a,10);var l=t.isAuth&&e.pathname.startsWith("/".concat(t.username,"/")),s=t.isAuth&&e.pathname.startsWith("/recently-viewed"),c=3173===a&&(1===o||25===o);return(l||s)&&!c}function C(e){var t=e.setShouldHideGhostText,n=e.setSuggestionsMaxHeight,r=e.isSyop,o=(0,v.A)({isSyop:r}).anyEnabled;function i(){var e,r=(null==(e=document.getElementById(g.rv))?void 0:e.offsetWidth)||0,i=o?window.innerHeight/4:0;t(r<=g.Xr),n(window.innerHeight-14-g.tJ-i)}(0,h.A)(function(){return window.addEventListener("resize",i),i(),function(){window.removeEventListener("resize",i)}})}function L(e){var t=e.shouldHideGhostText,n=e.isSyop,r=e.inputFocused,o=e.voiceSearchPlaceholder,l=(0,a.A)(),s=(0,i.A)().isAuth,d=(0,c.A)(s?{name:"ApiResource",options:{url:"/v3/search/ghost_queries/",data:{}}}:null),p=s?l._('Search', 'searchBox.placeholder.defaultText', 'default placeholder text for search box'):l._('Search for easy dinners, fashion, etc.', ' - ', ' -- '),f="";if(o)p=o===b.g.LISTENING?l._('Listening...', 'searchBox.placeholder.search', 'default placeholder text for search box'):l._('Didn\'t get that! Try again', 'searchBox.placeholder.search', 'default placeholder text for search box');else if(!t&&d.isLoaded&&d.data&&d.data.length>0){var y=d.data[0].text;f=d.data[0].query,p=y}return n&&(p=r?l._('Try a title or description', 'searchBox.placeholder.searchYourOwnPinsFocusedText', 'default placeholder text for input focused search box when searching Your Pins'):l._('Search your Pins', 'searchBox.placeholder.searchYourOwnPinsText', 'default placeholder text for search box when searching Your Pins')),[p,f,(0,u.A)()]}function F(e){var t,n,r=e.suggestionsFocusIndex,o=I(e.suggestionGroups);if("number"==typeof r){for(var i=o.length-1;i>=0;i-=1)if(r>=o[i]){t=i,n=r-o[i];break}}return"number"==typeof t&&"number"==typeof n?P(t,n):""}function D(e){var t=(0,i.A)(),n=(0,l._8)().isBot,r=t.isAuth,o=t.isLimitedLogin,a=(0,s.A)()();(0,c.A)(!a&&r?{name:"AdvancedTypeaheadResource",options:{term:"",pin_scope:f.cO.PINS,autocomplete_request_surface:e},noCache:!0}:null),(0,c.A)(a||n?null:{name:"SearchTabResource"}),(0,c.A)(r&&!o?{name:"ApiResource",options:{url:"/v3/users/me/recent/engaged/pin/stories/",data:{fields:g.lm.join(","),pin_preview_count:g.hc}}}:null)}function M(e){var t=e.pillLabels,n=e.maxWidth,r=t.length;if(!n)return r;for(var o=0,i=0;i<t.length;i+=1){var a=t[i];if(a){var l=a.length*g.ux+g.hA+g.Tu;if(l+o<n)o+=l;else{r=i;break}}}return r}},113530(e,t,n){n.d(t,{n:function(){return h},u:function(){return m}});var r=n(157203),o=n(620162),i=n(4513),a=n(794044),l=n(991224),s=n(352248),c=n(879667);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var f=(0,i.A)("SearchParams"),y=f.Provider,m=f.get,h=function(e){var t,n,i,u,d,f,m=e.children,h=e.value,g=(t=(0,l.qJ)(),i=(n=(0,o.zy)()).search,u=n.pathname,f=!(d=(0,o.g)().scope)&&u.includes("/_tools/shop"),(0,s.A)({isDesktop:t,scope:f?a.cO.SHOP_TOOL:null!=d?d:a.cO.PINS,search:i})),v=(0,r.useMemo)(function(){return p(p({},g),h)},[g,h]);return(0,c.jsx)(y,{value:v,children:m})}},307208(e,t,n){n.d(t,{A:function(){return o}});var r=n(812565);function o(e){var t=null==e?void 0:e.modified_filter_eligibility;return t?"hair_pattern"in t?r.zB.HAIR:"skin_tone"in t?r.zB.SKIN:null:null}},218393(e,t,n){n.d(t,{g:function(){return r}});var r={LISTENING:"listening",DEFAULT:"default",CANCEL:"cancel",NULL:null}},812565(e,t,n){n.d(t,{P4:function(){return r},bP:function(){return o},eS:function(){return i},zB:function(){return a}});var r={CLOSEUP_FEED:"closeup_feed",CLOSEUP_RESPONSIVE:"closeup_responsive",CLOSEUP_STACKED:"closeup_stacked",SEARCH_AUTOCOMPLETE:"search_autocomplete",SEARCH_FEED:"search_feed"},o={CLOSEUP:"closeup"},i={SKIN:"SKIN_TONE_FILTER_QUERIES",HAIR:"hair_pattern_filter_queries",BODY:"inclusive_onebar_pills_on_closeup"},a={SKIN:"skin_tone",HAIR:"hair_pattern",BODY:"body_type"}},352248(e,t,n){n.d(t,{A:function(){return i}});var r=n(794044),o=n(132946);function i(e){var t=e.isDesktop,n=e.scope,i=e.search,a=(0,o.A)(i),l=a.auto_correction_disabled,s=a.b_id,c=a.brands,u=a.category,d=a.colors,p=a.commerce_only,f=void 0===p?"":p,y=a.cover_pin_sig,m=a.deb_d,h=a.domains,g=a.filters,v=a.guided_search_query,b=a.inline_suggestion,_=a.interest_id,S=a.journey_depth,x=a.on_sale,w=a.price_max,j=a.price_min,A=a.q,O=a.query_pin_sigs,P=a.query_image_pins,I=a.quiz,k=a.request_params,T=a.rs,E=a.selected_one_bar_modules,C=a.source_id,L=a.source_module_id,F=a.tab,D=a.top_pin_ids,M=a.user,z="true"===f.toLowerCase()&&"shop_tool"!==n?r.cO.PINS_BUYABLE:n;return{autoCorrectionDisabled:"true"===(void 0===l?"":l).toLowerCase(),brands:c,bubbleId:s,category:u,colors:d,commerceOnly:"true"===f.toLowerCase(),coverPinSig:y,currentlyAppliedFiltersParamTerm:g,debD:m,domains:h,guidedSearchQuery:v,inlineSuggestion:b,interestId:_,journeyDepth:S?parseInt(S,10):void 0,onSale:x,personalizationPinSig:O,placementId:(0,r.my)(z,t),priceMax:w,priceMin:j,query:A,queryImagePins:P,quiz:I,requestParams:k,rs:T,scope:z,selectedOneBarModules:E,sourceId:C,sourceModuleId:L,tab:F||"",topPinIds:D,user:M,viewParameter:(0,r._n)(z),viewType:z===r.cO.SHOP_TOOL?1:2}}},332300(e,t,n){n.d(t,{A:function(){return c}});var r=n(157203),o=n(106386),i=n(71897),a=n(175795),l=n(131032),s=n(352248);function c(){var e=(0,o.wA)(),t=(0,r.useRef)(void 0);return function(n){n&&function(e){var t=e.appliedUnifiedFilters,n=e.dispatch,r=e.optionsKeyRef,o=e.isAuthenticated,c=e.isDesktop,u=void 0===c||c,d=e.url,p=new URL(d.startsWith("http")?d:"".concat(window.location.origin).concat(d)),f=p.pathname.split("/");if(4===f.length&&"search"===f[1]){var y=p.search,m=f[2],h=(0,s.A)({isDesktop:u,scope:m,search:y}),g=(0,l.hr)({searchParams:h,appliedUnifiedFilters:t,isAuthenticated:void 0===o||o,isDesktop:u,sourceUrl:d}),v=(0,i.A)(g);r.current!==v&&(r.current=v,n((0,a.Jt)(g.name,{options:g.options},null)))}}({dispatch:e,optionsKeyRef:t,url:n})}}},229065(e,t,n){n.d(t,{A:function(){return p},Y:function(){return f}});var r=n(620162),o=n(28961),i=n(805454),a=n(467780),l=n(799632),s=n(131032),c=n(794044),u=n(991224),d=n(113530);function p(e){return f(e).resource}function f(e){var t=(e||{}).skipResourceCall,n=(0,i.A)().checkExperiment,p=(0,a._8)().isAuthenticated,f=(0,r.zy)(),y=f.pathname,m=f.search,h=(0,u.qJ)(),g=!p||!h,v=(0,d.u)(),b=(0,o.A)(),_=(0,s.hr)({searchParams:v,sourceUrl:y+m,isDesktop:h,isAuthenticated:p,appliedUnifiedFilters:b}),S=g;g&&(S=!!p&&!n("unify_search_resource_auth_mweb").anyEnabled);var x=t||v.scope===c.cO.USERS&&!g||S;return{resource:(0,l.A)(x?null:_),options:_.options}}},301609(e,t,n){t.A=(0,n(679120).createSelector)(function(e){return e.boards},function(e){return Object.keys(e).reduce(function(t,n){var r,o=e[n],i=decodeURIComponent(null!=(r=o.url)?r:"");t[null!=i?i:""]=o;var a=null==i?void 0:i.toLocaleLowerCase();a&&i!==a&&(t[a]=o);var l="oldSlugUrl"in o?o.oldSlugUrl:null;return l&&(t[l]=o),t},{})})},399694(e,t,n){n.d(t,{DA:function(){return h},GA:function(){return u},R0:function(){return p},im:function(){return l},pj:function(){return y},wt:function(){return f}});var r=n(157203),o=n(424054),i=n(467780),a=n(799632),l=10,s=window.location.host.startsWith("testing"),c=function(e){var t=new Date(2025,11,17),n=new Date(2026,0,30);return e>=t&&e<=n},u=["US","CA","GB","AU","DE","FR"],d=["US","CA","GB","AU","DE","FR","BR"],p=function(e){if(s)return!1;var t=new Date;return!!c(t)&&!!c(t)&&d.includes(e)},f=function(e,t,n){return(!e||n&&(0,o.nV)(n))&&u.includes(t)},y=function(e){return e._('Explore featured boards', 'featured_boards.header', 'Explore featured boards header')},m=function(e){var t=e.username,n=e.sort;return{field_set_key:"profile_grid_item",filter_stories:!1,sort:void 0===n?"last_pinned_to":n,username:t}},h=function(){var e=(0,i._8)().country,t=(0,r.useMemo)(function(){var t;return"DE"===(t=e)?"pinterestde":"FR"===t?"pinterestfr":"AU"===t?"pinterestaustralia":"CA"===t?"pinterest_canada":"GB"===t?"pinterestuk":"pinterest"},[e]);return(0,a.A)({name:"BoardsFeedResource",options:m({username:t})})}},261707(e,t,n){var r=n(460657),o=n(370714),i=n(991224),a=n(879667);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=l(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u=function(e){var t=e.isPhone,n=e.url,i=e.handleClick,l=(0,o.A)(),s=l._('See more arrow', 'unauth_section_header.see_more_a11y', 'See more link button accessibility label');return t?(0,a.jsx)(r.AR,{accessibilityLabel:s,bgColor:"transparent",href:n,icon:"chevron-right",iconColor:"default",onClick:i,padding:1,size:"xs"}):(0,a.jsx)(r.vx,{accessibilityLabel:s,color:"transparent",href:n,iconEnd:"chevron-right",onClick:i,size:"md",text:l._('See more', 'unauth_section_header.see_more', 'See more link button for unauth section header')})},d=function(e){var t=e.children,n=e.linkProps;return n?(0,a.jsx)(r.$A,{fullWidth:!1,href:n.url,mouseCursor:"pointer",onTap:n.handleClickHeader||n.handleClick,children:t}):(0,a.jsx)(r.az,{children:t})};t.A=function(e){var t=e.sectionHeader,n=e.sectionHeaderA11yLevel,o=e.pretext,l=e.pretextA11yLevel,s=e.linkProps,p=e.headerMarginTopOverride,f=e.smallHeader,y=void 0!==f&&f,m=(0,i.M)(),h=null!=p?p:m?12:16,g=y||m?"200":"300",v=y||m?"300":"600";return(0,a.jsxs)(r.az,{alignItems:"end",direction:"row",display:"flex",justifyContent:"between",marginBottom:4,marginTop:h,width:"100%",children:[(0,a.jsxs)(d,{linkProps:s,children:[!!o&&(0,a.jsx)(r.az,{marginBottom:1,children:l?(0,a.jsx)(r._Y,{accessibilityLevel:l,size:g,children:(0,a.jsx)(r.KJ,{size:g,children:o})}):(0,a.jsx)(r.KJ,{lineClamp:2,size:g,children:o})}),(0,a.jsx)(r._Y,{accessibilityLevel:n||2,size:v,children:t})]}),!!s&&(0,a.jsx)(u,c(c({},s),{},{isPhone:m}))]})}},651421(e,t){t.A={base_grid_item:["aggregatedpindata.pin_tags","buyableproductmetadata.display_active_max_price","buyableproductmetadata.display_active_min_price","buyableproductmetadata.short_description","buyableproductmetadata.title","pin.access","pin.ad_data","pin.ad_destination_url","pin.ad_match_reason","pin.aggregated_pin_data()","pin.alt_text","pin.attribution","pin.carousel_data()","pin.collection_pin()","pin.created_at","pin.debug_info_html","pin.description","pin.domain","pin.dominant_color","pin.embed","pin.grid_title","pin.has_required_attribution_provider","pin.id","pin.image_crop","pin.image_signature","pin.images[170x,236x,474x,736x,orig]","pin.is_downstream_promotion","pin.is_eligible_for_web_closeup","pin.is_prefetch_enabled","pin.is_promoted","pin.is_uploaded","pin.link","pin.link_utm_applicable_and_replaced","pin.promoted_is_removable","pin.promoter()","pin.reaction_counts","pin.rich_summary()","pin.shopping_flags","pin.product_metadata()","product_metadata.shopping_flags","pin.should_open_in_stream","pin.sponsorship","pin.story_pin_data()","pin.story_pin_data_id","pin.title","pin.tracking_params","pin.type","pin.utm_link","pin.videos()","pincarouselslot.details","pincarouselslot.id","pincarouselslot.images[60x60,136x136,170x,236x,474x,564x,736x,600x315,orig]","pincarouselslot.link","pincarouselslot.title","pincarouselslot.videos()","user.ads_only_profile_site","user.full_name","user.image_medium_url","user.image_small_url","user.is_ads_only_profile","user.username","video.id","video.video_list[V_HLSV4,V_HLSV3_WEB,V_HLSV3_MOBILE,V_EXP3,V_EXP4,V_EXP5,V_EXP6,V_EXP7]"]}}}]);