"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["94986"],{522321(e,t,r){r.d(t,{Z:function(){return b}});var n=r(157203),o=r(106386),i=r(620162),a=r(758576),u=r(837855),l=r(132946),s=r(264323),c=r(136078),f=r(251150);function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=d(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=d(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==d(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var b=function(){var e=(0,i.zy)(),t=(0,u.A)(),r=(0,o.wA)(),d=(0,c.p)(),m=d.getNuxSignals,b=d.selectedUseCases,p=d.selectedPins,_=d.shouldUseNewReducerState?m():(0,s.xx)(b,p);return(0,n.useCallback)(function(){var n,o=t.isAuth&&t.firstHomeFeedRequestAfterNux,i=(0,a.A)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(o&&r((0,f.ly)(!1)),o),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,l.A)(e.search).pwt_performance_testing)),inNewsHub:null!=(n=null==e?void 0:e.pathname.includes("news_hub"))&&n});return{name:"UserHomefeedResource",options:_.length>0?y(y({},i),{},{nux_signals_map:_}):i}},[r,t,e,_])}},758576(e,t){t.A=function(e){var t=e.inNux,r=e.inNewsHub,n=e.staticFeed;return{field_set_key:e.viewerIsPartner?"hf_grid_partner":"hf_grid",in_nux:t,in_news_hub:r,static_feed:n}}},52715(e,t,r){r.d(t,{AK:function(){return u},Qv:function(){return i},Wm:function(){return a},ZR:function(){return c},c7:function(){return l},he:function(){return s},w2:function(){return o},wA:function(){return n}});var n=1e3,o=6e4,i=36e5,a=864e5,u=6048e5,l=2592e6,s=26784e5,c=31536e6},219233(e,t,r){r.d(t,{Bh:function(){return a},Bw:function(){return n},Mm:function(){return o},R2:function(){return u},rQ:function(){return i}});var n=function(e){return e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in')},o=function(e){return e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.')},i=function(e){return e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.')},a=function(e){var t=e.i18n;return e.toFollow?t._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):t._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},u=function(e){return e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')}},547154(e,t,r){r.d(t,{C:function(){return a},e:function(){return i}});var n=r(157203),o=(0,n.createContext)(null),i=o,a=function(){return(0,n.use)(o)}},563517(e,t,r){r.d(t,{A:function(){return a}});var n=r(52715),o=r(370714),i=r(361268);function a(){var e=(0,o.A)();return function(t,r){var o=new Date(t).getTime(),a=Date.now()-o,u=Math.floor(a/n.w2),l=Math.floor(a/n.Qv),s=Math.floor(a/n.Wm),c=Math.floor(a/n.AK),f=Math.floor(a/n.c7),d=Math.floor(a/n.ZR),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', u, ' - ', ' -- '),y=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', l, ' - ', ' -- '),b=e.ngettext('{{ days }} day ago', '{{ days }} days ago', s, ' - ', ' -- '),p=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),_=e.ngettext('{{ months }} month ago', '{{ months }} months ago', f, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),v=e.ngettext('{{ years }} year ago', '{{ years }} years ago', d, ' - ', ' -- '),g=e.ngettext('{{ minutes }}m', '{{ minutes }}m', u, 'minutes ago abbreviated', 'minutes ago abbreviated'),h=e.ngettext('{{ hours }}h', '{{ hours }}h', l, 'hours ago abbreviated', 'hours ago abbreviated'),P=e.ngettext('{{ days }}d', '{{ days }}d', s, 'days ago abbreviated', 'days ago abbreviated'),w=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),S=e.ngettext('{{ months }}mo', '{{ months }}mo', f, 'months ago abbreviated', 'months ago abbreviated'),A=e.ngettext('{{ years }}y', '{{ years }}y', d, 'years ago abbreviated', 'years ago abbreviated');return d>0?(0,i.vQ)(r?A:v,{years:d}).join(""):f>0?(0,i.vQ)(r?S:_,{months:f}).join(""):c>0?(0,i.vQ)(r?w:p,{weeks:c}).join(""):s>0?(0,i.vQ)(r?P:b,{days:s}).join(""):l>0?(0,i.vQ)(r?h:y,{hours:l}).join(""):u>0?(0,i.vQ)(r?g:m,{minutes:u}).join(""):e._('Just now', ' - ', ' -- ')}}},909408(e,t,r){r.d(t,{$S:function(){return u},IX:function(){return b},ak:function(){return y},d2:function(){return l},j5:function(){return f}});var n=r(875867),o=r(437416);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var u=function(){return"number"==typeof window.innerHeight&&"number"==typeof window.pageYOffset&&!!document.querySelector&&!!document.querySelectorAll},l=function(e){return e instanceof HTMLDivElement||e instanceof HTMLVideoElement?e.getBoundingClientRect():e.parentElement instanceof HTMLElement?e.parentElement.getBoundingClientRect():null},s=function(e,t){var r=e.top,n=e.height,o=t.foldY,i=r+t.pageYOffset;if(i>=o)return!1;var a=Math.min(n,o-i);return a>.5*n||a>.2*o},c=function(e){if(e instanceof HTMLImageElement)return e.src;if(e instanceof HTMLVideoElement)return e.poster||null;var t=(e.style||{}).backgroundImage||"";if(!t.startsWith("url(")||!t.endsWith(")"))return null;var r=t.slice(4,-1);return(r.startsWith('"')&&r.endsWith('"')||r.startsWith("'")&&r.endsWith("'"))&&(r=r.slice(1,-1)),r||null},f=function(){return document.querySelector?document.querySelectorAll(n.t$).length:((0,o.vV)("missing_document_query_selector"),0)},d=function(){if(!document.querySelector)return(0,o.vV)("missing_document_query_selector"),null;var e=document.querySelectorAll(n.t$);return e[e.length-1]||null},m=function(e,t){var r=l(e);if(!r)return(0,o.vV)("missing_client_rect"),!1;if(r.width<70&&r.height<70){if(e instanceof HTMLImageElement)return!1;var n=c(e);if(null!=n&&n.endsWith("svg"))return!1}return s(r,t)},y=function(){var e=d();if(!e)return!1;var t=window.innerHeight||0,r=window.pageYOffset||0;return e.getBoundingClientRect().top+r>=t},b=function(e,t,r){if(!document.querySelector)return(0,o.vV)("missing_document_query_selector"),[];var a={foldY:window.innerHeight||0,pageYOffset:window.pageYOffset||0},u=[n.os].concat(i(e?[n.x_]:[]),i(t?[n.Sc]:[])).join(","),l=i(document.querySelectorAll(u));if(r){var s=i(document.querySelectorAll('div[data-test-id="board-section"]')),f=function(e){var t=i(e.children);!t.length&&e.style.backgroundImage?l.push(e):t.length&&t.forEach(function(e){f(e)})};s.forEach(function(e){f(e)})}return l.reduce(function(e,r){if((r instanceof HTMLImageElement||r instanceof HTMLDivElement||r instanceof HTMLVideoElement&&t)&&m(r,a)){var n=c(r);if(n){var o=n.lastIndexOf("/"),i=o>=0?n.slice(o+1):n,u=i.indexOf("?"),l=u>=0?i.slice(0,u):i;return e.concat([{element:r,fileName:l}])}}return e},[])}},875867(e,t,r){r.d(t,{Sc:function(){return l},lH:function(){return n},os:function(){return a},t$:function(){return i},x_:function(){return u}});var n="pwt-grid-item",o=['div[data-grid-item="true"]',"div.Grid__Item",'div[data-test-id="'.concat(n,'"]')],i=o.join(","),a=o.map(function(e){return"".concat(e," img")}).join(","),u=o.map(function(e){return"".concat(e," div[style*=background-image]")}).join(","),l=o.map(function(e){return"".concat(e," video")}).join(",")},854041(e,t){t.A=function(e){switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},868141(e,t,r){r.d(t,{E:function(){return i},Y:function(){return a}});var n=r(157203),o=(0,n.createContext)(null),i=function(){return(0,n.use)(o)},a=o},215122(e,t,r){r.d(t,{e:function(){return g},y:function(){return v}});var n=r(157203),o=r(186122),i=r(4513),a=r(805454),u=r(879667);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){d(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e,t,r){var n;return(n=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==l(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||y(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){if(e){if("string"==typeof e)return b(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var p=(0,i.A)("VideoPlayer"),_=p.Provider,v=p.get;function g(e){var t=e.children,r=(0,o.o)(),i=r.logContextEvent,l=r.logImpression,c=(0,a.A)().checkExperiment,y=m((0,n.useState)(!1),2),b=y[0],p=y[1],v=m((0,n.useState)([]),2),g=v[0],h=v[1],P=m((0,n.useState)([]),2),w=P[0],S=P[1],A=m((0,n.useState)({}),2),O=A[0],j=A[1],I=c("web_ads_mrc_video_impression").anyEnabled,C=function(e){j(function(t){return f(f({},t),{},d({},e,!0))})},E=(0,n.useCallback)(function(e){var t;if(18===e.event_type&&null!=(t=e.event_data)&&null!=(t=t.pinImpressions)&&t.length){var r,n=e.event_data.pinImpressions[0].isNativeVideoAndWatchable,o=JSON.stringify((null==(r=e.aux_data)?void 0:r.commerce_data)||"").includes("story_pin_id");I&&(n||o)&&h(function(t){return[].concat(s(t),[e]).slice(-1e3)})}},[I]),k=(0,n.useCallback)(function(e){18===e.eventType&&I&&S(function(t){return[].concat(s(t),[e]).slice(-1e3)})},[I]),U=function(e){var t=e.event_data.pinImpressions[0].time;return f(f({},e),{},{event_data:f(f({},e.event_data),{},{pinImpressions:[f(f({},e.event_data.pinImpressions[0]),{},{isMrcBtr:!0,endTime:t,renderDuration:0})]})})},T=function(e){if(e.eventData){var t=e.eventData.time;return f(f({},e),{},{eventData:f(f({},e.eventData),{},{isMrcBtr:!0,endTime:null!=t?t:0})})}return null};(0,n.useEffect)(function(){var e=g.filter(function(e){return!O[e.event_data.pinImpressions[0].pinIdStr]||!I||(i(U(e)),!1)});e.length!==g.length&&h(e)},[g,I,i,O]),(0,n.useEffect)(function(){var e=w.filter(function(e){var t,r=null==(t=e.eventData)?void 0:t.pinIdStr;if(!r)return!1;if(O[r]&&I){var n=T(e);return n&&l(n),!1}return!0});e.length!==w.length&&S(e)},[w,I,l,O]);var M=(0,n.useMemo)(function(){return{captionsEnabled:b,logMrcVideoAdImpressionOnPlay:k,logMrcVideoAdEventOnPlay:E,setCaptionsEnabled:p,setVideoPlayed:C,videosPlayed:O}},[b,E,k,O]);return(0,u.jsx)(_,{value:M,children:t})}},649091(e,t,r){r.d(t,{C1:function(){return c},kb:function(){return f},zP:function(){return d}});var n=r(157203),o=r(4513),i=r(879667);function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||function(e,t){if(e){if("string"==typeof e)return u(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=(0,o.A)("MostRecentPin"),s=l.Provider,c=l.get,f=l.getMaybe;function d(e){var t=e.children,r=a((0,n.useState)(),2),o=r[0],u=r[1],l=a((0,n.useState)(),2),c=l[0],f=l[1],d=a((0,n.useState)(),2),m=d[0],y=d[1],b=a((0,n.useState)(),2),p=b[0],_=b[1],v=(0,n.useCallback)(function(e){f([e].concat((c?c.slice(0,10):[]).filter(function(t){return t!==e})))},[c]),g=(0,n.useMemo)(function(){return{id:o,plpImageSignatures:c,currentlyViewingPinId:m,lastVisitedPinId:p,setMostRecentPinId:u,setMostRecentPinImage:v,setCurrentlyViewingPinId:y,setLastVisitedPinId:_}},[o,c,m,p,v]);return(0,i.jsx)(s,{value:g,children:t})}},265124(e,t,r){r.d(t,{HR:function(){return c},Sk:function(){return f},Vk:function(){return s},zy:function(){return l}});var n=r(106386),o=r(4513),i=r(879667),a=(0,o.A)("Pins"),u=a.Provider,l=a.get,s=a.getMaybe;function c(){var e=l();return function(t){return e[t]}}function f(e){var t=e.children,r=(0,n.d4)(function(e){return e.pins},n.bN);return(0,i.jsx)(u,{value:r,children:t})}},896972(e,t,r){r.d(t,{Ax:function(){return f},DF:function(){return c},Eo:function(){return d},V_:function(){return s},u5:function(){return m}});var n=r(106386),o=r(4513),i=r(837855),a=r(879667),u=(0,o.A)("Users"),l=u.Provider,s=u.get;function c(){var e=s();return function(t){return e[t]}}function f(){var e=s();return function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.keys(e).find(function(r){return e[r].username===t});if(n||!r)return e[null!=n?n:""]}}function d(){var e=(0,i.A)();return s()[e.isAuth?e.id:""]}function m(e){var t=e.children,r=(0,n.d4)(function(e){return e.users},n.bN);return(0,a.jsx)(l,{value:r,children:t})}},662675(e,t,r){r.d(t,{B:function(){return o}});var n=(0,r(4513).A)("VerticalNav",{width:0,sideBarWidth:0,selectedNav:void 0,isPanelOpen:function(){return!1},sideBarOpen:!1,updatePanelState:function(){},togglePanelState:function(){},isBoardCreateModalOpen:!1,setIsBoardCreateModalOpen:function(){},handleSideBarLinkClick:function(){}}),o=n.Provider;t.A=n.get},29739(e,t,r){r.d(t,{A:function(){return o}});var n=r(662675);function o(){return(0,n.A)().width}},136078(e,t,r){r.d(t,{N:function(){return w},p:function(){return P}});var n=r(157203),o=r(4513),i=r(902256);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return l(e,void 0);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=function(e,t){switch(t.type){case"SELECT_PIN":var r,n,o,i,a,l,s,f,d=t.payload;return n=(r={pinData:d.pinData,pinId:d.pinId,state:e,useCaseId:d.useCaseId}).pinData,o=r.pinId,i=r.state,a=r.useCaseId,s=(l=new Map(i.selectedUseCases)).get(a)||{selectedPins:[],heroPin:null,backfillPins:[]},f=c(c({},n),{},{pinId:o,selectedAt:Date.now()}),l.set(a,c(c({},s),{},{selectedPins:[].concat(u(s.selectedPins),[f])})),c(c({},i),{},{selectedUseCases:l});case"DESELECT_PIN":var m,y,b,p,_,v,g=t.payload;return y=(m={pinId:g.pinId,state:e,useCaseId:g.useCaseId}).pinId,b=m.state,p=m.useCaseId,(v=(_=new Map(b.selectedUseCases)).get(p))&&_.set(p,c(c({},v),{},{selectedPins:v.selectedPins.filter(function(e){return e.pinId!==y})})),c(c({},b),{},{selectedUseCases:_});case"SELECT_USE_CASE":var h,P,w,S,A,O=t.payload;return P=(h={heroPin:O.heroPin,state:e,useCaseId:O.useCaseId}).heroPin,w=h.state,S=h.useCaseId,(A=new Map(w.selectedUseCases)).set(S,{selectedPins:[],heroPin:P,backfillPins:[]}),c(c({},w),{},{selectedUseCases:A});case"DESELECT_USE_CASE":return I=(j={state:e,useCaseId:t.payload.useCaseId}).state,C=j.useCaseId,(E=new Map(I.selectedUseCases)).delete(C),c(c({},I),{},{selectedUseCases:E});case"ADD_BACKFILL_PINS":var j,I,C,E,k,U,T,M,x,z,D=t.payload;return U=(k={backfillPins:D.backfillPins,state:e,useCaseId:D.useCaseId}).backfillPins,T=k.state,M=k.useCaseId,(z=(x=new Map(T.selectedUseCases)).get(M))&&x.set(M,c(c({},z),{},{backfillPins:u(U)})),c(c({},T),{},{selectedUseCases:x});default:return e}},d=function(e,t){var r=f(e,t);return c(c({},r),{},{history:[].concat(u(r.history||[]),[t])})},m=r(879667);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t,r){var n;return(n=function(e,t){if("object"!=y(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=y(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==y(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,u=[],l=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=i.call(r)).done)&&(u.push(n.value),u.length!==t);l=!0);}catch(e){s=!0,o=e}finally{try{if(!l&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}(e,t)||_(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"==typeof e)return v(e,t);var r=({}).toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?v(e,t):void 0}}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var g=(0,o.A)("Nux"),h=g.Provider,P=g.get;function w(e){var t=e.children,r=p((0,n.useState)([]),2),o=r[0],a=r[1],u=p((0,n.useState)({}),2),l=u[0],s=u[1],c=p((0,n.useState)(!1),2),f=c[0],y=c[1],v={selectedUseCases:new Map,history:[]},g=p((0,n.useReducer)(d,v),2),P=g[0],w=g[1],S=(0,n.useCallback)(function(){return Array.from(P.selectedUseCases.values()).reduce(function(e,t){return e+t.selectedPins.length},0)},[P.selectedUseCases]),A=(0,n.useCallback)(function(e){return Array.from(P.selectedUseCases.entries()).reduce(function(t,r){var n=p(r,2),o=n[0],i=n[1];return e&&o===e?t:t.concat(i.selectedPins)},[])},[P.selectedUseCases]),O=(0,n.useCallback)(function(e){return A(e).map(function(e){return{url:e.imageMediumUrl,height:e.height,width:e.width}})},[A]),j=(0,n.useCallback)(function(){var e,t=[],r=function(e,t){var r="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}(P.selectedUseCases);try{for(r.s();!(e=r.n()).done;){var n=p(e.value,2),o=n[0],i=n[1].selectedPins.map(function(e){return b(b({},1,e.pinId),2,"pin")});t.push(b(b({},1,o),2,i))}}catch(e){r.e(e)}finally{r.f()}return t},[P.selectedUseCases]),I=(0,n.useCallback)(function(){return P.selectedUseCases&&S()>=i.bN},[S,P.selectedUseCases]),C=(0,n.useCallback)(function(){return P.selectedUseCases.size>=i.TB},[P.selectedUseCases]),E=(0,n.useMemo)(function(){return{checkHasMetMinimumPinSelectionRequirement:I,checkHasMetMinimumUseCaseSelectionRequirement:C,getNuxSignals:j,getNumSelectedPins:S,getSelectedPinImageData:O,nuxSelectionsDispatch:w,nuxSelectionsState:P,selectedPins:l,selectedUseCases:o,setSelectedPins:s,setSelectedUseCases:a,setShouldUseNewReducerState:y,shouldUseNewReducerState:f}},[I,C,j,S,O,w,P,l,o,s,a,y,f]);return(0,m.jsx)(h,{value:E,children:t})}},807983(e,t){t.A=function(e,t,r){return"".concat(e,":").concat(t||"",":").concat(r||"")}},251150(e,t,r){r.d(t,{Fq:function(){return p},TK:function(){return y},b8:function(){return _},ly:function(){return b}});var n=r(867076),o=r(217870),i=r(752411),a=r(841037),u=r(902256);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function i(r,n,o,i){var l=Object.create((n&&n.prototype instanceof u?n:u).prototype);return c(l,"_invoke",function(r,n,o){var i,u,l,s=0,c=o||[],f=!1,d={p:0,n:0,v:e,a:m,f:m.bind(e,4),d:function(t,r){return i=t,u=0,l=e,d.n=r,a}};function m(r,n){for(u=r,l=n,t=0;!f&&s&&!o&&t<c.length;t++){var o,i=c[t],m=d.p,y=i[2];r>3?(o=y===n)&&(l=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=m&&((o=r<2&&m<i[1])?(u=0,d.v=n,d.n=i[1]):m<y&&(o=r<3||i[0]>n||n>y)&&(i[4]=r,i[5]=n,d.n=y,u=0))}if(o||r>1)return a;throw f=!0,n}return function(o,c,y){if(s>1)throw TypeError("Generator is already running");for(f&&1===c&&m(c,y),u=c,l=y;(t=u<2?e:l)||!f;){i||(u?u<3?(u>1&&(d.n=-1),m(u,l)):d.n=l:d.v=l);try{if(s=2,i){if(u||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,u<2&&(u=0)}else 1===u&&(t=i.return)&&t.call(i),u<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),u=1);i=e}else if((t=(f=d.n<0)?l:r.call(n,d))!==a)break}catch(t){i=e,u=1,l=t}finally{s=1}}return{value:t,done:f}}}(r,o,i),!0),l}var a={};function u(){}function l(){}function f(){}t=Object.getPrototypeOf;var d=f.prototype=u.prototype=Object.create([][n]?t(t([][n]())):(c(t={},n,function(){return this}),t));function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=f,c(d,"constructor",f),c(f,"constructor",l),l.displayName="GeneratorFunction",c(f,o,"GeneratorFunction"),c(d),c(d,o,"Generator"),c(d,n,function(){return this}),c(d,"toString",function(){return"[object Generator]"}),(s=function(){return{w:i,m:m}})()}function c(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(c=function(e,t,r,n){function i(t,r){c(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(i("next",0),i("throw",1),i("return",2))})(e,t,r,n)}function f(e,t,r,n,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void r(e)}u.done?t(l):Promise.resolve(l).then(n,o)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){var n,o;n=t,o=r[t],(n=function(e){var t=function(e,t){if("object"!=l(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=l(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==l(t)?t:t+""}(n))in e?Object.defineProperty(e,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[n]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function y(e){var t,r,i=e.updateUserData,l={},c=null;if(i.gender&&[u.Vk,u.K6].includes(i.gender)?l.gender=i.gender:i.custom_gender&&(l.custom_gender=i.custom_gender,l.customGender=i.custom_gender,l.gender=u.Ah),i.age?l.age=i.age:i.birthdate&&(l.birthdate=i.birthdate),i.locale&&(l.locale=i.locale),i.country&&(l.country=i.country),i.business_vertical&&(l.businessVertical=i.business_vertical),i.business_vertical_other&&(l.businessVerticalOther=i.business_vertical_other),i.number_employees&&(l.numberEmployees=i.number_employees),i.first_name&&(l.firstName=i.first_name),i.last_name&&(l.lastName=i.last_name),i.full_name&&(l.fullName=i.full_name),i.parent_email&&(l.parentEmail=i.parent_email),i.website_url&&(l.websiteUrl=i.website_url),i.listed_website_url&&(l.listedWebsiteUrl=i.listed_website_url),void 0!==i.allow_analytic_cookies&&(l.allow_analytic_cookies=i.allow_analytic_cookies),void 0!==i.allow_analytic_cookies&&(l.allow_marketing_cookies=i.allow_marketing_cookies),void 0!==i.allow_analytic_cookies&&(l.allow_personalization_cookies=i.allow_personalization_cookies),i.advertising_intent||i.business_name||i.account_type||i.business_goals||i.selected_ecommerce_platforms||i.enable_profile_message||i.enable_profile_address){var d=i.account_type,y=i.advertising_intent,b=i.business_name,p=i.business_goals,_=i.enable_profile_message,v=i.enable_profile_address,g=i.selected_ecommerce_platforms;c=m(m(m(m(m(m(m({},y?{advertising_intent:y}:{}),d?{account_type:d}:{}),b?{business_name:b}:{}),p?{business_goals:p}:{}),_?{enable_profile_message:_}:{}),v?{enable_profile_address:v}:{}),g?{selected_ecommerce_platforms:g}:{})}c&&(l.partner=c,c.business_name&&(l.firstName=c.business_name));var h=n.A.create("UserSettingsResource",m(m({},i),{},{surface_tag:a.r.NUX})).callUpdate();return t=s().m(function e(t){var r,n;return s().w(function(e){for(;;)switch(e.p=e.n){case 0:return e.p=0,e.n=1,h;case 1:return r=e.v,t({type:"UPDATE_USER_SET",payload:l}),e.a(2,r);case 2:return e.p=2,n=e.v,e.a(2,Promise.reject(Error((0,o.A)(n,"message"))))}},e,null,[[0,2]])}),r=function(){var e=this,r=arguments;return new Promise(function(n,o){var i=t.apply(e,r);function a(e){f(i,n,o,a,u,"next",e)}function u(e){f(i,n,o,a,u,"throw",e)}a(void 0)})},function(e){return r.apply(this,arguments)}}function b(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function p(e,t){return function(){(0,i.A)({url:"/v3/users/state/{state}/",method:"PUT",urlParams:{state:e},data:{value:t}})}}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){return n.A.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}}},876808(e,t,r){r.d(t,{AJ:function(){return u},Cw:function(){return a},gx:function(){return l}});var n=r(4513),o=r(540179),i=(0,n.A)("HandlerId"),a=i.Provider,u=i.get;function l(){var e=u();return(0,o.j9)(e).site}}}]);