"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["55880"],{698363(e,n,t){t.d(n,{A:function(){return S},c:function(){return b}});var i=t(157203),a=t(427344),r=t(909408),o=t(885690),s=t(686309),l=t(411512),u=t(227025),c=t(409199),d=t(525525),m=t(806367),f=t(120147),v=t(425347);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach(function(n){var i,a;i=n,a=t[n],(i=function(e){var n=function(e,n){if("object"!=p(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=p(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==p(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,o,s=[],l=!0,u=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=r.call(t)).done)&&(s.push(i.value),s.length!==n);l=!0);}catch(e){u=!0,a=e}finally{try{if(!l&&null!=t.return&&(o=t.return(),Object(o)!==o))return}finally{if(u)throw a}}return s}}(e,n)||function(e,n){if(e){if("string"==typeof e)return E(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}(e,n)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var h=(0,a.lo)("GridProfiler"),b=function(){return!!window.addEventListener&&!!window.removeEventListener&&(0,r.$S)()},A=function(e,n){if(!n){var t=(0,r.j5)();if(t===e)return h("No new items, so skip the viewport-fill check."),{complete:!1,numOfItemsChecked:e};if(!(0,r.ak)())return h("Viewport may not be filled yet."),{complete:!1,numOfItemsChecked:t}}return{complete:!0}},w=function(e,n){var t=0,i=0,a=0,r=0,o=0;return e=e.filter(function(e){return"pin"===e.type}),n.forEach(function(n,s){var l,u,c,d,m,f=n.fileName.split(".")[0];f!==(null==(l=m=e[s])?void 0:l.image_signature)&&(m=e.find(function(e){return f===(null==e?void 0:e.image_signature)})),void 0===m?o+=1:m.is_promoted||(null==(u=m.recommendation_reason)?void 0:u.reason)==="PROMOTED_PIN"||null!=(c=m)&&c.promoter?a+=1:null!==m.story_pin_data_id&&void 0!==m.story_pin_data_id?t+=1:null!=(d=m)&&null!=(d=d.videos)&&d.video_list?i+=1:r+=1}),{storyPinCount:t,videoCount:i,adCount:a,imageCount:r,unknownCount:o}},I=function(e,n){var t=function(){window.removeEventListener(e,t),n()};return window.addEventListener(e,t),function(){return window.removeEventListener(e,t)}};function S(e){var n=e.isAtEndOfFeed,t=e.pinData,p=e.includeBackgroundImages,g=e.includeVideos,E=void 0!==g&&g,b=e.includeSections,S=e.isPlaceholderGrid,T=e.onVisuallyCompletePinCount,N=e.stopwatchSetVisuallyCompleteResult,R=e.stopwatchContext,P=(0,m.lj)(),O=function(e){var n=e.imageTimings;N&&N({result:"COMPLETE"}),(0,u.Cf)(n)},C=y((0,i.useState)({status:"DISABLED"}),2),L=C[0],j=C[1];(0,i.useEffect)(function(){j({status:"LAYOUT",failedCount:0,numOfItemsChecked:0})},[P]),(0,i.useEffect)(function(){if(h("new status",L),"LAYOUT"===L.status){var e=I("scroll",function(){(0,l.A)("scrollDuringLayout")});return function(){e()}}return function(){}},[L.status]),(0,f.A)(function(){var e=(0,m.R$)(),i=function(){},l=function(e){(0,s.A)(e),R&&(null==R||R.abort()),N&&N({result:"ABORT"})};"unknown"!==e?i=d.tL:(e="".concat(null==R?void 0:R.name),null!=R&&R.addBinaryAnnotation&&(i=null==R?void 0:R.addBinaryAnnotation));var f=(0,r.IX)(p,E,b);if(S)return void h("bypassing PWT run due to skeleton pin grid");switch(L.status){case"LAYOUT":var g=A(L.numOfItemsChecked,n);g.complete?j({status:"TIMING",failedCount:0,pinElements:f}):500*L.failedCount>6e4?((0,c.pI)({eventName:"images.".concat(e,".visuallyComplete.maxLayoutAttempt")}),l("visuallyComplete_layoutTimeout"),j({status:"DISABLED"})):j(_(_({},L),{},{failedCount:L.failedCount+1,numOfItemsChecked:g.numOfItemsChecked}));break;case"TIMING":var I=(0,o.Fm)(),P=L.pinElements.length,C=[],D=0,G=0,V=0,W=1/0,x=0;if(L.pinElements.forEach(function(e){var n=e.element,t=e.fileName,i=I.find(function(e){return e.name.endsWith(t)});i?i.responseEnd?(C.push(i),(0,a.Gp)(n,"green"),W=Math.min(W,i.requestStart),x=Math.max(x,i.responseEnd)):(V+=1,(0,a.Gp)(n,"blue")):n instanceof HTMLImageElement&&n.complete?(G+=1,(0,a.Gp)(n,"red")):(D+=1,(0,a.Gp)(n,"greenyellow"))}),D||V)100*L.failedCount>6e4?((0,c.pI)({eventName:"images.".concat(e,".visuallyComplete.maxAttempt"),tags:{totalImageCount:P,incompleteCount:D,noTimingCount:G,noTimingResponseEndCount:V}}),l("visuallyComplete_timingTimeout"),j({status:"DISABLED"})):j(_(_({},L),{},{failedCount:L.failedCount+1}));else{if(h("All ".concat(C.length," images are fetched")),null==T||T(P),t&&t.length){var M=w(t,L.pinElements);if(Object.entries(M).forEach(function(e){var n=y(e,2),t=n[0],a=n[1];i(t,a,"I16"),(0,u.kN)(t,a,"I16")}),(0,c.pI)({eventName:"".concat(e,".pinTypes"),tags:M}),"SEARCH_FEED_RENDER"===e){var U,F=x-W;(null==(U=t[0].display_options)?void 0:U.num_columns_requested)===0?(0,v.N9)("full_width_story_image_fetch_time_true",F,{sampleRate:1}):(0,v.N9)("full_width_story_image_fetch_time_false",F,{sampleRate:.05})}}O({imageTimings:C}),j({status:"DISABLED"}),(0,c.pI)({eventName:"images.".concat(e,".visuallyComplete.complete"),tags:{totalImageCount:P,noTimingCount:G}}),(0,c.AJ)({eventName:"images.".concat(e,".visuallyComplete.timing"),value:Math.round(x)})}}},"LAYOUT"===L.status&&500||"TIMING"===L.status&&100||null)}},686309(e,n,t){t.d(n,{A:function(){return d}});var i=t(236926),a=t(965562),r=t(877060),o=t(409199),s=t(806367),l=t(35839);function u(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return c(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function d(e){if((0,r.A)()){var n=(0,s.mw)();if(n){var t=[].concat(u((0,s.e0)()),u(n.annotateExperiments||[])),c=(0,s.uS)();(0,o.HF)({abortReason:e,pwtName:n.name,annotateExperiments:t}),c.forEach(function(e){(0,o.SR)(e,null==n?void 0:n.name)});var d=(0,l.tQ)(),m={type:"surface",surface:n.name,id:n.id,navigationType:(0,s.Fg)(),isAuthenticated:d.isAuthenticated},f=(0,i.R)({reason:e,annotateExperiments:t,annotations:{},binaryAnnotations:(0,s.EZ)(),constraintMap:(0,s.Qh)(),endTime:performance.now(),imageTimings:(0,s.XA)(),isV4Logger:!0,metricId:m,pwtMeasures:(0,s.vs)(),pwtStaticContext:d,startTime:(0,s.Wj)(),traceId:(0,s.v5)(),spans:[]});(0,o.cY)("Abort ".concat(n.name," PWT. Abort reason: ").concat(e)),(0,o.cY)("Result:",f),(0,a.A)({metricId:m,pwtStaticContext:d,result:f,isV4Logger:!0,annotateExperiments:t}),(0,s.sq)()}}}},255637(e,n,t){t.d(n,{A:function(){return o}});var i=t(35839),a=!1,r=null;function o(e){if(!a){r=e;var n=window.innerHeight,t=window.innerWidth,o=function(){var e,s=(0,i.tQ)(),l=Math.abs(window.innerHeight-n),u=window.innerHeight!==n,c=window.innerWidth!==t;if("phone"===s.deviceType&&(!c&&u&&l<=150||!u&&!c)||"desktop"===s.deviceType&&!u&&!c){window.removeEventListener("resize",o),a=!1;return}null==(e=r)||e("windowResized"),window.removeEventListener("resize",o),a=!1};window.addEventListener("resize",o),a=!0}}},724548(e,n,t){t.d(n,{A:function(){return o}});var i=t(877060),a=t(409199),r=t(806367);function o(e,n,t){var o;if((0,i.A)()){switch(t){case"BOOL":o={type:"BOOL",value:"boolean"==typeof n?n:null};break;case"STRING":o={type:"STRING",value:"string"==typeof n?n:null};break;case"I16":case"I32":case"I64":o={type:t,value:"number"==typeof n?n:null};break;default:(0,a.cY)("Invalid binary annotation type");return}if(null===o.value)return void(0,a.cY)("Invalid binary annotation value");(0,r.Oh)(e,o),(0,a.cY)("Add binary annotation: { ".concat(e,": ").concat(o.value," }"))}}},612911(e,n,t){t.d(n,{A:function(){return l}});var i=t(877060),a=t(409199),r=t(806367),o=t(670164),s=t(158503);function l(e,n){if((0,i.A)()){var t=(0,r.mw)();if(t){var l=(0,r.uS)(),u=l.indexOf(e);u>-1&&((0,r.qu)()<n&&(0,r.yg)(n),(0,r.$I)(e,n),(0,a.Nr)(l[u],null==t?void 0:t.name),(0,a.AJ)({eventName:"".concat(null==t?void 0:t.name,".constraint.").concat(e),value:n}),(0,a.AJ)({eventName:"constraint.".concat(e),value:n,tags:{handler:(0,s.q)()}}),(0,a.cY)("Complete constraint: ".concat(e," at ").concat(Math.floor(n),"ms")),(0,o.A)(e))}else{var c=(0,r.HX)();c[e]||(c[e]=n)}}}},519430(e,n,t){t.d(n,{A:function(){return f},W:function(){return v}});var i=[{handler:"sterling/advertiser/[advertiserId]/audiences.js",config:{dWeb:{auth:{clientNavigation:{name:"STERLING_AUDIENCES_PAGE_USER_NAV",id:224,constraints:["NavigationCompletev4","audiencesTableRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/edit.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSEDIT_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","editFlowRendered"]},clientNavigation:{name:"STERLING_EDIT_FLOW_USER_NAV",id:225,constraints:["NavigationCompletev4","editFlowRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/ads/create.js","sterling/advertiser/[advertiserId]/ads/duplicate.js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_ADSCREATE_MAIN_PAGELOAD",id:204,constraints:["NavigationCompletev4","createFlowRendered"]},clientNavigation:{name:"STERLING_ADSCREATE_USER_NAV",id:233,constraints:["NavigationCompletev4","createFlowRendered"]}}}}},{handler:"sterling/advertiser/[advertiserId]/reporting/[entityType].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_DETAILS_PAGELOAD",id:218,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]},clientNavigation:{name:"STERLING_REPORTING_DETAILS_USER_NAV",id:227,constraints:["NavigationCompletev4","reportingTableRendered","reportingMetricsGraphDataFetched"]}}}}},{handler:"sterling/advertiser/[advertiserId].js",config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_REPORTING_OVERVIEW_PAGELOAD",id:219,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]},clientNavigation:{name:"STERLING_REPORTING_OVERVIEW_USER_NAV",id:226,constraints:["NavigationCompletev4","activeCampaignsTableRendered","accountActivityRendered"]}}}}},{handler:["sterling/advertiser/[advertiserId]/bulk_editor/[page].js"],config:{dWeb:{auth:{initialPageLoad:{name:"STERLING_BULKEDITOR_HISTORY_PAGELOAD",id:231,constraints:["NavigationCompletev4","bulkHistoryRendered"]},clientNavigation:{name:"STERLING_BULKEDITOR_HISTORY_USER_NAV",id:232,constraints:["NavigationCompletev4","bulkHistoryRendered"]}}}}}],a=[{handler:["www/pin/[id]/sent.js","www/pin/[id].js"],config:{mWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page"]},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["PinPageMainImageRendered"],annotateExperiments:["auth_mweb_graphql_pin_page","closeup_dweb_side_by_side_redesign_fast_follow"]}}},dWeb:{unauth:{initialPageLoad:{name:"PIN_PAGE_INTERACTIVE",id:113,constraints:["ReduxStoreInitialized","PinPageMainImageRendered"]},clientNavigation:{name:"client_route_push_unauth_pin",id:null,constraints:["PinPageMainImageRendered"]}},auth:{initialPageLoad:{name:"initial_page_load_auth_pin",id:null,constraints:["ReduxStoreInitialized","image","resource","button"],segments:{product_detail_page:{name:"PRODUCT_DETAILS_INTERACTIVE"},product_detail_page_plus:{name:"PRODUCT_DETAILS_PLUS_INTERACTIVE"}}},clientNavigation:{name:"PIN_CLOSEUP_DETAILS",id:13,constraints:["button","image","resource"],segments:{story_pin:{name:"STORY_PIN_CLOSEUP",constraints:["button","resource","image","video"]},product_detail_page:{name:"PRODUCT_DETAILS_RENDER",constraints:["button","description","image","shopButton","thumbnailsLoaded"]},product_detail_page_plus:{name:"PRODUCT_DETAILS_PLUS_RENDER",constraints:["button","description","image","shopButton","thumbnailsLoaded"]}}}}}}},{handler:["www/index.js","www/homefeed.js"],config:{unified:{auth:{initialPageLoad:{name:"HOME_FEED_PINTERACTIVE",id:19,constraints:["ReduxStoreInitialized","VisuallyComplete"],annotateExperiments:["web_sw_with_early_hydration","web_install_sw_on_unauth_landing","web_sw_early_registration"]},clientNavigation:{name:"HOME_FEED_RENDER",id:2,constraints:["VisuallyComplete"]}}}}},{handler:"www/search/[scope].js",config:{unified:{auth:{clientNavigation:{name:"SEARCH_FEED_RENDER",id:3,constraints:["VisuallyComplete"]}}}}},{handler:"www/search.js",config:{mWeb:{auth:{clientNavigation:{name:"SEARCH_TAB_RENDER",id:25,constraints:["RenderSearchLandingPageBubbles"]}}}}},{handler:"www/[username]/[slug].js",config:{unified:{unauth:{initialPageLoad:{name:"BOARD_PAGE_INTERACTIVE",id:114,constraints:["ReduxStoreInitialized","VisuallyComplete"]}},auth:{initialPageLoad:{name:"initial_app_load_auth_board",id:null,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"client_route_push_auth_board",id:null,constraints:["VisuallyComplete"]}}}}},{handler:"www/for-you/[boardId].js",config:{unified:{auth:{initialPageLoad:{name:"AUTOMAGICAL_BOARD_PAGE_INTERACTIVE",id:129,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/ideas/[interest]/[id].js",config:{unified:{unauth:{initialPageLoad:{name:"TOPIC_PAGE_INTERACTIVE",id:119,constraints:["ReduxStoreInitialized","idea_module_loaded"]}}}}},{handler:"www/business/hub.js",config:{dWeb:{auth:{initialPageLoad:{name:"BIZHUB_PINTERACTIVE",id:607,constraints:["ReduxStoreInitialized"]},clientNavigation:{name:"BIZHUB_PAGE_RENDER",id:608,constraints:["NavigationCompletev4"]}}}}},{handler:"www/pin/[id]/visual-search.js",config:{dWeb:{auth:{initialPageLoad:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]},clientNavigation:{name:"VISUAL_SEARCH_PAGE_RENDER",id:44,constraints:["VisualSearchImageRender","VisualSearchFeedRender"]}}}}},{handler:["www/[username].js","www/[username]/_boards.js","www/[username]/_created.js","www/[username]/_saved.js","www/[username]/_pins.js","www/[username]/_profile.js"],config:{unified:{auth:{initialPageLoad:{name:"OTHER_PROFILE_PAGE_LOAD",id:122,constraints:["ReduxStoreInitialized","VisuallyComplete"],segments:{self_profile:{name:"SELF_PROFILE_PAGE_LOAD"},other_profile_no_pins:{name:"OTHER_PROFILE_NO_PINS_PAGE_LOAD"},own_profile_no_pins:{name:"OWN_PROFILE_NO_PINS_PAGE_LOAD"},own_profile:{name:"OWN_PROFILE_PAGE_LOAD"}}},clientNavigation:{name:"OTHER_PROFILE",id:15,constraints:["VisuallyComplete"],segments:{self_profile:{name:"SELF_PROFILE"},own_profile:{name:"OWN_PROFILE"},own_profile_no_pins:{name:"OWN_PROFILE_NO_PINS"},other_profile_no_pins:{name:"OTHER_PROFILE_NO_PINS"}}}},unauth:{initialPageLoad:{name:"USER_PAGE_INTERACTIVE",id:115,constraints:["ReduxStoreInitialized","VisuallyComplete"]}}}}},{handler:"www/business/catalogs/[catalog_id]/data-sources.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_DATA_SOURCES_USER_NAV",id:228,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/product-groups.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_PRODUCT_GROUPS_USER_NAV",id:229,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/listings.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/business/catalogs/[catalog_id]/products.js",config:{dWeb:{auth:{clientNavigation:{name:"MERCHANT_CATALOGS_LISTINGS_USER_NAV",id:230,constraints:["NavigationCompletev4"]}}}}},{handler:"www/collage-creation-tool.js",config:{dWeb:{auth:{initialPageLoad:{name:"COLLAGE_CREATION_PAGE_LOAD",id:130,constraints:["ReduxStoreInitialized","VisuallyComplete"]},clientNavigation:{name:"COLLAGE_CREATION_USER_NAV",id:53,constraints:["VisuallyComplete"]}}}}}],r=t(409199),o=t(158503);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){var i,a;i=n,a=t[n],(i=function(e){var n=function(e,n){if("object"!=s(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!=s(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==s(n)?n:n+""}(i))in e?Object.defineProperty(e,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[i]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function c(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return d(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?d(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}var m=[].concat(c(a),c(i));function f(e){var n=e.isAuthenticated,t=e.isInitialPageLoad,i=e.isMobile,a=(0,o.q)(),s=m.find(function(e){return Array.isArray(e.handler)?e.handler.includes(a):a===e.handler}),l=null==s?void 0:s.config,c=null==l?void 0:l.unified;if(c||(c=i?null==l?void 0:l.mWeb:null==l?void 0:l.dWeb),c){var d=n?c.auth:c.unauth;if(d){if(t&&d.initialPageLoad)return(0,r.cY)("Found isInitialPageLoad config"),(0,r.cY)(d.initialPageLoad),u({},d.initialPageLoad);else if(!t&&d.clientNavigation)return(0,r.cY)("Found clientNavigation config"),(0,r.cY)(d.clientNavigation),u({},d.clientNavigation)}}return(0,r.cY)("No config found for ".concat(a," :(")),null}var v=function(e){var n,t,i=e.isAuthenticated,a=e.isInitialPageLoad,r=e.isMobile,o=e.segment,s=f({isAuthenticated:i,isInitialPageLoad:a,isMobile:r});return null!=(n="DEFAULT"===o?null==s?void 0:s.name:null==s||null==(t=s.segments)||null==(t=t[o])?void 0:t.name)?n:null}},227025(e,n,t){t.d(n,{sq:function(){return A},aA:function(){return w},Ay:function(){return T},kF:function(){return S},kN:function(){return o.A},Cf:function(){return I}});var i=t(686309),a=t(694108),r=t(255637),o=t(724548),s=t(411512),l=t(583937),u=t(877060),c=t(612911),d=t(519430),m=t(409199),f=t(404176),v=t(806367),p=t(670164),g=t(35839),_=t(158503);function y(e,n){var t="u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=h(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw r}}}}function E(e){return function(e){if(Array.isArray(e))return b(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){if(e){if("string"==typeof e)return b(e,n);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?b(e,n):void 0}}function b(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function A(){(0,m.cY)("Reset PWT configs"),(0,v.sq)(),(0,f.vz)()}function w(e){if((0,u.A)()){var n=(0,v.mw)(),t=(0,v.uS)();n?((0,m.S2)(e,n.name),t.includes(e)||((0,v.XX)(e),(0,m.cY)("Add constraint: ".concat(e)))):(0,m.J6)({errorName:"add_constraint_while_no_PWT_in_progress",errorDetailsTag:e})}}function I(e){if((0,u.A)()){var n=(0,v.mw)(),t=(0,v.uS)();if(n&&t.includes("VisuallyComplete"))if((0,m.cY)("Set visually complete result"),(0,m.cY)("Image resource timings: ",e),(0,v.R9)(e),0===e.length)(0,i.A)("visuallyComplete_noImages");else{var a=Math.max.apply(Math,E(e.map(function(e){return e.responseEnd||0})));performance.mark("complete_constraint__VisuallyComplete",{startTime:a}),(0,l.A)("constraint__VisuallyComplete",(0,v.Wj)(),a)}}}function S(e){if((0,u.A)()){var n=(0,v.mw)(),t=(0,v.e0)(),i=(0,v.Fg)();if(n&&n.name.toLowerCase()!==e.toLowerCase()){var a=[].concat(E(t),E(n.annotateExperiments||[])),r=(0,g.tQ)(),o=r.isAuthenticated,s=r.deviceType,l=(0,d.W)({isAuthenticated:o,isInitialPageLoad:"initial_app_load"===i,isMobile:"phone"===s,segment:e});if(!l){(0,m.cY)("Segment action name not found for segment: ".concat(e)),(0,m.J6)({errorName:"segment_action_name_not_found",errorDetailsTag:e});return}(0,m.HF)({abortReason:"segmentChange",pwtName:n.name,annotateExperiments:a});var c=n.segments,f=n.constraints,_=null==c?void 0:c[e],y=null==_?void 0:_.constraints;if(y){var h=new Set(y),b=new Set(f);E((0,v.uS)()).forEach(function(e){h.has(e)||(0,p.A)(e)}),y.forEach(function(e){b.has(e)||w(e)}),(0,v.nz)(h)}n.name=l,(0,m.cY)("Set segment to ".concat(e,". PWT action name: ").concat(l)),(0,m.Lc)({pwtName:n.name,annotateExperiments:[].concat(E(t),E(n.annotateExperiments||[]))})}else(0,m.J6)({errorName:"set_segment_while_no_PWT_in_progress",errorDetailsTag:e})}}function T(e){var n=e.requestContext;try{if(!(0,u.A)())return void(0,m.pI)({eventName:"unsupportedPWTBrowser"});(0,m.pI)({eventName:"supportedPWTBrowser"}),"function"==typeof(null==(d=performance)?void 0:d.setResourceTimingBufferSize)&&(null==(g=n.experimentsClient)||null==(g=g.checkExperiment("web_pwt_grid_profiler_v2"))?void 0:g.anyEnabled)&&performance.setResourceTimingBufferSize(500),(0,r.A)(i.A),E=i.A,a.A.onSessionPause(function(){return E("sessionPaused")});var t,o,d,p,g,E,h=new PerformanceObserver(function(e){e&&e.getEntries&&e.getEntries().forEach(function(e){if(e&&e.name&&!e.name.startsWith("--")){if(e.name.includes("complete_constraint__"))(0,c.A)(e.name.split("complete_constraint__")[1]||"",e.startTime);else if(e.name.startsWith("pwt__")){var n=e.name.slice(5);(0,f.Wg)()[n]||(0,f.ht)(n,{name:n,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});h.observe&&h.observe({type:"mark",buffered:!0});var b=new PerformanceObserver(function(e){e&&e.getEntries&&e.getEntries().forEach(function(e){if(e&&e.name&&!e.name.startsWith("--")){var n=(0,v.vs)();if(e.name.startsWith("pwt__")){var t=e.name.slice(5);n[t]||(n[t]={name:t,entryType:e.entryType,startTime:e.startTime,duration:e.duration})}}})});b.observe&&b.observe({type:"measure",buffered:!0});var A=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){var n=(window.navigator.connection||{}).rtt;if(n&&"number"==typeof n){var t=e.responseEnd-n/2;t>0&&(0,s.A)("client_chunkEndTime",t)}(0,l.A)("dom_complete",e.startTime,e.domComplete),(0,l.A)("dom_interactive",e.startTime,e.domInteractive),(0,l.A)("dom_content_loaded_event_end",e.startTime,e.domContentLoadedEventEnd),(0,l.A)("load_event_end",e.startTime,e.loadEventEnd),(0,l.A)("response_start",e.startTime,e.responseStart),(0,l.A)("response_duration",e.responseStart,e.responseEnd)})});A.observe&&A.observe({type:"navigation",buffered:!0});var w=new PerformanceObserver(function(e){e.getEntries().forEach(function(e){!(0,v.YH)()[e.identifier]&&((0,v.$G)(e.identifier,e),(e.identifier.includes("MainPinImage")||e.identifier.includes("closeupImage"))&&((0,l.A)("element_timing_".concat(e.identifier),0,e.renderTime),(0,s.A)("element_timing_".concat(e.identifier),e.renderTime)))})});w.observe({type:"element",buffered:!0});var I=[];null!=(p=n.experimentsClient)&&null!=(p=p.checkExperiment("web_soft_navigation_origin_trial"))&&p.anyEnabled&&(I=function(){var e=[];try{var n=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i=n.value,a=i.navigationId;a&&(0,m.AJ)({eventName:"soft_navigation",value:i.duration,tags:{navigationId:String(a),handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});n.observe({type:"soft-navigation",includeSoftNavigationObservations:!0,buffered:!0}),e.push(n);var t=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i=n.value,a=i.navigationId;a&&(0,m.AJ)({eventName:"soft_navigation.first_contentful_paint",value:i.startTime,tags:{navigationId:String(a),handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});t.observe({type:"first-contentful-paint",includeSoftNavigationObservations:!0,buffered:!0}),e.push(t);var i=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i,a=n.value,r=a.navigationId;r&&(0,m.AJ)({eventName:"soft_navigation.largest_contentful_paint",value:a.startTime,tags:{navigationId:String(r),size:String(null!=(i=a.size)?i:0),handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});i.observe({type:"largest-contentful-paint",includeSoftNavigationObservations:!0,buffered:!0}),e.push(i);var a=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i,a=n.value,r=a.navigationId,o=a.renderTime,s=a.loadTime,l=a.size;r&&(0,m.AJ)({eventName:"soft_navigation.interaction_contentful_paint",value:null!=(i=null!=o?o:s)?i:a.startTime,tags:{navigationId:String(r),size:String(null!=l?l:0),handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});a.observe({type:"interaction-contentful-paint",includeSoftNavigationObservations:!0,buffered:!0}),e.push(a);var r=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i=n.value,a=i.navigationId,r=i.value;a&&(0,m.Be)({eventName:"soft_navigation.layout_shift",value:(null!=r?r:0)*1e3,tags:{navigationId:String(a),handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});r.observe({type:"layout-shift",includeSoftNavigationObservations:!0,buffered:!0}),e.push(r);var o=new PerformanceObserver(function(e){var n,t=y(e.getEntries());try{for(t.s();!(n=t.n()).done;){var i=n.value,a=i.navigationId;a&&(0,m.AJ)({eventName:"soft_navigation.event_timing",value:i.duration,tags:{navigationId:String(a),name:i.name,handler:(0,_.q)()}})}}catch(e){t.e(e)}finally{t.f()}});o.observe({type:"event-timing",includeSoftNavigationObservations:!0,buffered:!0}),e.push(o),(0,m.cY)("Soft navigation observers initialized")}catch(e){(0,m.J6)({errorName:e})}return e}()),window.addEventListener("beforeunload",function(){h.disconnect(),A.disconnect(),w.disconnect(),I.forEach(function(e){return e.disconnect()})})}catch(e){(0,m.J6)({errorName:e instanceof Error?e.message:String(e)})}(0,v.Yp)(null!=(t=null==(o=n.experimentsClient)||null==(o=o.checkExperiment("web_log_generic_feed_pwt"))?void 0:o.anyEnabled)&&t)}},525525(e,n,t){t.d(n,{$Q:function(){return f},JT:function(){return v},Qj:function(){return m},Uy:function(){return d},oV:function(){return p},tL:function(){return g}});var i=t(157203),a=t(686309),r=t(724548),o=t(583937),s=t(877060),l=t(227025),u=t(806367),c=t(670164),d=function(e,n){(0,s.A)()&&(n?performance.mark("complete_constraint__".concat(e),{startTime:n}):performance.mark("complete_constraint__".concat(e)),(0,o.A)("constraint__".concat(e),(0,u.Wj)(),null!=n?n:performance.now()))},m=function(e){(0,a.A)(e)},f=function(e){(0,c.A)(e)},v=function(e){(0,l.kF)(e)},p=function(e){(0,i.useEffect)(function(){(0,l.kF)(e)},[e])},g=function(e,n,t){(0,r.A)(e,n,t)}},670164(e,n,t){t.d(n,{A:function(){return g}});var i=t(102335),a=t(236926),r=t(965562),o=t(663767),s=t(724548),l=t(877060),u=t(409199),c=t(404176),d=t(806367),m=t(35839),f=t(158503);function v(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"==typeof e)return p(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?p(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=Array(n);t<n;t++)i[t]=e[t];return i}function g(e){if((0,l.A)()){var n=(0,d.mw)();if(n){var t=(0,d.uS)().indexOf(e);if(t>-1){if((0,d.PX)(t),(0,u.cY)("Remove constraint: ".concat(e,". Remaining constraints: [").concat((0,d.uS)().join(", "),"]")),0===(0,d.uS)().length){var p=(0,d.qu)(),g=(0,d.Wj)(),_=p-g,y=[].concat(v((0,d.e0)()),v(n.annotateExperiments||[]));(0,u.ed)({pwtName:n.name,annotateExperiments:y}),(0,u.AJ)({eventName:n.name,value:_}),(0,u.AJ)({eventName:"complete",value:_,tags:{handler:(0,f.q)()}});var E=(0,m.tQ)(),h=(0,d.EZ)();if((0,d.OW)()&&(48===n.id||"FEED_RENDER"===n.name)){var b=(0,i.Cs)(),A=null==b?void 0:b.viewType,w=null==b?void 0:b.viewParameter;null==A||void 0===A||h["view.type"]||(0,s.A)("view.type",A,"I32"),null==w||void 0===w||h["view.parameter"]||(0,s.A)("view.parameter",w,"I32")}var I={type:"surface",surface:n.name,id:n.id,navigationType:(0,d.Fg)(),isAuthenticated:E.isAuthenticated},S=(0,d.v5)(),T=(0,a.I)({annotateExperiments:y,annotations:{},binaryAnnotations:(0,d.EZ)(),constraintMap:(0,d.Qh)(),endTime:p,imageTimings:(0,d.XA)(),isV4Logger:!0,metricId:I,pwtMeasures:(0,d.vs)(),pwtStaticContext:E,startTime:g,traceId:S,spans:[{name:"Report_PWT_Complete_".concat(n.name),startTime:g,endTime:p,annotationMap:{},binaryAnnotationMap:{},id:(0,o.A)(),parentId:S}]});(0,u.cY)("All constraints complete. ".concat(n.name," PWT completed at ").concat(Math.floor(p),"ms. PWT duration: ").concat(Math.floor(_),"ms")),(0,u.cY)("Result:",T),(0,r.A)({metricId:I,pwtStaticContext:E,result:T,isV4Logger:!0,annotateExperiments:y}),(0,d.sq)(),(0,c.vz)()}}else(0,u.J6)({errorName:"constraint_completed_not_in_PWT_constraint_list",pwtName:n.name,errorDetailsTag:e})}else(0,u.J6)({errorName:"remove_constraint_while_no_PWT_in_progress",errorDetailsTag:e}),(0,d.vp)(e)}}},120147(e,n,t){var i=t(157203);n.A=function(e,n){var t=(0,i.useRef)(function(){});(0,i.useEffect)(function(){t.current=e},[e]),(0,i.useEffect)(function(){if(null===n)return function(){};var e=setInterval(function(){return t.current()},n);return function(){return clearInterval(e)}},[n])}}}]);