"use strict";(self.legacyJsonp=self.legacyJsonp||[]).push([["3925"],{515097(e,r,t){t.r(r);var i,n={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FollowButton_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null}],type:"Pin",abstractKey:null};n.hash="cabaa35ed7d59dee006897bf3ef32e3d",r.default=n},720820(e,r,t){var i=t(460657),n=t(879667);r.A=function(e){var r=e.text;return(0,n.jsx)(i.az,{dangerouslySetInlineStyle:{__style:{textOverflow:"ellipsis",whiteSpace:"nowrap"}},"data-test-id":"line-clamp-wrapper",fit:!0,overflow:"hidden",children:r})}},644632(e,r,t){t.d(r,{A:function(){return _},r:function(){return u}});var i=t(157203),n=t(884963),o=t(102335),a=t(28019),s=t(467780);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach(function(r){var i,n;i=r,n=t[r],(i=function(e){var r=function(e,r){if("object"!=l(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=l(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==l(r)?r:r+""}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function u(e,r){var t=(0,o.x)().setViewContextData,l=(0,s._8)().requestIdentifier,c=(0,n.A)(),u=(0,o.WQ)().viewData;(0,i.useEffect)(function(){if(e){var r;t({viewType:null!=(r=e.view_type)?r:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,a.A)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),c(d(d({},e),{},{event_type:13,request_identifier:l}))}},[r])}function _(e){var r=e.children;return u(e.log),r||null}},922935(e,r,t){t.d(r,{A:function(){return i}});function i(e,r){return e.reduce(function(e,t){var i="function"==typeof r?r(t):t[r];return i in e||(e[i]=[]),e[i].push(t),e},{})}},996575(e,r,t){t.d(r,{A:function(){return _}});var i=t(370714),n=t(615300);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach(function(r){var i,n;i=r,n=t[r],(i=function(e){var r=function(e,r){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=o(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==o(r)?r:r+""}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var l=function(e,r){var t=r||0,i=Math.pow(10,t),n=+(t?e*i:e).toFixed(8),o=Math.floor(n),a=n-o,s=a>.49999999&&a<.50000001?o%2==0?o:o+1:Math.round(n);return t?s/i:s},c=function(e){var r=e.maximumFractionDigits,t=e.minimumFractionDigits,i=e.style,n=e.currency,o={maximumFractionDigits:r,minimumFractionDigits:t};return i?s(s({},o),{},{style:i},"currency"===i?{currency:n,currencyDisplay:"symbol"}:{}):o},d=function(e){try{0..toLocaleString([e])}catch(e){return!1}return!0},u=function(e,r){if(r){var t=new Intl.NumberFormat(e,{style:"currency",currency:r}).resolvedOptions(),i=t.minimumFractionDigits,n=t.maximumFractionDigits;if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}};function _(){var e=(0,i.A)();return function(r,t,i){var o=0,a=0,s=i&&i.style||void 0,_=i&&i.shortform||!1,g=i&&i.uplimit||void 0,h=i&&i.currency||void 0,p=!!g&&t>=g,m=g&&p?g:t;if("currency"===s){var f=u(r,h),y=f.minimumFractionDigits,b=f.maximumFractionDigits;o=void 0===i||void 0===i.maximum_fraction_digits?b:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?y:i.minimum_fraction_digits}else o=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits;if(_&&m>999&&(o=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),o<a)return String(m);var v=m,A="",P=[{"100m":{value:1e8,localeKey:e._('億', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('万', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],S=[{b:{value:1e9,localeKey:e._('b', 'Used in number formatting to abbreviate large values in billions.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('m', 'Used in number formatting to abbreviate large values in millions.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Used in number formatting to abbreviate large values in thousands.', 'Abbreviation for one thousand.')}}],I=/^zh|ja|ko/.test(r);if(_&&m>999)for(var O=I?P:S,E=0;E<O.length;E+=1){var x=Object.keys(O[E])[0],w=O[E][x].value;if(m>=w){v=l(m/w*Math.pow(10,o))/Math.pow(10,o),A=O[E][x].localeKey;break}}if(null==v)return"";var T=v.toLocaleString([d(r)&&"ar-SA"!==r?r:"en-US"],c({maximumFractionDigits:o,minimumFractionDigits:a,currency:h,style:s}));return A&&A.length>0?(0,n.A)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:T,numberSuffix:A})+(p?"+":""):T+(p?"+":"")}}},25711(e,r,t){var i,n,o=t(132946);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r,t){return(r=l(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function l(e){var r=function(e,r){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=a(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==a(r)?r:r+""}var c={carousel:{authOnly:!0,partnerOnly:!0},disabledIdeaPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_idea_pins|disable_video)/,authOnly:!0,partnerOnly:!1},disabledPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_web_pins)/,authOnly:!0,partnerOnly:!1},disabledVideoPinCreation:{experiment:"disable_pin_creation",groups:/(disable_all|disable_video)/,authOnly:!0,partnerOnly:!1},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"]},shop_the_pin:{authOnly:!0,partnerOnly:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,groups:/^(employees|enabled)/,scenarios:["story_pin_v2"]},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},video:{customEnabledCheck:function(e){var r=e.user;return!!(null!=r&&r.video_upload_allowed)},authOnly:!0,hasCustomEnabledCheck:function(){return!0}},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"]},pinQuality:{partnerOnly:!0},ideaPinProductTagging:{authOnly:!0,experiment:"web_idea_pin_product_tagging",groups:/^(employees|enabled)/,partnerOnly:!1,scenarios:["story_pin_v2"]},pinItemBase64:{authOnly:!0,experiment:"aid_exp_pin_builder_item_base64",groups:/^(employees|enabled)/}};r.A=new(i=function e(){if(!(this instanceof e))throw TypeError("Cannot call a class as a function");s(this,"_experiments",null),s(this,"_viewer",null),s(this,"_advertiser",null),s(this,"_scenario",null),s(this,"_language",null),s(this,"_context",null),s(this,"_orbacActingAs",null)},n=[{key:"initialize",value:function(e){var r=e.requestContext,t=e.viewer,i=e.location,n=e.advertiser,a=e.scenario,s=e.orbacActingAs;this._context=e,this._experiments=r.experimentsClient,this._language=r.language,this._viewer=t,this._advertiser=n,this._orbacActingAs=s;var l=(0,o.A)(i.search).adCreate;a?this._scenario=a:l?this._scenario="ad_creation":this._scenario="default"}},{key:"scenario",value:function(){return this._scenario}},{key:"enabled",value:function(e){if(!this._viewer||!this._experiments)return!1;var r,t=c[e],i=t.advertisers,n=t.authOnly,o=t.customEnabledCheck,a=t.experiment,s=t.groups,l=t.hasCustomEnabledCheck,d=t.languages,u=t.orbacDisabled,_=t.partnerOnly,g=t.scenarios,h=t.skipActivation,p=this._viewer.isAuth?this._viewer.id:void 0;return(null==(r=this._orbacActingAs)||!r.id||this._orbacActingAs.id===p||!u)&&(l&&o&&this._context&&l(this._context)?!!this._context&&o(this._context):h&&this._experiments?!!a&&this.checkExperimentWithSkipActivation(e):!!i&&!!this._advertiser&&null!==this._advertiser.billing_type||(!this._viewer||!n||!!this._viewer.isAuth)&&(!this._viewer||!_||!!(this._viewer.isAuth&&this._viewer.isPartner))&&(!g||!!g.includes(this._scenario))&&(!d||!!d.includes(this._language))&&(!a||(void 0===s?/.*/:s).test(this.getExperimentGroup(e)||"")))}},{key:"getExperimentGroup",value:function(e){if(!this._viewer||!this._experiments)return null;var r,t,i,n,o,a,s,l,c=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(r=c("disable_pin_creation").group)?r:null;case"disabledPinCreation":return null!=(t=c("disable_pin_creation").group)?t:null;case"disabledVideoPinCreation":return null!=(i=c("disable_pin_creation").group)?i:null;case"imageSignals":return null!=(n=c("pin_quality_signal_image").group)?n:null;case"tagging":return null!=(o=c("web_pin_builder_tagging").group)?o:null;case"videoEditing":return null!=(a=c("video_edit").group)?a:null;case"ideaPinProductTagging":return null!=(s=c("web_idea_pin_product_tagging").group)?s:null;case"pinItemBase64":return null!=(l=c("aid_exp_pin_builder_item_base64").group)?l:null;default:return null}}},{key:"checkExperimentWithSkipActivation",value:function(e){if(!this._viewer||!this._experiments)return!1;var r,t,i,n,o,a,s=this._experiments.checkExperiment;switch(e){case"disabledIdeaPinCreation":return null!=(r=s("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&r;case"disabledPinCreation":return null!=(t=s("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&t;case"disabledVideoPinCreation":return null!=(i=s("disable_pin_creation",{dangerouslySkipActivation:!0}).anyEnabled)&&i;case"imageSignals":return null!=(n=s("pin_quality_signal_image",{dangerouslySkipActivation:!0}).anyEnabled)&&n;case"tagging":return null!=(o=s("web_pin_builder_tagging",{dangerouslySkipActivation:!0}).anyEnabled)&&o;case"videoEditing":return null!=(a=s("video_edit",{dangerouslySkipActivation:!0}).anyEnabled)&&a;default:return!1}}}],function(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}(i.prototype,n),Object.defineProperty(i,"prototype",{writable:!1}),i)},886598(e,r){r.A=2},104971(e,r,t){t.d(r,{A:function(){return i}});function i(e,r){var t=null!=r&&r.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(t,function(e,r){return"_"+r.toLowerCase()})}},715049(e,r){r.A=function(){return window.location.pathname}},467066(e,r,t){t.d(r,{A:function(){return s}});var i=t(361268),n=t(914981),o=t(25711);function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function s(e,r,t,s){switch(e){case"FILE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"FILE_UNRECOGNIZED_TYPE",type:"error",message:r._('Your upload failed because it\'s the wrong format.', 'vip.errorMessaging.message', 'Error message uploading a file format that is not supported.'),blocking:!0};case"IMAGE_OVER_MAX_DIMENSIONS":return{dispatchId:t,id:"IMAGE_OVER_MAX_DIMENSIONS",type:"error",message:r._('This image is too large and can\'t be uploaded. Please try a smaller image size.', 'vip.errorMessaging.message', 'Error message uploading an image file that is too large'),blocking:!0};case"IMAGE_UNDER_MIN_DIMENSIONS":var l,c=function(e){if(Array.isArray(e))return e}(l=o.A.enabled("pinQuality")||null!=s&&s.isStoryPin?[300,200]:[100,100])||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next;!(l=(i=o.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(l,0)||function(e,r){if(e){if("string"==typeof e)return a(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,2):void 0}}(l,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),d=c[0],u=c[1];return{dispatchId:t,id:"IMAGE_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.vQ)(r._('Hmm...this image is too small. Make sure your images are at least {{ minWidth }} x {{ minHeight }} {{ pixelString }}.', 'vip.errorMessaging.minImageMessage', 'Error message when uploading an image file that is smaller than the supported height and width.'),{minHeight:d,minWidth:u,pixelString:r.ngettext('pixel', 'pixels', u, 'pinBuilder.errorMessaging.pixel', 'Label for number of pixels')}).join(""),blocking:!0};case"IMAGE_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"IMAGE_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(r.ngettext('This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 'This image is too large and can\'t be uploaded. Images can\'t be larger than {{max_size_mb}}MB', 20, 'vip.errorMessaging.message', 'Error message when uploading an image file larger than the supported size'),{max_size_mb:20}).join(""),blocking:!0};case"IMAGE_UNRECOGNIZED_TYPE":return{dispatchId:t,id:"IMAGE_UNRECOGNIZED_TYPE",type:"error",message:r._('This image type is invalid - please make sure the image is natively .jpg or .png', 'vip.errorMessaging.message', 'Error message uploading an image that is malformed in some way'),blocking:!0};case"VIDEO_UNDER_MIN_DIMENSIONS":return{dispatchId:t,id:"VIDEO_UNDER_MIN_DIMENSIONS",type:"error",message:(0,i.vQ)(r.ngettext('This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixel', 'This video is too small and can\'t be uploaded. Videos must have a height and width larger than {{min_size_video}} pixels', 100, 'vip.errorMessaging.message', 'Error message when uploading an video file that is smaller than the supported height and width.'),{min_size_video:100}).join(""),blocking:!0};case"VIDEO_BELOW_MIN_DURATION":var _=Math.floor(4);return{dispatchId:t,id:"VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.vQ)(r.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', _, 'vip.errorMessaging.message', 'Error message uploading a video file that is shorter than required seconds.'),{minVideoLengthSeconds:_}).join(""),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var g=n.iy;return{dispatchId:t,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,i.vQ)(r.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minStoryPinVideoLengthSeconds}} seconds.', g, 'vip.errorMessaging.storyPinVideoBelowMin.message', 'Error message uploading a video file that is shorter than required seconds.'),{minStoryPinVideoLengthSeconds:g}).join(""),blocking:!0};case"VIDEO_COVER_INVALID_ASPECT_RATIO":return{dispatchId:t,id:"VIDEO_COVER_INVALID_ASPECT_RATIO",type:"error",message:r._('The video\'s cover image must be of the same dimensions as the video itself', 'vip.errorMessaging.message', 'Error message when uploading cover image with non matching dimensions to video'),blocking:!0};case"VIDEO_GENERAL_UPLOAD_ERROR":return{dispatchId:t,id:"VIDEO_GENERAL_UPLOAD_ERROR",type:"error",message:r._('Hmm, your upload failed for some reason. Please try again.', 'vip.errorMessaging.message', 'Error message uploading a video file and the process fails'),blocking:!0};case"VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.vQ)(r.ngettext('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minute.', 'This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_minutes}} minutes.', 15, 'vip.errorMessaging.message', 'Error message uploading a video file that is longer than required minutes.'),{max_video_length_minutes:15}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_DURATION":return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_DURATION",type:"error",message:(0,i.vQ)(r._('This video is too long and can\'t be uploaded. Videos can\'t be longer than {{max_video_length_seconds}} seconds.', 'vip.errorMessaging.message', 'Error message uploading a story pin video file that is longer than limit in seconds. max_video_length_seconds: Integer representing the max video length'),{max_video_length_seconds:Math.floor(n.AG)}).join(""),blocking:!0};case"VIDEO_OVER_MAX_FILE_SIZE":return{dispatchId:t,id:"VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(r.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{max_video_size_gb}}GB.', 2, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required gigabytes.'),{max_video_size_gb:2}).join(""),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var h=n.L3/1024/1024;return{dispatchId:t,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,i.vQ)(r.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', h, 'vip.errorMessaging.message', 'Error message uploading a video file larger than required megabytes. maxVideoFileSize: max video size for videos attempting to upload'),{maxVideoFileSize:h}).join(""),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING",type:"error",message:r._('This video isn\'t encoded in H.264', 'vip.errorMessaging.message', 'Error message uploading a video file that is malformed (generic error message)'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_CHROME",type:"error",message:r._('This video isn\'t encoded in H.264 or H.265.  Please use Safari if you want to upload ProRes videos.', 'vip.errorMessaging.message.chrome', 'Error message uploading a video file that is malformed from Chrome'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_FIREFOX",type:"error",message:r._('This video isn\'t encoded in H.264.  Please use Safari if you want to upload H.265 or ProRes videos.', 'vip.errorMessaging.message.firefox', 'Error message uploading a video file that is malformed from Firefox'),blocking:!0};case"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI":return{dispatchId:t,id:"VIDEO_UNRECOGNIZED_ENCODING_IN_SAFARI",type:"error",message:r._('This video isn\'t encoded in H.264 or H.265 or ProRes.', 'vip.errorMessaging.message.safari', 'Error message uploading a video file that is malformed from Safari'),blocking:!0};case"VIDEO_UNSUPPORTED_RATIO":return{dispatchId:t,id:"VIDEO_UNSUPPORTED_RATIO",type:"error",message:r._('This video is too tall or narrow and can\'t be uploaded. Videos need to be between 1:2 and 1.91:1 aspect ratio.', 'vip.errorMessaging.message', 'Error message uploading a video file that is not a supported aspect ratio'),blocking:!0};default:return{dispatchId:t,id:"GENERAL_ERROR",type:"error",message:r._('Hmm, something went wrong. Please try again.', 'vip.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}},75966(e,r){r.A={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},731682(e,r,t){t.d(r,{A:function(){return w}});var i,n=t(157203);t(745917);var o=t(460657),a=t(884963),s=t(837855),l=t(816858),c=t(370714),d=t(805454),u=t(17036),_=t(3210),g=t(822164),h=t(481989),p=t(993641),m=t(666971),f=t(991224),y=t(891546),b=t(804952),v=t(476141),A=t(896972),P=t(167841),S=t(312032),I=t(879667);function O(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}var E=function(e){var r=e.children,t=e.pulsar,i=e.testId;return t.show?(0,I.jsx)(o.az,{"data-test-id":i,position:"relative",children:(0,I.jsxs)(o.Rp,{onTap:t.onClick,tapStyle:"none",children:[(0,I.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-75px"}},marginTop:-5,position:"absolute",children:r}),(0,I.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginLeft:"-83px"}},marginTop:-12,position:"absolute",children:(0,I.jsx)(o.EV,{})})]})}):(0,I.jsx)(o.az,{"data-test-id":i,children:r})},x=(void 0!==i||(i=t(515097)).hash&&"cabaa35ed7d59dee006897bf3ef32e3d"!==i.hash&&console.error("The definition of 'FollowButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i);function w(e){var r,t,i=e.auxData,w=e.disabled,T=e.disableLog,z=e.followEventType,j=e.id,k=e.inline,C=e.invertColors,R=e.isFollowed,B=e.isIdeaPin,L=e.isLegoEnabled,M=e.isSecondaryButton,N=e.isUserFollowButton,D=e.isUserMe,F=e.onFollow,U=e.onUnfollow,V=e.pinKey,G=e.shouldUseLegoColors,H=e.showPulsar,Y=e.size,W=e.textType,J=void 0===W?"FollowFollowing":W,q=e.unfollowEventType,K=e.viewParameter,X=e.viewType,Q=e.clientTrackingParams,Z=(0,c.A)(),$=(0,f.qJ)(),ee=(0,h.CG)().showToast,er=(0,g.A)(),et=(0,a.A)(),ei=(0,u.A)(),en=(0,d.A)().checkExperiment,eo=(0,v.A)(),ea=(0,s.A)(),es=ea&&ea.isAuth,el=(0,S.H)(),ec=el.unauthFollowUserId,ed=el.setUnauthFollowUserId,eu=(0,A.DF)()(j),e_=(0,p.A)(),eg=function(e){if(Array.isArray(e))return e}(r=(0,n.useState)(R))||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next;!(l=(i=o.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(r,0)||function(e,r){if(e){if("string"==typeof e)return O(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?O(e,2):void 0}}(r,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),eh=eg[0],ep=eg[1],em=eu&&{imageMediumUrl:eu.image_medium_url,username:eu.username},ef=(0,l.A)(x,V),ey=null==ef?void 0:ef.linkDomain,eb=null==ef?void 0:ef.nativeCreator,ev=null==ef?void 0:ef.originPinner,eA=null==ef?void 0:ef.pinner;t=eb||(ey?ey.officialUser:ev||eA);var eP=null!=em?em:t;(0,y.A)(function(){!$&&es&&ec&&j&&ec===j&&F(j)});var eS=eo({fn:function(){if(es)eh?(U(j),ep(!1),T||et({event_type:q,view_type:X,view_parameter:K,object_id_str:j,aux_data:i,clientTrackingParams:Q})):(F(j),ep(!0),N&&ee(function(e){var r=e.hideToast,t=null!=eP&&eP.username?"/".concat(eP.username,"/"):"";return(0,I.jsx)(P.A,{handleHide:r,href:t,imageUrl:(null==eP?void 0:eP.imageMediumUrl)||"",text:(0,I.jsx)(o.KJ,{lineClamp:4,children:Z._('Following! Their created Pins will show up in your home feed!', 'followButton.follow.informationalToastText', 'Text explaining that a creator\'s Pins will show up in home feed after follow')}),userId:j})}),T||et({event_type:z,view_type:X,view_parameter:K,object_id_str:j,aux_data:i,clientTrackingParams:Q}));else{if((0,_.uq)(eh?"press_profile_unfollow":"press_profile_follow"),er({action:"click",item:eh?"unfollow-button":"follow-button"}),en("migration_upsell_manager_redux").anyEnabled||en("migration_upsell_manager_redux_dweb").anyEnabled||en("migration_upsell_manager_redux_mweb").anyEnabled||en("migration_upsell_manager_redux_dweb_global").anyEnabled||en("migration_upsell_manager_redux_mweb_global").anyEnabled)if($){var e=en("pcons_dweb_contextual_follow_modal").anyEnabled;e_((0,m.Vl)(!!B,e))}else{var r=en("pcons_mweb_contextual_follow_modal").anyEnabled;e_((0,m.Ll)(!!B,r))}else ei({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:B?"click_idea_pin_follow":"click_follow",desktopOptions:{modalType:"signup",modalOptions:$&&en("pcons_dweb_contextual_follow_modal").anyEnabled?{source:"followButton",container:"follow"}:void 0},mobileOptions:!$&&en("pcons_mweb_contextual_follow_modal").anyEnabled?{headingType:"follow"}:void 0});$||ed(null!=j?j:""),(0,_.uq)("clickthrough")}},modalHeader:(0,b.Bh)({i18n:Z,toFollow:!eh})}),eI=!eh&&!!H,eO=function(){if(D)return Z._('That\'s you!', 'Follow button is disabled because this is you', 'Follow button is disabled because this is you');if("AddRemove"===J)return eh?Z._('Remove', 'unfollowButton.removeText', 'Follow button label - followed state, so user can click to "remove" the follow'):Z._('Add', 'followButton.addText', 'Follow button label - unfollowed state, so user can click to "add" the follow');var e="FollowUnfollow"===J?Z._('Unfollow', 'unfollowButton.unfollowText', 'Follow button label - followed state, so user can click to "unfollow" the follow'):Z._('Following', 'Follow button label - followed state', 'Follow button label - followed state');return eh?e:Z._('Follow', 'Follow button label - unfollowed state', 'Follow button label - unfollowed state')};return(0,I.jsx)(E,{pulsar:eI?{show:!0,onClick:eS}:{show:!1},testId:D||eh?"board-unfollow-button":"board-follow-button",children:(0,I.jsx)(o.$n,{accessibilityLabel:eO(),color:G||"AddRemove"===J||!L&&M||C?"secondary":"primary",disabled:D||w,fullWidth:k,onClick:eI?void 0:function(e){var r=e.event;r.preventDefault(),r.stopPropagation(),T||et({event_type:101,component:13672,element:11951,object_id_str:j,view_type:X,view_parameter:K,aux_data:i,clientTrackingParams:Q}),eS()},selected:eh||!1,size:Y,text:eO()})})}},284147(e,r,t){t.d(r,{A:function(){return p}});var i=t(460657),n=t(884963),o=t(365506),a=t(370714),s=t(132035),l=t(18221),c=t(155357),d=t(482241),u=t(478410),_=t(259543),g=t(879667),h=function(e){var r=e.children,t=e.eventHandlers,o=t.onBlur,a=t.onFocus,c=t.onMouseDown,d=t.onMouseEnter,u=t.onMouseLeave,_=t.onMouseUp,h=e.role,p=e.url,m=e.contextData,f=e.onClick,y=e.onMouseDown,b=e.onMouseEnter,v=e.onTap,A=(0,n.A)(),P=(0,l.A)({href:p||"",onHistoryChange:s.A}),S=function(e){m&&A(m),f&&f(e)};return"link"===h?(0,g.jsx)(i.$A,{href:p||"",onBlur:o,onFocus:function(){a()},onMouseDown:function(){c(),null==y||y()},onMouseEnter:function(){d(),null==b||b()},onMouseLeave:function(){u()},onMouseUp:_,onTap:function(e){var r=e.event;(0,e.dangerouslyDisableOnNavigation)(),S(r),p&&P({event:r}),null==v||v()},rounding:600,children:r}):(0,g.jsx)(i.Rp,{onBlur:o,onFocus:a,onMouseDown:function(){c(),null==y||y()},onMouseEnter:function(){d(),null==b||b()},onMouseLeave:u,onMouseUp:_,onTap:function(e){var r=e.event;S(r),p&&P({event:r})},role:"button",rounding:600,children:r})};function p(e){var r=e.contextData,t=e.dataTestId,n=e.iconEnd,s=e.isSelected,l=e.onClick,p=e.onMouseDown,m=e.onTap,f=e.role,y=e.showNotifBadge,b=void 0!==y&&y,v=e.text,A=e.navigateTo,P=(0,a.A)(),S=(0,c.A)(),I=S.active,O=S.hovered,E=S.onBlur,x=S.onFocus,w=S.onMouseDown,T=S.onMouseEnter,z=S.onMouseLeave,j=S.onMouseUp,k=(0,o.Du)(d.hl),C=(0,u.R)().preload,R=function(){if((null==A?void 0:A.kind)==="Entrypoint"){var e=A.preloadExtent;if("None"!==e)return function(){return C(A.route,e)}}return null}(),B=(null==A?void 0:A.kind)==="Entrypoint"?(0,_.P)(A.route):(null==A?void 0:A.kind)==="Legacy"?A.url:null;return(0,g.jsx)(i.az,{"data-test-id":t,flex:"none",height:48,minWidth:60,rounding:600,children:(0,g.jsx)(h,{contextData:r,eventHandlers:{onBlur:E,onFocus:x,onMouseDown:w,onMouseEnter:T,onMouseLeave:z,onMouseUp:j},onClick:function(e){null==l||l(e),b&&k.completeExperience(d.hl,d.St)},onMouseDown:null!=p?p:null,onMouseEnter:R,onTap:m,role:void 0===f?"link":f,url:B,children:(0,g.jsx)(i.az,{color:s||I?"selected":O?"secondary":void 0,dangerouslySetInlineStyle:{__style:{backgroundColor:I&&!s?"#D2D2D2":void 0,whiteSpace:"nowrap"}},flex:"none",height:48,minWidth:60,paddingX:4,rounding:600,children:(0,g.jsxs)(i.so,{alignItems:"center",height:"100%",justifyContent:"center",children:[(0,g.jsx)(i.KJ,{align:"center",color:s?"inverse":"default",inline:!0,overflow:"normal",weight:"bold",children:v}),n&&(0,g.jsx)(i.az,{marginStart:2,children:(0,g.jsx)(i.In,{accessibilityLabel:"",color:s?"inverse":"default",icon:n,size:12})}),b&&(0,g.jsx)(o.Je,{eligibleIds:[d.St],placementId:d.hl,children:(0,g.jsx)(i.C1,{accessibilityLabel:P._('Notifications', 'header.headerTab.notifBadge', 'accessibility label for icon indicating the header tab has notifications')})})]})})})})}},319833(e,r,t){var i=t(157203),n=t(677002),o=t(912272);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach(function(r){var i,n;i=r,n=t[r],(i=function(e){var r=function(e,r){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=a(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==a(r)?r:r+""}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function c(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}r.A=function(){var e,r=function(e){if(Array.isArray(e))return e}(e=(0,i.useState)({searchIconOnly:!1,shrinkSearchBox:!1}))||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next;!(l=(i=o.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(e,0)||function(e,r){if(e){if("string"==typeof e)return c(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(e,2):void 0}}(e,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),t=r[0],a=t.shrinkSearchBox,s=t.searchIconOnly,d=r[1];return(0,i.useEffect)(function(){var e=(0,n.A)(function(){var e=document.getElementById(o.rv);if(e){var r=300>=(e.offsetWidth||0);window.innerWidth<850?d({searchIconOnly:r,shrinkSearchBox:!0}):a?d({searchIconOnly:!1,shrinkSearchBox:!1}):d(function(e){return l(l({},e),{},{searchIconOnly:r})})}},100);return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[a]),{shrinkSearchBox:a,searchIconOnly:s}}},427772(e,r,t){t.d(r,{_:function(){return a}});var i={á:"a",à:"a",â:"a",ä:"a",ã:"a",å:"a",æ:"a",ç:"c",é:"e",è:"e",ê:"e",ë:"e",í:"i",ì:"i",î:"i",ï:"i",ñ:"n",ó:"o",ò:"o",ô:"o",ö:"o",õ:"o",ø:"o",œ:"o",ß:"s",ú:"u",ù:"u",û:"u",ü:"u"},n=function(e){if(!e)return"";for(var r="",t=0;t<e.length;t+=1)r+=i[e.charAt(t)]||e.charAt(t);return r},o=function(e,r){for(var t=r.split(" "),i=e.split(" "),o=0,a=0;a<i.length;a+=1)(n(i[a]).includes(t[o])||i[a].includes(t[o]))&&(o+=1);return o===t.length},a=function(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"name",i=r.toLowerCase();return e.filter(function(e){return o(e[t].toLowerCase(),i)})}},50166(e,r,t){t.d(r,{$6:function(){return c},$e:function(){return a},BS:function(){return n},CT:function(){return d},RG:function(){return o},d8:function(){return s},k4:function(){return l}});var i=t(460657),n=new i.rk(1),o=new i.rk(3),a=2,s=new i.rk(a),l=3,c=new i.rk(100),d=new i.K5([c])},629342(e,r,t){t.d(r,{Ah:function(){return eh},Pc:function(){return eb},FE:function(){return ey},K$:function(){return eA},cC:function(){return ev}});var i=t(157203),n=t(106386),o=t(319722),a=t(460657),s=t(186122),l=t(752411),c=t(837855),d=t(370714),u=t(227581),_=t(361268),g=t(805454),h=t(467780),p=t(204597),m=t(799632),f=t(886598),y=t(745764),b=t(667576),v=t(75966),A=t(50166),P=t(891546),S=t(879667);function I(e){var r=e.children,t=e.headingLevel,i=e.textWeight,n=e.size,o="100"===n?"200":n,s="500"===n||"600"===n?"400":n;return(0,S.jsx)(a._Y,{accessibilityLevel:t,size:o,children:(0,S.jsx)(a.KJ,{inline:!0,size:s,weight:void 0===i?"normal":i,children:r})})}function O(e){var r=e.boardPickerSuggestedBoards,t=e.clientTrackingParams,i=e.headingLevel,n=e.imageSignature,o=e.index,l=e.item,c=e.pinId,d=e.saveSessionId,u=e.surfaceOriginViewParameter,_=e.useLegoLayout,g=(0,s.o)().logContextEvent;return(0,P.A)(function(){"shortlist"===l.category&&g({aux_data:{board_picker_surface_origin:u,board_picker_suggested_boards:r,image_signature:n,pin_id:c,save_session_id:d},event_type:13,clientTrackingParams:t,view_type:21,view_parameter:3988})}),(0,S.jsx)(a.az,{marginTop:o>0?2:1,paddingX:_?4:3,paddingY:1,children:(0,S.jsx)(I,{headingLevel:void 0===i?3:i,size:_?"100":"200",children:l.title})})}var E=t(350762),x=t(394841);function w(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function T(e){var r,t=e.accessibilityLabelText,n=e.board,o=e.boardPickerSuggestedBoards,l=e.buttonText,c=e.clientTrackingParams,u=e.displayAlreadySavedMsg,_=e.gridIndex,g=e.imageSignature,h=e.isSectionOpen,p=e.onButtonClick,m=e.onClick,f=e.pinId,y=e.saveSessionId,b=e.shouldOpenSections,v=void 0===b||b,A=e.showSaveToProfile,P=e.showFlyoutSaveButton,I=e.surfaceOriginViewParameter,O=e.useLegoLayout,T=(0,s.o)().logContextEvent,z=(0,d.A)(),j=function(e){if(Array.isArray(e))return e}(r=(0,i.useState)(!1))||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next;!(l=(i=o.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(r,0)||function(e,r){if(e){if("string"==typeof e)return w(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?w(e,2):void 0}}(r,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),k=j[0],C=j[1],R=(0,i.useRef)(null),B=!!n.section_count&&n.section_count>0,L=B?"boardWithSection":"boardWithoutSection",M=n||{},N=M.images,D=M.image_cover_url,F=!(null!=D&&D.includes("custom"))&&N&&N["75x75"]&&N["75x75"][N["75x75"].length-1].url||D;(0,i.useEffect)(function(){"boardless"===n.type&&T({aux_data:{board_index:_,board_picker_surface_origin:I,board_picker_suggested_boards:o,image_signature:g,pin_id:f,save_session_id:y},clientTrackingParams:c,event_type:13,view_parameter:3990,view_type:21})},[]),(0,i.useEffect)(function(){R.current&&h&&B&&R.current.focus()},[R,h,B]);var U=function(){m(n)};return(0,S.jsx)(a.az,{"data-test-id":L,role:"listitem",children:(0,S.jsx)(a.Rp,{ref:R,dataTestId:h&&B?"board-row-input":void 0,onBlur:function(){C(!1)},onFocus:function(){C(!0)},onMouseEnter:function(){C(!0)},onMouseLeave:function(){C(!1)},onTap:U,children:(0,S.jsxs)(a.az,{alignItems:"center",color:k?"secondary":"default","data-test-id":"board-row-".concat(n.name||""),display:"flex",height:O?64:52,marginBottom:+!O,marginEnd:O?2:3,marginStart:O?2:3,marginTop:+!O,padding:2*!!O,rounding:300,children:[(0,S.jsxs)(a.az,{"aria-hidden":"true",flex:"none",height:O?48:36,marginBottom:+!O,marginEnd:O?2:3,marginStart:2*!O,marginTop:+!O,overflow:"hidden",width:O?48:36,children:[A&&"boardless"===n.type&&(0,S.jsx)(a.n1,{height:"100%",rounding:200,width:"100%",children:(0,S.jsx)(a.az,{alignItems:"center",color:k?"default":"secondary",display:"flex",height:"100%",justifyContent:"center",width:"100%",children:(0,S.jsx)(a.az,{children:(0,S.jsx)(a.In,{accessibilityLabel:"",color:"default",icon:"clock-history",size:24})})})}),F&&!v&&(0,S.jsx)(a.n1,{height:O?48:36,rounding:200,wash:!0,width:O?48:36,children:(0,S.jsx)(a._V,{alt:"",fit:"cover",naturalHeight:O?48:36,naturalWidth:O?48:36,src:F})}),F&&v?(0,S.jsx)(a.n1,{height:O?48:36,rounding:200,wash:!0,width:O?48:36,children:(0,S.jsx)(a._V,{alt:"",fit:"cover",naturalHeight:O?48:36,naturalWidth:O?48:36,src:F})}):(0,S.jsx)(a.n1,{height:O?48:36,rounding:200,width:O?48:36,children:(0,S.jsx)(a.az,{color:v?"secondary":"transparent",height:"100%",width:"100%"})})]}),(0,S.jsxs)(a.az,{flex:"grow",marginStart:+!O,overflow:"hidden",paddingY:1,children:[(0,S.jsx)(a.KJ,{lineClamp:1,overflow:"breakAll",weight:v||!v?"bold":"normal",children:n.name}),u&&(0,S.jsx)(a.az,{marginTop:1,children:(0,S.jsx)(a.KJ,{align:"start",color:"default",size:"100",children:z._('Saved here already', 'BoardFlyout.AlreadySaved.Message', 'Text that indicates if a pin has been already saved to a board')})})]}),(0,S.jsxs)(a.so,{alignItems:"center",gap:2,children:[(0===n.section_count||!v)&&(void 0===P||P)&&(0,S.jsx)(a.az,{"data-test-id":"board-row-save-button-container",flex:"none",opacity:100*!!k,children:(0,S.jsx)(a.$n,{accessibilityLabel:t||z._('save', 'boardRow.saveButton', 'Default accessibility label for the board row save button'),color:"primary","data-test-id":"board-row-save-button",onClick:function(e){var r=e.event;U(),p&&p(),r.stopPropagation()},tabIndex:-1,text:l||z._('Save', 'save button', 'save button')})}),n&&!h?(0,S.jsx)(a.az,{marginEnd:2*!O,children:(0,S.jsx)(x.A,{board:n,showCollaborativeIcon:!!n.is_collaborative,showPrivateIcon:n.privacy===E.A.BoardPrivacy.SECRET,showProtectedIcon:n.privacy===E.A.BoardPrivacy.PROTECTED,showSectionsIcon:B&&v,useLegoLayout:O})}):null]})]})})})}var z=t(251381),j=t(506698);function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function R(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?C(Object(t),!0).forEach(function(r){N(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function B(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(B=function(){return!!e})()}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,r){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function N(e,r,t){return(r=D(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function D(e){var r=function(e,r){if("object"!=k(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=k(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==k(r)?r:r+""}var F=function(e){var r;function t(){var e,r,n;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return r=t,n=[].concat(a),r=L(r),N(e=function(e,r){if(r&&("object"==k(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,B()?Reflect.construct(r,n||[],L(this).constructor):r.apply(this,n)),"state",{hovered:!1}),N(e,"handleMouseEnter",function(){e.setState({hovered:!0})}),N(e,"handleMouseLeave",function(){e.setState({hovered:!1})}),N(e,"handleTouch",function(){var r=e.props,t=r.board;(0,r.onClick)(r.section,t)}),N(e,"handleButtonClick",function(r){var t=r.event,i=e.props.onButtonClick;e.handleTouch(),i&&i(),t.stopPropagation()}),N(e,"tapAreaRef",(0,i.createRef)()),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M(t,e),r=[{key:"focus",value:function(){var e=this.tapAreaRef.current;e&&e.focus()}},{key:"render",value:function(){var e,r,t,i,n,o,s=this.state.hovered,l=this.props,c=l.buttonText,d=l.section,u=l.showSectionSaveButton,_=l.useLegoLayout;return(0,S.jsx)(a.Rp,{ref:this.tapAreaRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onTap:this.handleTouch,children:(0,S.jsxs)(a.az,{alignItems:"center",color:s?"secondary":"default",dangerouslySetInlineStyle:{__style:_?{}:{marginLeft:53,marginRight:11}},"data-test-id":"section-row-".concat(d.title||""),display:"flex",height:_?64:52,marginEnd:2*!!_,marginStart:2*!!_,marginTop:+!_,padding:2*!!_,role:"listitem",rounding:300,children:[_&&!!(null!=(e=d.preview_pins)&&e.length)&&(0,S.jsx)(j.A,{image_url:null!=(r=d.preview_pins[0].image_square_url)?r:"",naturalHeight:null!=(t=null==(i=d.preview_pins[0].image_square_size_pixels)?void 0:i.height)?t:1,naturalWidth:null!=(n=null==(o=d.preview_pins[0].image_square_size_pixels)?void 0:o.width)?n:1}),(0,S.jsx)(a.az,{flex:"grow",marginStart:4*!_,paddingY:1,children:(0,S.jsx)(a.KJ,{lineClamp:1,weight:_?"bold":"normal",children:d.title})}),s&&u&&(0,S.jsx)(a.az,{flex:"none",marginEnd:2*!_,children:(0,S.jsx)(a.$n,{accessibilityLabel:"save button",color:"primary",onClick:this.handleButtonClick,text:c||this.props.i18n._('Save', 'save button', 'save button')})})]})})}}],function(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,D(i.key),i)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.Component);function U(e){var r=(0,d.A)();return(0,S.jsx)(F,R(R({},e),{},{i18n:r}))}function V(e){var r=(0,d.A)(),t=e.board,i=e.buttonText,n=e.onClick,o=e.onButtonClick,s=e.showSectionSaveButton,l=e.useLegoLayout,u=(0,z.A)(),_=(0,c.A)(),g=(0,b.H7)(_,u),h=(0,m.A)({name:"BoardSectionsRepinResource",options:{board_id:t.id,orbac_subject_id:g},noCache:!0}),p=h&&h.data||[];return(0,S.jsxs)(a.az,{children:[!h.isLoaded&&(0,S.jsx)(a.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(a.y$,{accessibilityLabel:r._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),h.isLoaded&&(0,S.jsxs)(a.az,{children:[l&&(0,S.jsx)(a.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"200",children:r._('Section', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),p.map(function(e){return(0,S.jsx)(U,{board:t,buttonText:i,onButtonClick:o,onClick:n,section:e,showSectionSaveButton:s,useLegoLayout:l},e.id)})]})]})}function G(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function H(e){var r,t=e.onClick,n=e.title,o=e.showIcon,s=(0,d.A)(),l=function(e){if(Array.isArray(e))return e}(r=(0,i.useState)(!1))||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{for(o=(t=t.call(e)).next;!(l=(i=o.call(t)).done)&&(s.push(i.value),2!==s.length);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(r,0)||function(e,r){if(e){if("string"==typeof e)return G(e,2);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?G(e,2):void 0}}(r,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=l[0],u=l[1];return(0,S.jsx)(a.Rp,{dataTestId:"board-suggestion-row-button",onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},onTap:function(){t({title:n})},children:(0,S.jsxs)(a.az,{alignItems:"center",color:c?"secondary":"default",display:"flex",height:o?64:52,marginBottom:1,marginEnd:3,marginStart:3,role:"listitem",rounding:300,children:[(0,S.jsx)(a.az,{flex:"none",height:o?48:36,marginBottom:1,marginEnd:3,marginStart:o?1:2,marginTop:1,overflow:"hidden",rounding:o?200:100,width:o?48:36,children:(0,S.jsx)(a.az,{alignItems:o?"center":void 0,color:"secondary",display:o?"flex":void 0,height:"100%",justifyContent:o?"center":void 0,width:"100%",children:o&&(0,S.jsx)(a.In,{accessibilityLabel:"",color:"default",icon:"plus",size:20})})}),(0,S.jsx)(a.az,{flex:"grow",paddingY:1,children:(0,S.jsx)(a.KJ,{lineClamp:1,weight:"bold",children:n})}),c&&(0,S.jsx)(a.az,{marginEnd:2,children:(0,S.jsx)(a.$n,{accessibilityLabel:"create button",color:"primary",text:s._('Create', 'create button to create a new board', 'create button to create a new board')})})]})})}function Y(e){var r=(0,d.A)(),t=e.suggestionsResource,n=e.onClick,o=e.pinBuilderSuggestions,s=e.inWebRepinFlowExp,l=o||t&&t.data||[],c=(0,S.jsxs)(i.Fragment,{children:[s&&(0,S.jsx)(a.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"100",children:r._('Suggestions', 'PinBetterSave.BoardFlyout.SectionPlaceholderText', 'section list title')})}),l.map(function(e,r){return(0,S.jsx)(H,{onClick:n,showIcon:s,title:e.title},r)})]});return(0,S.jsx)(i.Fragment,{children:l?c:(0,S.jsx)(a.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:"100%",children:(0,S.jsx)(a.y$,{accessibilityLabel:r._('loading board suggestions', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})})}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function q(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,n,o,a,s=[],l=!0,c=!1;try{if(o=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=o.call(t)).done)&&(s.push(i.value),s.length!==r);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(c)throw n}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return K(e,r);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?K(e,r):void 0}}(e,r)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function X(e){var r=e.isBoardCreate,t=e.onCreateBoardClick,n=e.useLegoLayout,o=(0,d.A)(),s=q((0,i.useState)(!1),2),l=s[0],c=s[1],u=q((0,i.useState)(!1),2),_=u[0],g=u[1];return(0,S.jsx)(a.az,{"data-test-id":"create-board",display:"flex",height:"100%",rounding:200,children:(0,S.jsx)(a.Rp,{dataTestId:r?"create-board-button":"create-section-button",onBlur:function(){return g(!1)},onFocus:function(){return g(!0)},onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},onTap:t,rounding:200,children:(0,S.jsxs)(a.az,{alignItems:"center",color:l?"secondary":"default",dangerouslySetInlineStyle:{__style:function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach(function(r){var i,n;i=r,n=t[r],(i=function(e){var r=function(e,r){if("object"!=W(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=W(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==W(r)?r:r+""}(i))in e?Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[i]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}({},_?{border:"2px solid var(--sema-color-border-focus-outer-default)"}:{})},display:"flex",height:"100%",padding:n?4:2,width:"100%",children:[(0,S.jsx)(a.az,{color:n?"secondary":"transparent",dangerouslySetInlineStyle:{__style:n?{padding:"14px"}:{}},marginEnd:n?2:5,marginStart:4*!n,rounding:200*!!n,children:(0,S.jsx)(a.In,{accessibilityLabel:"",color:n?"default":"error",icon:n?"plus":"circle-plus",size:n?20:28})}),r?(0,S.jsx)(a.KJ,{align:"center",lineClamp:1,weight:"bold",children:o._('Create board', ' - ', ' -- ')}):(0,S.jsx)(a.KJ,{align:"center",lineClamp:1,weight:"bold",children:o._('Create section', ' - ', ' -- ')})]})})})}N(F,"defaultProps",{showSectionSaveButton:!0});var Q=t(427772),Z=t(666240);function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(){var e,r,t="function"==typeof Symbol?Symbol:{},i=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function o(t,i,n,o){var l=Object.create((i&&i.prototype instanceof s?i:s).prototype);return er(l,"_invoke",function(t,i,n){var o,s,l,c=0,d=n||[],u=!1,_={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(r,t){return o=r,s=0,l=e,_.n=t,a}};function g(t,i){for(s=t,l=i,r=0;!u&&c&&!n&&r<d.length;r++){var n,o=d[r],g=_.p,h=o[2];t>3?(n=h===i)&&(l=o[(s=o[4])?5:(s=3,3)],o[4]=o[5]=e):o[0]<=g&&((n=t<2&&g<o[1])?(s=0,_.v=i,_.n=o[1]):g<h&&(n=t<3||o[0]>i||i>h)&&(o[4]=t,o[5]=i,_.n=h,s=0))}if(n||t>1)return a;throw u=!0,i}return function(n,d,h){if(c>1)throw TypeError("Generator is already running");for(u&&1===d&&g(d,h),s=d,l=h;(r=s<2?e:l)||!u;){o||(s?s<3?(s>1&&(_.n=-1),g(s,l)):_.n=l:_.v=l);try{if(c=2,o){if(s||(n="next"),r=o[n]){if(!(r=r.call(o,l)))throw TypeError("iterator result is not an object");if(!r.done)return r;l=r.value,s<2&&(s=0)}else 1===s&&(r=o.return)&&r.call(o),s<2&&(l=TypeError("The iterator does not provide a '"+n+"' method"),s=1);o=e}else if((r=(u=_.n<0)?l:t.call(i,_))!==a)break}catch(r){o=e,s=1,l=r}finally{c=1}}return{value:r,done:u}}}(t,n,o),!0),l}var a={};function s(){}function l(){}function c(){}r=Object.getPrototypeOf;var d=c.prototype=s.prototype=Object.create([][i]?r(r([][i]())):(er(r={},i,function(){return this}),r));function u(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,er(e,n,"GeneratorFunction")),e.prototype=Object.create(d),e}return l.prototype=c,er(d,"constructor",c),er(c,"constructor",l),l.displayName="GeneratorFunction",er(c,n,"GeneratorFunction"),er(d),er(d,n,"Generator"),er(d,i,function(){return this}),er(d,"toString",function(){return"[object Generator]"}),(ee=function(){return{w:o,m:u}})()}function er(e,r,t,i){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}(er=function(e,r,t,i){function o(r,t){er(e,r,function(e){return this._invoke(r,t,e)})}r?n?n(e,r,{value:t,enumerable:!i,configurable:!i,writable:!i}):e[r]=t:(o("next",0),o("throw",1),o("return",2))})(e,r,t,i)}function et(e,r,t,i,n,o,a){try{var s=e[o](a),l=s.value}catch(e){return void t(e)}s.done?r(l):Promise.resolve(l).then(i,n)}function ei(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function en(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ei(Object(t),!0).forEach(function(r){ed(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ei(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function eo(e){return function(e){if(Array.isArray(e))return ea(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return ea(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ea(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ea(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function es(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(es=function(){return!!e})()}function el(e){return(el=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ec(e,r){return(ec=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,r){return e.__proto__=r,e})(e,r)}function ed(e,r,t){return(r=eu(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function eu(e){var r=function(e,r){if("object"!=$(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=$(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==$(r)?r:r+""}var e_="allBoards",eg="shortlist",eh=function(e){var r;function t(){var e,r,i,n;if(!(this instanceof t))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,s=Array(a),c=0;c<a;c++)s[c]=arguments[c];return r=t,i=[].concat(s),r=el(r),ed(e=function(e,r){if(r&&("object"==$(r)||"function"==typeof r))return r;if(void 0!==r)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,es()?Reflect.construct(r,i||[],el(this).constructor):r.apply(this,i)),"state",{boardSuggestions:[],isSectionOpen:null,selectedBoardId:"",selectedBoardCategory:"",searchQuery:"",searchBoxFocused:!0,saveSessionId:(0,o.A)()}),ed(e,"handleScroll",function(){e._container,(0,e.props.logContextEvent)({event_type:110,component:13282,view_type:21})}),ed(e,"refHandler",function(r){e.removeEventListeners(),r&&r.addEventListener("scroll",e.handleScroll,{once:!0}),e._container=r}),ed(e,"getItems",function(r){var t=e.props,i=t.boardResource,n=t.showSaveToProfile,o=t.checkExperiment;if(!(null!=i&&i.data))return[];var a=i.data.all_boards,s=a.length>=3,l=n&&a.length&&o("web_curation_board_picker_reorder_profile_option").anyEnabled,c=[{boardId:"",image_cover_url:"",is_collaborative:!1,isOpen:!1,name:e.props.i18n._('Profile', 'pinBetterSave.initialSelection.boardlessPinsOption', 'Option to save to profile without a board.'),privacy:"public",section_count:0,type:"boardless",url:"/me/"}],d=e.getAllBoards().map(function(r,t){return e.mapBoards(r,e_,t)}),u=e.getShortlist().map(function(r,t){return e.mapBoards(r,eg,t)}),_=e.state.searchQuery;return _.length>=f.A?eo((0,Q._)(d,_)):[].concat(eo(s||!n||l?[]:[{type:"header",title:e.props.i18n._('Quick save and organize later', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.boardlessPinsTitle', 'Header saving to profile')}].concat(c)),eo(s&&s&&n&&!l?c:[]),eo(s&&null!=u&&u.length?[{category:eg,type:"header",title:r?e.props.i18n._('Top choices', 'PinBetterSave.BoardFlyout.TopChoicesSectionTitle', 'Header for top suggestions in board picker'):e.props.i18n._('Top board suggestions', 'Header for top suggesions in board picker', 'Header for top suggesions in board picker')}].concat(eo(u)):[]),eo(a.length>0?[{type:"header",title:!s&&n?e.props.i18n._('Save to board', 'BoardFlyout.inPinBetterSaveAndLessThanThreeBoards.saveToBoardTitle', 'Header for boards when there are less than 3 boards in board picker'):e.props.i18n._('All boards', 'Header for all boards in board picker', 'Header for all boards in board picker')}].concat(eo(d),eo(l?c:[])):[]))}),ed(e,"mapBoards",function(r,t,i){var n=e.state,o=n.selectedBoardId,a=n.selectedBoardCategory,s=r.id===o&&t===a;return en(en({},r),{},{category:t,isOpen:s,gridIndex:i})}),ed(e,"handleBack",function(){var r=e.props.setBoardWithSection;e.setState({isSectionOpen:!1,selectedBoardId:"",selectedBoardCategory:""}),r&&r(null)}),ed(e,"handleSectionClick",function(r,t){var i=e.props,n=i.clientTrackingParams,o=i.imageSignature,a=i.logContextEvent,s=i.onItemChosen,l=i.pinId,c=i.surfaceOriginViewParameter,d=i.surface,u=e.state,_=u.saveSessionId,g=u.searchQuery;a({event_type:101,clientTrackingParams:n,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:3133,aux_data:{board_id:t.id,board_picker_surface_origin:c,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:o,is_profile_save:!1,pin_id:l,save_session_id:_,search_query:g,section_id:r.id,source:d}}),s({boardId:t.id,url:r.slug?"".concat(t.url).concat(r.slug,"/"):t.url,sectionId:r.id,title:r.title||"",type:r.type,imageCoverUrl:t.image_cover_url,ownerUsername:t.owner&&t.owner.username||"",boardPickerSuggestedBoards:JSON.stringify(e.getTopChoiceBoardsAuxData())})}),ed(e,"getPinBuilderSuggestions",(n=ee().m(function r(){var t,i,n,o,a,s,c,d,u;return ee().w(function(r){for(;;)switch(r.n){case 0:if(i=(t=e.props).clientTrackingParams,n=t.imageSignature,o=t.logContextEvent,a=t.pinId,s=t.surfaceOriginViewParameter,c=e.state.saveSessionId,!a){r.n=2;break}return r.n=1,(0,l.A)({url:"/v3/pins/{pin}/board_title_suggestions/",urlParams:{pin:a}});case 1:(d=r.v).resource_response.data&&(u=d.resource_response.data.map(function(e){var r,t;return{title:null!=(r=e.title)?r:"",metadata:JSON.parse(null!=(t=null==e?void 0:e.metadata)?t:"{}")}})||[],e.setState({boardSuggestions:u}),o({aux_data:{board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:n,pin_id:a,save_session_id:c},component:13282,clientTrackingParams:i,event_type:13,view_parameter:3992,view_type:21}));case 2:return r.a(2)}},r)}),function(){var e=this,r=arguments;return new Promise(function(t,i){var o=n.apply(e,r);function a(e){et(o,t,i,a,s,"next",e)}function s(e){et(o,t,i,a,s,"throw",e)}a(void 0)})})),ed(e,"getAllBoards",function(){var r,t=e.props,i=t.boardResource,n=t.advertiser_id;return((null==i||null==(r=i.data)?void 0:r.all_boards)||[]).filter(function(e){return!n||"secret"!==e.privacy})}),ed(e,"getShortlist",function(){var r,t=e.props,i=t.suggestedBoardsShortListResource,n=t.displayShortlistMostRecentBoard,o=t.boardResource,a=(null==o||null==(r=o.data)?void 0:r.boards_shortlist)||[];return n?a:(null==i?void 0:i.data)||[]}),ed(e,"getBoards",function(r){return r===e_?e.getAllBoards():r===eg?e.getShortlist():[]}),ed(e,"getSuggestedBoardsIds",function(){var r=e.props.showSaveToProfile,t=(r?e.getShortlist().slice(0,2):e.getShortlist()).map(function(e){return e.id});return r&&t.unshift("PROFILE_PINS"),t}),ed(e,"getTopChoiceBoardsAuxData",function(){return(e.props.showSaveToProfile?e.getShortlist().slice(0,2):eo(e.getShortlist())).map(function(e){var r,t;return{board_title_id:String(e.id),board_title_kind:JSON.parse(null!=(r=e.recommendation_reason)?r:"{}").reason,board_title:String(e.name),board_title_score:JSON.parse(null!=(t=e.recommendation_reason)?t:"{}").score}})}),ed(e,"getBoardTitleSuggestionsAuxData",function(){return e.state.boardSuggestions.map(function(e){return{board_title_id:String(e.metadata.value),board_title_kind:String(e.metadata.kind),board_title:String(e.title),board_title_score:String(e.metadata.confidence)}})}),ed(e,"handleBoardWithSectionsClick",function(r){var t=e.props,i=t.clientTrackingParams,n=t.logContextEvent,o=t.pinId,a=t.setBoardWithSection,s=t.surfaceOriginViewParameter,l=e.state,c=l.saveSessionId,d=l.searchQuery,u=l.selectedBoardId,_=l.selectedBoardCategory,g=e.getBoards(r.category).find(function(e){return e.id===r.id}),h=u===r.id&&_===r.category;n({event_type:13,clientTrackingParams:i,component:13282,element:36,object_id_str:r.id,view_type:275,aux_data:{board_id:r.id,board_picker_surface_origin:s,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:r.gridIndex,is_profile_save:!1,pin_id:o,save_session_id:c,search_query:d}}),g&&a&&a(g),e.setState({isSectionOpen:!0,selectedBoardId:h?"":r.id,selectedBoardCategory:h?"":r.category})}),ed(e,"handleBoardClick",function(r){var t=r.board,i=r.toggleSections,n=e.props,o=n.clientTrackingParams,a=n.imageSignature,s=n.logContextEvent,l=n.onItemChosen,c=n.pinId,d=n.surfaceOriginViewParameter,u=n.surface,_=e.state,g=_.saveSessionId,h=_.searchQuery;e.setState({searchBoxFocused:!1}),i?(s({event_type:101,component:13282,element:36,clientTrackingParams:o,object_id_str:t.id,view_type:91,view_parameter:t.category===eg?3988:3989,aux_data:{board_id:t.id,board_component:t.category===eg?3988:3989,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:a,is_profile_save:!1,pin_id:c,save_session_id:g,search_query:h}}),e.handleBoardWithSectionsClick({category:t.category,gridIndex:t.gridIndex,id:t.id})):(s("boardless"===t.type?{event_type:101,clientTrackingParams:o,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:3990,aux_data:{board_id:t.id,board_component:3990,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:a,is_profile_save:!0,pin_id:c,save_session_id:g,search_query:h}}:{event_type:101,clientTrackingParams:o,component:13282,element:36,object_id_str:t.id,view_type:91,view_parameter:t.category===eg?3988:3989,aux_data:{board_id:t.id,board_component:t.category===eg?3988:3989,board_picker_surface_origin:d,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),board_index:t.gridIndex,image_signature:a,is_profile_save:"boardless"===t.type,pin_id:c,save_session_id:g,search_query:h,source:u}}),l({boardId:t.id,url:t.url,title:t.name||"",type:t.type,imageCoverUrl:t.image_cover_url,privacy:t.privacy,boardPickerSuggestedBoards:JSON.stringify(e.getTopChoiceBoardsAuxData())}))}),ed(e,"handleSearchQueryUpdate",function(r){e.setState(function(e){return en(en({},e),{},{searchQuery:r})})}),ed(e,"handleCreateBoardClick",function(r){var t=e.props,i=t.clientTrackingParams,n=t.imageSignature,o=t.logContextEvent,a=t.onBoardCreate,s=t.pinId,l=t.surfaceOriginViewParameter,c=t.surface,d=e.state,u=d.saveSessionId,_=d.searchQuery;o({event_type:101,clientTrackingParams:i,component:13282,element:249,view_type:91,view_parameter:r?87:3132,aux_data:{board_component:r?87:3132,board_picker_surface_origin:l,board_picker_suggested_boards:JSON.stringify(e.getTopChoiceBoardsAuxData()),board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:n,pin_id:s,save_session_id:u,search_query:_,source:null!=c?c:v.A.BOARD_PICKER}}),a({title:_})}),ed(e,"handleBoardSuggestionClick",function(r){var t=e.props,i=t.clientTrackingParams,n=t.imageSignature,o=t.logContextEvent,a=t.onBoardCreate,s=t.pinId,l=t.surfaceOriginViewParameter,c=e.state.saveSessionId;o({event_type:101,clientTrackingParams:i,component:13282,element:23,view_type:91,view_parameter:3992,aux_data:{board_picker_surface_origin:l,board_title_suggestions:JSON.stringify(e.getBoardTitleSuggestionsAuxData()),image_signature:n,pin_id:s,save_session_id:c}}),a(r)}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ec(t,e),r=[{key:"componentWillUnmount",value:function(){this.removeEventListeners()}},{key:"componentDidMount",value:function(){var e=this.props,r=e.clientTrackingParams,t=e.logContextEvent,i=e.imageSignature,n=e.pinId,o=e.setBoardWithSection,a=e.surfaceOriginViewParameter,s=this.state.saveSessionId;o&&o(null),t({event_type:13,component:13282,clientTrackingParams:r,element:10960,aux_data:{board_picker_surface_origin:a,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),image_signature:i,pin_id:n,save_session_id:s}})}},{key:"componentDidUpdate",value:function(e){var r,t,i=this.state.saveSessionId,n=this.props.clientTrackingParams;!(null!=(r=e.suggestedBoardsShortListResource)&&r.isLoaded)&&null!=(t=this.props.suggestedBoardsShortListResource)&&t.isLoaded&&this.getSuggestedBoardsIds().length>0&&this.props.logContextEvent({event_type:13,clientTrackingParams:n,component:13282,element:1001,aux_data:{pin_id:this.props.pinId,board_picker_suggested_boards:JSON.stringify(this.getTopChoiceBoardsAuxData()),save_session_id:i}})}},{key:"removeEventListeners",value:function(){var e=this._container;e&&e.removeEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){var e,r,t,n,o,s,l,c=this,d=this.props,g=d.accessibilityLabelText,h=d.boardResource,p=d.buttonText,m=d.changeBoardModal,f=d.clientTrackingParams,y=d.customItem,b=d.headerText,v=d.hideAlreadySavedMsg,P=d.imageSignature,E=d.onButtonClick,x=d.paneHeight,w=d.paneWidth,z=d.pinAlreadySavedBoard,j=d.pinId,k=d.requestContext,C=d.sectionText,R=d.showSaveToProfile,B=d.showSearchField,L=d.showCreateBoardButton,M=d.showFlyoutSaveButton,N=d.showSections,D=d.showSectionSaveButton,F=d.suggestedBoardsShortListResource,U=d.surfaceOriginViewParameter,G=d.useStoryboardStyle,H=d.useLegoLayout,W=d.boardFlyoutStyle,J=this.state,q=J.boardSuggestions,K=J.isSectionOpen,Q=J.saveSessionId,$=J.searchBoxFocused,ee=J.searchQuery;if(!h)return null;var er=h.isLoaded,et=h.error,ei=[];(er&&!et||F&&F.data&&!F.error)&&(ei=this.getItems(!!H));var en=ei.filter(function(e){return e&&e.category===e_}).length,eo=en>3;eo||0!==q.length||this.getPinBuilderSuggestions();var ea=G?200:322,es=G?214:334,el=x||290,ec=JSON.stringify(this.getTopChoiceBoardsAuxData()),ed=k.isRTL?"BoardsSlideRightRTL":"BoardsSlideLeft",eu="";null!==K&&(eu=k.isRTL?"BoardsSlideLeftRTL":"BoardsSlideRight");var eg=function(e){return(0,S.jsxs)(i.Fragment,{children:[!H&&(0,S.jsx)(a.cG,{}),(0,S.jsx)(a.az,{dangerouslySetInlineStyle:{__style:{borderBottomRightRadius:8,borderBottomLeftRadius:8}},elevation:H&&en>=3&&ei.length>1?"shadowFloating":void 0,height:H?80:52,overflow:"hidden",children:(0,S.jsx)(X,{isBoardCreate:e,onCreateBoardClick:function(r){r.event.stopPropagation(),c.handleCreateBoardClick(e)},useLegoLayout:H})})]})};return(0,S.jsxs)(a.az,{color:"default","data-test-id":"board-picker-flyout",height:G||m?"100%":H?498:439,overflow:"hidden",rounding:200,width:H&&!m?"100%":w,zIndex:A.RG,children:[(0,S.jsx)(u.A,{unsafeCSS:"\n.BoardsSlideLeft {\n  animation: boardFlyoutSlideLeft 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRight {\n  animation: boardFlyoutSlideRight 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideLeftRTL {\n  animation: boardFlyoutSlideLeftRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n.BoardsSlideRightRTL {\n  animation: boardFlyoutSlideRightRTL 0.5s cubic-bezier(0.165, 0.84, 0.44, 1) forwards;\n}\n\n@keyframes boardFlyoutSlideLeft {\n  from {\n    margin-left: 0%;\n  }\n\n  to {\n    margin-left: -100%;\n  }\n}\n\n@keyframes boardFlyoutSlideRight {\n  from {\n    margin-left: -100%;\n  }\n\n  to {\n    margin-left: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideLeftRTL {\n  from {\n    margin-right: -100%;\n  }\n\n  to {\n    margin-right: 0%;\n  }\n}\n\n@keyframes boardFlyoutSlideRightRTL {\n  from {\n    margin-right: 0%;\n  }\n\n  to {\n    margin-right: -100%;\n  }\n}\n"}),er?null:(0,S.jsx)(a.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:200,width:H&&!m?360:w,children:(0,S.jsx)(a.y$,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})}),(0,S.jsx)(a.so,{direction:"row",children:er&&(0,S.jsx)("div",{className:K?ed:eu,children:(0,S.jsx)(a.az,{position:"relative",children:(0,S.jsxs)(a.az,{direction:"row",display:"flex",width:H&&!m?720:(null!=w?w:0)*2,zIndex:new a.rk(0),children:[(0,S.jsxs)(a.so,{alignItems:"stretch",direction:"column",justifyContent:"start",width:H&&!m?360:w,children:[H&&!m&&(0,S.jsx)(a.so,{alignItems:"center",height:64,justifyContent:"center",children:(0,S.jsx)(I,{headingLevel:2,size:"300",textWeight:"bold",children:b||(R?this.props.i18n._('Save', 'PinBetterSave.BoardFlyout.SavePlaceholder', 'flyout header text to indicate save options'):this.props.i18n._('Save to board', 'PinBetterSave.BoardFlyout.SaveToBoardPlaceholder', 'flyout header text'))})}),(null!=B?B:!m)&&(0,S.jsxs)(a.az,{"data-test-id":"search-boards-field-container",height:H?64:"auto",padding:null!=(e=null==W||null==(r=W.searchFieldStyle)?void 0:r.padding)?e:3*!H,paddingX:null!=(t=null==W||null==(n=W.searchFieldStyle)?void 0:n.paddingX)?t:H?4:3,paddingY:null==W||null==(o=W.searchFieldStyle)?void 0:o.paddingY,children:[(0,S.jsx)(Z.A,{accessibilityClearButtonLabel:this.props.i18n._('Clear board search text', 'dropdown.searchField.clearButtonLabel', 'clear button label for search field in board picker'),accessibilityLabel:this.props.i18n._('Search through your boards', 'search bar placeholder text', 'search bar placeholder text'),focused:$,id:"pickerSearchField",onChange:function(e){var r=e.value;return c.handleSearchQueryUpdate(r)},placeholder:this.props.i18n._('Search', 'search bar placeholder text', 'search bar placeholder text'),size:null!=(s=null==W||null==(l=W.searchFieldStyle)?void 0:l.size)?s:"lg",value:ee}),(0,S.jsx)(a.az,{"aria-live":"assertive",display:"visuallyHidden",children:en?(0,_.$)(this.props.i18n.ngettext('Found a board', 'Found {{boardCount}} boards', en, 'PinBetterSave.BoardFlyout.BoardFoundsDropdown', 'Text to indicate how many boards were found in the board autocomplete. boardCount: the number of boards created by the user.'),{boardCount:en.toString()}):this.props.i18n._('No boards found', 'PinBetterSave.BoardFlyout.noBoardFoundsDropdown', 'Text to indicate no boards were found in the board autocomplete')})]}),(0,S.jsxs)(a.az,{ref:this.refHandler,maxHeight:H?el:ea,minHeight:H?290:ea,overflow:"scrollY",role:"list",children:[F&&!F.isLoaded?(0,S.jsx)(a.az,{"data-test-id":"suggestedBoardsContainer",children:(0,S.jsx)(a.so,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:128.5,width:"100%",children:(0,S.jsx)(a.y$,{accessibilityLabel:this.props.i18n._('loading board picker', 'accessibility text for loading spinner', 'accessibility text for loading spinner'),show:!0})})}):null,y,ei.map(function(e,r){return"header"===e.type?(0,S.jsx)(O,{boardPickerSuggestedBoards:ec,clientTrackingParams:f,headingLevel:2,imageSignature:P,index:r,item:e,pinId:j,saveSessionId:Q,surfaceOriginViewParameter:U,useLegoLayout:H},"".concat(e.title)):(0,S.jsx)(a.az,{children:(0,S.jsx)(T,{accessibilityLabelText:g,board:e,boardPickerSuggestedBoards:ec,buttonText:p,clientTrackingParams:f,displayAlreadySavedMsg:z&&z.id===e.id&&!v,gridIndex:r,imageSignature:P,onButtonClick:E,onClick:function(e){c.handleBoardClick({board:e,toggleSections:N&&!!e.section_count})},pinId:j,saveSessionId:Q,shouldOpenSections:N,showFlyoutSaveButton:M,showSaveToProfile:R,surfaceOriginViewParameter:U,useLegoLayout:H})},"".concat(e.category,"-").concat(e.id))}),!eo&&q.length>0&&(0,S.jsx)(Y,{inWebRepinFlowExp:H,onClick:this.handleBoardSuggestionClick,pinBuilderSuggestions:q})]}),L&&eg(!0)]}),K&&(0,S.jsxs)(a.az,{direction:"column",display:"flex",marginBottom:2*!!H,width:H&&!m?360:w,children:[(0,S.jsxs)(a.so,{alignContent:"center",alignItems:"center",direction:"row",justifyContent:"center",children:[(0,S.jsx)(a.VP,{span:2,children:(0,S.jsx)(a.az,{alignContent:"center",alignItems:"center",display:"flex",justifyContent:"start",marginStart:3,children:(0,S.jsx)(a.K0,{accessibilityLabel:"Back button",icon:"chevron-left",iconColor:"default",onClick:this.handleBack,size:"sm"})})}),(0,S.jsx)(a.VP,{span:8,children:(0,S.jsx)(a.so,{alignItems:"center",height:H?64:52,justifyContent:"center",children:(0,S.jsx)(I,{headingLevel:2,size:"300",textWeight:"bold",children:C||(H?this.props.i18n._('Save Pin to', 'PinBetterSave.BoardFlyout.SectionHeader', 'Header for section header'):this.props.i18n._('Choose section', 'Header for section header', 'Header for section header'))})})}),(0,S.jsx)(a.VP,{span:2,children:(0,S.jsx)(a.az,{})})]}),!H&&(0,S.jsx)(a.cG,{}),(0,S.jsx)(a.az,{maxHeight:H?el:es,minHeight:H?354:es,overflow:"scrollY",children:ei?(0,S.jsx)(i.Fragment,{children:ei&&ei.map(function(e){return"header"===e.type?null:(0,S.jsx)(a.az,{role:"list",children:e.isOpen&&(0,S.jsxs)(i.Fragment,{children:[H&&(0,S.jsx)(a.az,{marginStart:4,marginTop:2,paddingY:1,children:(0,S.jsx)(I,{headingLevel:3,size:"100",children:c.props.i18n._('Board', 'PinBetterSave.BoardFlyout.BoardPickerTitle', 'board title on section picker')})}),(0,S.jsx)(T,{board:e,boardPickerSuggestedBoards:ec,buttonText:p,displayAlreadySavedMsg:z&&z.id===e.id,gridIndex:e.gridIndex,isSectionOpen:!0,onButtonClick:E,onClick:function(e){c.handleBoardClick({board:e,toggleSections:!1})},saveSessionId:Q,shouldOpenSections:!1,showFlyoutSaveButton:M,useLegoLayout:H}),(0,S.jsx)(V,{board:e,buttonText:p,onButtonClick:E,onClick:c.handleSectionClick,showSectionSaveButton:D,useLegoLayout:H})]})},"".concat(e.category,"-").concat(e.id))})}):null}),L&&!m&&eg(!1)]})]})})})})]})}}],function(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,eu(i.key),i)}}(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),t}(i.PureComponent);function ep(e){var r=(0,s.o)().logContextEvent,t=(0,d.A)(),i=(0,g.A)().checkExperiment;return(0,S.jsx)(eh,en(en({},e),{},{checkExperiment:i,i18n:t,logContextEvent:r,requestContext:(0,h._8)()}))}function em(e,r,t){var i=e.advertiser,n={};if(t&&t.user&&t.user.username&&t.id!==(r.isAuth?r.id:void 0)&&(n.orbacActingAs=t,n.username=t.user.username),r&&i){var o=e.advertiser;if(r.isAuth&&o.is_impersonation)return en({hasMUA:o.owner_user_id!==r.id,advertiser_id:o.id,username:o.owner_user_id},n);if(r.isAuth&&o.owner_user_id!==r.id)return en({hasMUA:!0,advertiser_id:o.id,username:o.owner_user_id},n);if(r.isAuth&&o.owner_user_id===r.id)return{hasMUA:!1,advertiser_id:o.id,username:"me"}}return en({advertiser_id:void 0,hasMUA:void 0},n)}function ef(e){var r=e.advertiser_id,t=e.hasMUA,i=e.boardFilter,n=void 0===i?"all":i,o=e.username,a=en(en({field_set_key:"board_picker",filter:t?"protected":n},o?{username:o}:Object.freeze({})),r?{advertiser_id:r}:{});return e.orbacActingAs&&e.orbacActingAs.user&&e.orbacActingAs.user.username&&(a=en(en({},a),{},{username:e.orbacActingAs.user.username,orbac_subject_id:e.orbacActingAs.id,filter:n})),a}function ey(e,r){return function(t,i){return t((0,p.Q5)("BoardPickerBoardsResource",ef(em(i(),e,r))))}}function eb(e){var r=(0,c.A)(),t=(0,n.d4)(function(t){return em(t,r,e.orbacActingAs)}),i=en(en({},e),t),o=(0,m.A)({name:"BoardPickerBoardsResource",options:ef(i)});return(0,S.jsx)(ep,en(en({},i),{},{boardResource:o}))}function ev(e){var r=(0,y.A)(),t=(0,c.A)(),i=(0,b.H7)(t,r);return(0,S.jsx)(eb,en(en({},e),{},{orbacActingAs:i?r:void 0}))}function eA(e){var r=(0,m.A)({name:"BoardPickerBoardsShortlistResource",options:{pin_id:e.pinId,shortlist_length:2,num_shortlist_suggestions:2}}),t=(0,m.A)({name:"ApiResource",options:{url:"/v3/pins/".concat(e.pinId,"/"),field_sets:["pin.pinned_to_board()"]},noCache:!0}).data;return(0,S.jsx)(ep,en(en({},e),{},{pinAlreadySavedBoard:null==t?void 0:t.pinned_to_board,suggestedBoardsShortListResource:r}))}ed(eh,"defaultProps",{clientTrackingParams:void 0,paneWidth:320,showCreateBoardButton:!0,showFlyoutSaveButton:!0,showSections:!0,showSectionSaveButton:!0,useLegoLayout:!0})},394841(e,r,t){var i=t(460657),n=t(705006),o=t(850028),a=t(879667),s=function(e){var r=e.collaborator_count,t=e.useLegoLayout,n=e.type;return t?(0,a.jsx)(i.az,{marginEnd:2*!!r,children:(0,a.jsx)(o.A,{type:n})}):(0,a.jsx)(o.A,{type:n})};r.A=function(e){var r,t=e.board,l=e.showCollaborativeIcon,c=e.showPrivateIcon,d=e.showProtectedIcon,u=e.showSectionsIcon,_=e.useLegoLayout,g=(null==t||null==(r=t.collaborating_users)?void 0:r.length)||0;return l||c||d||u?(0,a.jsxs)(i.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{paddingLeft:8}},"data-test-id":"board-picker-row-icon-list-box",direction:"row",display:"flex",marginEnd:5*!_,children:[c&&(0,a.jsx)(s,{collaborator_count:g,type:"secret",useLegoLayout:_}),d&&(0,a.jsx)(s,{collaborator_count:g,type:"protected",useLegoLayout:_}),l&&(_?(0,a.jsx)(n.A,{board:t,isCompact:!0,ownerOnly:!1}):(0,a.jsx)(o.A,{type:"group"})),u&&(0,a.jsx)(o.A,{type:"sections"})]}):null}},506698(e,r,t){var i=t(460657),n=t(879667);r.A=function(e){var r=e.image_url,t=e.naturalHeight,o=e.naturalWidth;return(0,n.jsx)(i.az,{"aria-hidden":"true",height:48,marginBottom:1,marginEnd:2,marginTop:1,overflow:"hidden",width:48,children:(0,n.jsx)(i.n1,{height:48,rounding:200,wash:!0,width:48,children:(0,n.jsx)(i._V,{alt:"",naturalHeight:t,naturalWidth:o,src:r})})})}},476141(e,r,t){var i=t(370714),n=t(991224),o=t(41927),a=t(804952);r.A=function(){var e=(0,i.A)(),r=(0,n.qJ)(),t=(0,o.x)(),s=t.viewer,l=t.loginForMore,c=t.limitedLoginModalSubheader,d=t.limitedLoginModalNextLocation;return"LIMITED_LOGIN"===s.type?function(t){var i=t.modalHeader,n=t.nextLocation;return function(t){var o=null;t&&(t.nativeEvent&&t.nativeEvent instanceof Event?o=t:t.event&&(o=t.event)),o&&(o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()),null==l||l.setVisible(!0),null==c||c.setText(i||(r?(0,a.i)(e):(0,a.wC)(e))),n&&(null==d||d.setRoute(n))}}:function(e){return e.fn}}},170985(e,r,t){t.d(r,{Ay:function(){return g},Wx:function(){return h},tk:function(){return _}});var i=t(460657),n=t(361268),o=t(914981),a=t(615300),s=t(286040),l=t(715049),c=t(467066),d=t(316698),u=t(879667),_=function(e){return e._('Not a valid URL.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid URL was entered to create a Pin')};function g(e){var r=e.dispatchId,t=e.errorId,l=e.i18n,g=e.ideaPinRenamingEnabled,h=e.options,p=(0,c.A)(t,l,r,h);if("GENERAL_ERROR"!==p.id)return p;switch(t){case"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"DESCRIPTION_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This description is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when description is greater than maximum character count.')};case"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT":return{dispatchId:r,id:"DESCRIPTION_OVER_MAX_USER_MENTION_LIMIT",type:"error",message:l._('Ooops! Too many user mentions. Try keeping it to 5 max.', 'pinBuilder.errorMessaging.descriptionMentionLimit', 'Error message when description contains more user mentions than maximum allowed count.')};case"TITLE_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"TITLE_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This title is getting long. Try trimming it down.', 'storyPinBuilder.errorMessaging.message', 'Error message when title is greater than maximum character count.')};case"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO":return{dispatchId:r,id:"IMAGE_DOES_NOT_HAVE_RECOMMENDED_RATIO",type:"error",message:l._('This image does not have the recommended aspect ratio.', 'storyPinBuilder.errorMessaging.message', 'Signal message when uploading an image that does not have the recommended aspect ratio.')};case"TAG_SAME_PRODUCT_LINK":return{dispatchId:r,id:"TAG_SAME_PRODUCT_LINK",type:"error",message:l._('You can\'t tag from the same page twice.', 'storyPinBuilder.errorMessaging.message', 'Error message for using the same product link twice on a Pin tag'),blocking:!0};case"TAG_OVER_MAX_PRODUCTS_LIMIT":return{dispatchId:r,id:"TAG_OVER_MAX_PRODUCTS_LIMIT",type:"error",message:l._('You\'ve reached the maximum number of products for a tag.', 'storyPinBuilder.errorMessaging.message', 'Error message when user attempts to add more than 8 products to a tag'),blocking:!0};case"BOARD_MISSING":return{dispatchId:r,id:"BOARD_MISSING",type:"error",message:l._('A board is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a board is required to create a Pin'),blocking:!0};case"DATE_IN_PAST":return{dispatchId:r,id:"DATE_IN_PAST",type:"error",message:l._('A future date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the date is in the past for a scheduled Pin.'),blocking:!0};case"DATE_TOO_FAR_IN_FUTURE":return{dispatchId:r,id:"DATE_TOO_FAR_IN_FUTURE",type:"error",message:l._('Make sure you schedule a Pin less than 30 days in the future.', 'storyPinBuilder.errorMessaging.30DayMessage', 'Error message indicating the date is too far in the future for a scheduled Pin.'),blocking:!0};case"DATE_MISSING":return{dispatchId:r,id:"DATE_MISSING",type:"error",message:l._('A date is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a date is required to schedule a Pin.'),blocking:!0};case"DESCRIPTION_INVALID":return{dispatchId:r,id:"DESCRIPTION_INVALID",type:"error",message:l._('The description is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid description was entered to create a Pin'),blocking:!0};case"DUPLICATE_PIN_CONTENT":return{dispatchId:r,id:"DUPLICATE_PIN_CONTENT",type:"error",message:l._('This Pin has the same image, board, description, and link as another Pin. Please make each Pin unique.', 'pinBuilder.errorMessaging.duplicatePinContent', 'Error message when multiple pins have identical content which would be deduplicated'),blocking:!0};case"MEDIA_MISSING":return{dispatchId:r,id:"MEDIA_MISSING",type:"error",message:l._('An image is required to create a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an image, video, or website is required to create a Pin.'),blocking:!0};case"SHOWCASE_UNSUPPORTED_FORMAT":return{dispatchId:r,id:"SHOWCASE_UNSUPPORTED_FORMAT",type:"error",message:l._('Showcase ads don\u2019t currently support video. To continue, please upload an image.', 'showcasePinBuilder.errorMessaging.message', 'Error message for uploading the wrong format for showcase ads.'),blocking:!0};case"TAG_INVALID":return{dispatchId:r,id:"TAG_INVALID",type:"error",message:l._('You can only tag images linking to your claimed website.', 'storyPinBuilder.errorMessaging.message', 'Error message for entering a link you have not claimed.'),blocking:!0};case"TAG_EMPTY":return{dispatchId:r,id:"TAG_EMPTY",type:"error",message:l._('You must tag at least one feature Pin to continue.', 'storyPinBuilder.errorMessaging.message', 'Error message for not tagging at least one product on a showcase ad.'),blocking:!0};case"TIME_MISSING":return{dispatchId:r,id:"TIME_MISSING",type:"error",message:l._('A time is required to schedule a Pin.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a time is required to schedule a Pin.'),blocking:!0};case"TITLE_INVALID":return{dispatchId:r,id:"TITLE_INVALID",type:"error",message:l._('The title is invalid.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating an invalid title was entered to create a Pin'),blocking:!0};case"URL_INVALID":return{dispatchId:r,id:"URL_INVALID",type:"error",message:_(l),blocking:!0};case"URL_MISSING":return{dispatchId:r,id:"URL_MISSING",type:"error",message:l._('URL is required.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL is required to create a Pin'),blocking:!0};case"URL_CONTAINS_PORN_DOMAIN":return{dispatchId:r,id:"URL_CONTAINS_PORN_DOMAIN",type:"error",message:(0,n.vQ)(l._('Some nudity is okay for Pinterest, some isn\'t. Make sure you understand {{ policy_link }}', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL entered is a porn domain.'),{policy_link:(0,u.jsx)(i.N_,{display:"inlineBlock",href:s.jvt,target:"blank",underline:"hover",children:(0,u.jsx)(i.KJ,{color:"error",inline:!0,size:"100",weight:"bold",children:l._('our policies', 'Link to policy page', 'Link to policy page')})},0)}),blocking:!0};case"URL_IS_TOO_LONG":return{dispatchId:r,id:"URL_IS_TOO_LONG",type:"error",message:(0,a.A)(l._('Please shorten the link to {{ maxLength }} characters or fewer.', 'pinbuilder.urlIsTooLong.errorMessage', 'Error message indicating a URL is too long to create a Pin. maxLength: max number of chars in the link'),{maxLength:o.E7}),blocking:!0};case"URL_IS_BLOCKED":return{dispatchId:r,id:"URL_IS_BLOCKED",type:"error",message:l._('This link is blocked because it may not meet our content policies.', 'pinbuilder.blockedUrl.errorMessage', 'Error message indicating a URL is blocked because it may not meet our content policies'),blocking:!0};case"CAROUSEL_DIFFERENT_RATIOS":return{dispatchId:r,id:"CAROUSEL_DIFFERENT_RATIOS",type:"error",message:l._('Carousel images must have the same height and width', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a carousel with different sizes'),blocking:!0};case"CAROUSEL_INVALID_FORMAT":return{dispatchId:r,id:"CAROUSEL_INVALID_FORMAT",type:"error",message:l._('Carousels can only contain images', 'storyPinBuilder.errorMessaging.message', 'Error message when attempting to add a non-image file type to a carousel'),blocking:!0};case"URL_IS_REDIRECT":return{dispatchId:r,id:"URL_IS_REDIRECT",type:"error",message:l._('URL is a redirect.  Please enter a URL without a redirect.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating a URL with a redirect was entered'),blocking:!0};case"URL_UNREACHABLE":return{dispatchId:r,id:"URL_UNREACHABLE",type:"error",message:l._('URL is unreachable.  Please check that it is correct.', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the URL specified is unreachable.'),blocking:!0};case"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_INVALID_ASPECT_RATIO",type:"error",message:l._('Edit the image on the cover page to have a 9:16 ratio', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the image on the cover page of a Story Pin does not have the correct aspect ratio.'),blocking:!0};case"STORY_PIN_COVER_PAGE_IMAGE_MISSING":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_IMAGE_MISSING",type:"error",message:g?l._('Please provide an image for the cover page of your Pin', 'storyPinBuilder.errorMessaging.storypinCoverPageImageMissing', 'Error message indicating that the cover page of a Pin is missing an image'):l._('Please provide an image for the cover page of your Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page of a Idea Pin is missing an image')};case"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING":return{dispatchId:r,blocking:!0,id:"STORY_PIN_COVER_PAGE_SIGNATURE_MISSING",type:"error",message:g?l._('Cannot save Pin without signature set on cover', 'storyPinBuilder.errorMessaging.storyPinCoverPageSignatureMissing', 'Error message indicating that the cover page is missing the signature'):l._('Cannot save Idea Pin without signature set on cover', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that the cover page is missing the signature')};case"STORY_PIN_COVER_PAGE_TITLE_MISSING":return{dispatchId:r,id:"STORY_PIN_COVER_PAGE_TITLE_MISSING",type:"error",message:g?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinCoverPageTittleMissing', 'Error message indicating the cover page of a Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_MEDIA_SIGNATURES_MISSING":return{dispatchId:r,blocking:!0,id:"STORY_PIN_MEDIA_SIGNATURES_MISSING",type:"error",message:g?l._('Cannot save Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.storyPinMediaSignatureMissing', 'Error message indicating that signatures are missing on media blocks/items'):l._('Cannot save Idea Pin without signatures set on all media blocks/items', 'storyPinBuilder.errorMessaging.message', 'Error message indicating that signatures are missing on media blocks/items')};case"STORY_PIN_NOT_ENOUGH_PAGES":return{dispatchId:r,id:"STORY_PIN_NOT_ENOUGH_PAGES",type:"error",message:g?l._('Create at least 2 pages to publish a Pin', 'storyPinBuilder.errorMessaging.storyPinNotEnoughPages', 'Error message indicating the Pin is too short.'):l._('Create at least 2 pages to publish an Idea Pin', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is too short.'),blocking:!0};case"STORY_PIN_TOO_MANY_DRAFTS":return{dispatchId:r,id:"STORY_PIN_TOO_MANY_DRAFTS",type:"error",message:(0,n.vQ)(l._('You have reached the limit of {{draftMaxCount}} drafts.', 'storyboard.errorMessaging.message.draftLimitError', 'Upload attempt error message when users reached max number of drafts allowed. draftMaxCount: max number of drafts'),{draftMaxCount:d.WC}).join(""),blocking:!0};case"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE":return{dispatchId:r,id:"STORY_PIN_TOO_MANY_MULTI_UPLOADS_AT_ONCE",type:"error",message:(0,n.vQ)(l._('You can only upload {{multiUploadMaxCount}} drafts at once.', 'storyboard.errorMessaging.message.multiUploadMaxError', 'Error message when users multi upload more than the max allowed. multiUploadMaxCount: max number of multi uploaded'),{multiUploadMaxCount:d.TB}).join(""),blocking:!0};case"STORY_PIN_TITLE_MISSING":return{dispatchId:r,id:"STORY_PIN_TITLE_MISSING",type:"error",message:g?l._('Give your Pin a title before you publish', 'storyPinBuilder.errorMessaging.storyPinTitleMissing', 'Error message indicating the Pin is missing a title.'):l._('Give your Idea Pin a title before you publish', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the Idea Pin is missing a title.'),blocking:!0};case"STORY_PIN_VIDEO_BELOW_MIN_DURATION":var m=Math.floor(o.iy);return{dispatchId:r,id:"STORY_PIN_VIDEO_BELOW_MIN_DURATION",type:"error",message:(0,n.vQ)(l.ngettext('This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} second.', 'This video is too short and can\'t be uploaded. Video can\'t be shorter than {{minVideoLengthSeconds}} seconds.', m, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file that is longer than the allowed duration'),{minVideoLengthSeconds:m}).join(""),blocking:!0};case"STORY_PIN_VIDEO_ON_COVER":return{dispatchId:r,id:"STORY_PIN_VIDEO_ON_COVER",type:"error",message:l._('The cover page cannot contain a video', 'storyPinBuilder.errorMessaging.message', 'Error message indicating the cover page of a Story Pin contains a video.'),blocking:!0};case"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE":var f=o.L3/1024/1024;return{dispatchId:r,id:"STORY_PIN_VIDEO_OVER_MAX_FILE_SIZE",type:"error",message:(0,n.vQ)(l.ngettext('This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', 'This video is too large and can\'t be uploaded. Videos can\'t be larger than {{maxVideoFileSize}}MB.', f, 'storyPinBuilder.errorMessaging.message', 'Error message uploading a video file larger than required megabytes.'),{maxVideoFileSize:f}).join(""),blocking:!0};case"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT":return{dispatchId:r,id:"ALT_TEXT_OVER_MAX_CHARACTER_LIMIT",type:"error",message:l._('Ooops! This alt text is getting long. Try trimming it down.', 'pinBuilder.errorMessaging.message', 'Error message when alt text is greater than maximum character count.')};default:return{dispatchId:r,id:"GENERAL_ERROR",type:"error",message:l._('Hmm, something went wrong. Please try again.', 'storyPinBuilder.errorMessaging.message', 'Error message for generic error during Pin creation'),blocking:!0}}}function h(e,r,t){t({event_type:7564,view_type:212,component:(0,l.A)().includes("create")?13762:13308,aux_data:{error_message:r,error_id:e}})}},705006(e,r,t){t.d(r,{A:function(){return c}});var i=t(906938),n=t(837855),o=t(879667);function a(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(e){if("string"==typeof e)return s(e,void 0);var t=({}).toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}function l(e){var r,t,i,n,o,a=null!=(r=null!=(t=null==e?void 0:e.imageMediumUrl)?t:null==e?void 0:e.image_medium_url)?r:"",s=null!=(i=null==e?void 0:e.avatar_color_index)?i:void 0;return{name:null!=(n=null!=(o=null==e?void 0:e.fullName)?o:null==e?void 0:e.full_name)?n:"",color:s,src:"https://s.pinimg.com/images/user/default_75.png"===a?void 0:a}}function c(e){var r=e.board,t=e.forceViewer,s=e.isCompact,c=e.ownerOnly,d=(0,n.A)(),u=c?[l(null==r?void 0:r.owner)]:(function(e,r,t){var i=null!=e?e:{},n=i.collaborated_by_me,o=i.collaborating_users,s=i.owner,l=null!=o?o:[],c=[s];if(n||t){var d=l.findIndex(function(e){return r.isAuth&&e.id===r.id});if(-1!==d){var u=l.splice(d,1)[0];c.push(u)}else c.push(r)}var _=a(l).sort(function(e,r){var t,i,n,o;return(null!=(t=e.full_name)?t:"")>(null!=(i=r.full_name)?i:"")?1:(null!=(n=r.full_name)?n:"")>(null!=(o=e.full_name)?o:"")?-1:0});return[].concat(c,a(_))})(r,d,t).map(l);return(0,o.jsx)(i.Z7,{collaborators:u,size:s?"xs":"sm"})}},850132(e,r,t){function i(e,r){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:r}}}function n(e,r){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:r}}}function o(e){return{type:"PIN_SAVE",payload:e}}function a(e,r){return{type:"PIN_UNSAVE",payload:{id:e,nodeId:r}}}function s(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e.id,value:!0,text:e.text,nodeId:e.nodeId}}}function d(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!0,nodeId:e.nodeId}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e.id,value:!1,nodeId:e.nodeId}}}function _(e){return{type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL",payload:{id:e,value:!0}}}function g(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_FEWER_WEIGHT_LOSS_ADS_MODAL"}}t.d(r,{C4:function(){return n},H8:function(){return l},J4:function(){return o},N6:function(){return _},NE:function(){return g},WG:function(){return d},aP:function(){return a},aq:function(){return c},bd:function(){return u},p8:function(){return i},qJ:function(){return s}})},666240(e,r,t){t.d(r,{A:function(){return a}});var i=t(157203),n=t(460657),o=t(879667);function a(e){var r=e.accessibilityClearButtonLabel,t=e.accessibilityLabel,a=e.focused,s=e.id,l=e.onBlur,c=e.onChange,d=e.onFocus,u=e.placeholder,_=e.value,g=e.size,h=(0,i.useRef)(null);return(0,i.useEffect)(function(){if(a){var e=h.current;window.requestAnimationFrame(function(){var r=e&&e.querySelector("input");r instanceof HTMLInputElement&&r.focus()})}},[a]),(0,o.jsx)(n.az,{ref:h,children:(0,o.jsx)(n.Lw,{accessibilityClearButtonLabel:r,accessibilityLabel:t,id:s,onBlur:l,onChange:c,onFocus:d,placeholder:u,size:void 0===g?"lg":g,value:_})})}},850028(e,r,t){var i=t(460657),n=t(370714),o=t(879667);r.A=function(e){var r=e.type,t=(0,n.A)(),a={group:{accessibilityLabel:t._('group board', 'Board picker group board icon', 'Board picker group board icon'),icon:"people"},protected:{accessibilityLabel:t._('protected board', 'Board picker protected board icon', 'Board picker protected board icon'),icon:"shield-check"},secret:{accessibilityLabel:t._('secret board', 'Board picker secret board icon', 'Board picker secret board icon'),icon:"lock"},sections:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-right"},sectionsInline:{accessibilityLabel:t._('board with sections', 'Board picker board with sections icon', 'Board picker board with sections icon'),icon:"chevron-down"}}[r],s="sections"===r||"sectionsInline"===r;return(0,o.jsx)(i.az,{marginStart:+!!s,children:(0,o.jsx)(i.az,{marginStart:2*!!s,children:"sections"===r||"sectionsInline"===r?(0,o.jsx)(i.In,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:"12"}):(0,o.jsx)(i.In,{accessibilityLabel:a.accessibilityLabel,color:"default",icon:a.icon,size:16})})})}},316698(e,r,t){t.d(r,{AJ:function(){return s},Dp:function(){return o},GZ:function(){return m},N6:function(){return y},P0:function(){return g},Sr:function(){return u},TB:function(){return d},WA:function(){return n},WC:function(){return c},bL:function(){return h},gU:function(){return f},ik:function(){return _},kE:function(){return b},mP:function(){return l},wj:function(){return a},yi:function(){return p}});var i=t(895684),n=1048576,o=3,a=20,s=3,l=10,c=50,d=10,u=1200,_=375,g=375/i.$G,h=4096,p="#FFFFFF",m={blockStyle:{x_coord:4.27,y_coord:46.82,width:91.46,height:26.35,corner_radius:0},style:{font_id:6,hex_color:"#FFFFFF",font_size:36,alignment:1},text:"",type:"story_pin_paragraph_block"},f=420,y=325,b=768},167841(e,r,t){t.d(r,{A:function(){return d}});var i=t(460657),n=t(778443),o=t(370714),a=t(799632),s=t(991224),l=t(879667);function c(e){var r=e.ideaPinImages,t=r.map(function(e,r){var t,n;return(0,l.jsx)(i.az,{borderColor:"decorative",borderWidth:"sm",color:"default",dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:r}},height:48,overflow:"hidden",rounding:200,width:28,children:(null==e?void 0:e.url)&&(0,l.jsx)(i._V,{alt:"",color:"#696969",fit:"cover",naturalHeight:null!=(t=null==e?void 0:e.height)?t:1,naturalWidth:null!=(n=null==e?void 0:e.width)?n:1,src:e.url})},r)});return(0,l.jsx)(i.so,{justifyContent:"center",children:(0,l.jsx)(i.so,{justifyContent:"start",width:{1:28,2:40,3:48}[r.length],children:t})})}function d(e){var r=e.handleHide,t=e.text,d=e.userId,u=e.href,_=e.imageUrl,g=(0,o.A)(),h=(0,s.qJ)(),p=(0,a.A)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"partner_grid_item",user_id:d}}),m=Array.isArray(t)?t.join(" "):t;if(0===(p.data||[]).length)return(0,l.jsx)(n.A,{duration:5e3,href:u,onHide:r,text:m,thumbnail:_?{image:(0,l.jsx)(i._V,{alt:g._('Image of who you followed', 'userFollowingToast.thumbnail.userImage', 'Profile thumbnail of the user you followed'),fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}:void 0});var f=(p.data||[]).slice(0,3).map(function(e){var r;return null==(r=e.images)?void 0:r[h?"236x":"170x"]}),y=(0,l.jsx)(c,{ideaPinImages:f});return(0,l.jsx)(n.A,{_dangerouslySetThumbnail:y,duration:5e3,href:u,onHide:r,text:m})}}}]);