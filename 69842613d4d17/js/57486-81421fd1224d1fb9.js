(self.legacyJsonp=self.legacyJsonp||[]).push([["57486"],{851003(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(157203),o=n(460657),i=n(68448),a=n(186122),l=n(370714),s=n(212180),c=n(810227),u=n(879667);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.direction,n=e.onClick,r=(0,l.A)(),i="right"===t?r._('Click to scroll right', 'featuredBoards.featuredBoardsModule.iconScrollRight.label', 'Accessibility label for clicking to scroll right in Featured Boards Module'):r._('Click to scroll left', 'featuredBoards.featuredBoardsModule.iconScrollLeft.label', 'Accessibility label for clicking to scroll left in Featured Boards Module');return(0,u.jsx)(o.az,{alignItems:"center",display:"flex",height:157,left:"left"===t,marginEnd:5*("right"===t),marginStart:5*("left"===t),position:"absolute",right:"right"===t,top:!0,children:(0,u.jsx)(o.az,{elevation:"shadowFloating",height:"var(--sema-space-800)",rounding:400,children:(0,u.jsx)(o.K0,{accessibilityLabel:i,bgColor:"default",icon:"right"===t?"chevron-right":"chevron-left",onClick:n,size:"sm"})})})};function m(e){return null==e?void 0:e.map(function(e){var t=e.type,n=e.id;return"".concat(null!=t?t:"",":").concat(null!=n?n:"")}).join("|")}function h(e){var t=e.board,n=e.boardIndex,i=e.slotIndex,l=e.story,d=e.viewParameter,f=e.viewType,p=(0,a.o)().logContextEvent,h=t.id,_=t.pin_count,y=(0,s.bi)({clientTrackingParams:l.tracking_params,componentType:15086,contextLogData:{board_id:h,board_pin_count:null!=_?_:0,board_index:n,content_ids:m(null==l?void 0:l.objects),story_id:l.id,story_type:l.story_type},impressionType:"Board",loggingId:l.id,slotIndex:i,viewParameter:d,viewType:f}),v=(0,r.useCallback)(function(){p({aux_data:{board_id:h,board_index:n,board_pin_count:null!=_?_:0,content_ids:m(null==l?void 0:l.objects),story_id:l.id,story_type:l.story_type},component:15086,event_type:102,view_type:f,view_parameter:d})},[h,n,p,_,l,d,f]);return(0,u.jsx)(o.az,{ref:y,children:(0,u.jsx)(o.Rp,{onTap:v,children:(0,u.jsx)(c.default,{boardKey:{type:"Legacy",data:t},display:"static",isCollaboratorsAttributionVisible:!0,isFeaturedBoardsModule:!0,noPaddings:!0,showFollowButton:!1,type:"grid",viewParameter:d,viewType:f},h)})})}function _(e){var t,n,l=e.renderAsStory,c=void 0!==l&&l,f=e.slotIndex,_=e.story,y=e.viewParameter,v=e.viewType,b=(0,a.o)().logContextEvent,g=(0,r.useRef)(null),x=((0,i.A)()||{}).width,w=d((0,r.useState)({current:0,end:!1,start:!0}),2),A=w[0],j=w[1],P=d((0,r.useState)(!c),2),S=P[0],C=P[1],O=_.action,I=_.objects,T=_.subtitle,E=_.title,k=O&&O.text&&O.url,z=(0,s.bi)({clientTrackingParams:_.tracking_params,componentType:15086,contextLogData:{content_ids:m(null==_?void 0:_.objects),story_id:_.id,story_index:f,story_reason:"Featured Boards Module",story_title:null==(t=_.title)?void 0:t.format,story_type:_.story_type,total_object_count:null==(n=_.objects)?void 0:n.length},impressionType:"Story",loggingId:_.id,slotIndex:f,viewParameter:y,viewType:v}),D=function(e){if(g.current){var t=g.current,n=t.clientWidth,r=t.scrollLeft,o=t.scrollWidth-n,i=Math.max(0,(r||0)+240*Math.floor(n/240)*e);0===i?g.current.scrollLeft=0:o-i<118?g.current.scrollLeft=o:g.current.scrollLeft=i-i%240,b({aux_data:{content_ids:m(null==_?void 0:_.objects),story_id:_.id,story_type:_.story_type},component:15086,event_type:e>0?9315:9316,view_type:v,view_parameter:y})}},M=function(){if(g.current){var e=g.current.scrollLeft||0,t=e+g.current.clientWidth>=g.current.scrollWidth;j({current:e,end:t,start:0===e})}};return(0,r.useEffect)(function(){if(g.current){var e=g.current;C(e.clientWidth<e.scrollWidth),M()}},[c,x]),(0,u.jsxs)(o.az,{ref:z,borderColor:c?void 0:"decorative",borderWidth:c?void 0:"lg",paddingY:5,rounding:400,children:[(0,u.jsx)(o.az,{paddingX:7,children:(0,u.jsxs)(o.so,{alignItems:"center",gap:2,justifyContent:c?"center":"between",children:[(0,u.jsxs)(o.az,{children:[T&&(0,u.jsx)(o.KJ,{align:c?"center":"start",size:"200",children:T.format}),E&&(0,u.jsx)(o.az,{marginTop:+!!T,children:(0,u.jsx)(o.KJ,{align:c?"center":"start",size:"400",weight:"bold",children:E.format})})]}),k&&(0,u.jsx)(o.$n,{color:"secondary",onClick:function(e){e.event.stopPropagation(),b({event_type:101,component:15086}),window.location.assign(O.url)},text:O.text})]})}),(0,u.jsxs)(o.az,{marginTop:3,position:"relative",children:[(0,u.jsxs)(o.az,{ref:g,dangerouslySetInlineStyle:{__style:{gap:"4px",scrollBehavior:"smooth"}},display:"flex",justifyContent:c&&!S?"center":"start",onScroll:M,overflow:"hidden",paddingX:4,children:[(0,u.jsx)(o.az,{width:"var(--sema-space-500)"}),null==I?void 0:I.map(function(e,t){return(0,u.jsx)(h,{board:e,boardIndex:t,slotIndex:f,story:_,viewParameter:y,viewType:v},e.id)}),(0,u.jsx)(o.az,{width:"var(--sema-space-500)"})]}),S&&!A.start&&(0,u.jsx)(p,{direction:"left",onClick:function(){return D(-1)}}),S&&!A.end&&(0,u.jsx)(p,{direction:"right",onClick:function(){return D(1)}})]})]})}},503568(e,t){"use strict";t.A=64},998476(e,t,n){"use strict";n.d(t,{A:function(){return c},f:function(){return s}});var r=n(620162),o=n(497398),i=n(395394);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var l=["/","/homefeed/"];function s(){var e=(0,i.V2)().getItem(o.fE);return e&&"object"===a(e)&&"time"in e&&"scrollPosition"in e?e:null}function c(){var e=(0,r.zy)().pathname,t=(0,r.wQ)();if(l.includes(e)&&"POP"!==t){var n=s(),o=null!=n&&n.time?Date.now()-n.time:0;return{shouldMaintainHomefeed:o>0&&o/6e4<2.5,lastHFScrollPosition:null==n?void 0:n.scrollPosition}}return{shouldMaintainHomefeed:!1}}},198457(e,t,n){"use strict";var r=n(157203),o=n(365506),i=n(879667),a=(0,r.lazy)(function(){return n.e("4008").then(n.bind(n,132603))});t.A=function(e){var t=e.placementId;return(0,i.jsx)(o.Je,{eligibleIds:[500818],placementId:t,children:function(e){var t=e.complete,n=e.dismiss;return(0,i.jsx)(r.Suspense,{children:(0,i.jsx)(a,{onComplete:t,onDismiss:n})})}})}},893665(e,t,n){"use strict";n.d(t,{A:function(){return k}});var r=n(157203),o=n(460657),i=n(754927),a=n(365506),l=n(972078),s=n(528994),c=n(44813),u=n(359580),d=n(250913),f=n(835400),p=n(667533),m=n(879667);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return y(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,a}};function p(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,m=i[2];n>3?(o=m===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),l=u,s=m;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(y(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,y(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,y(u,"constructor",c),y(c,"constructor",s),s.displayName="GeneratorFunction",y(c,o,"GeneratorFunction"),y(u),y(u,o,"Generator"),y(u,r,function(){return this}),y(u,"toString",function(){return"[object Generator]"}),(_=function(){return{w:i,m:d}})()}function y(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(y=function(e,t,n,r){function i(t,n){y(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function v(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==h(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var x=(0,p.A)(function(){return n.e("61061").then(n.bind(n,279210))},{ssr:!1},function(e){return 279210},void 0,void 0),w=(0,p.A)(function(){return n.e("63436").then(n.bind(n,927751))},{ssr:!1},function(e){return 927751},void 0,void 0),A=(0,p.A)(function(){return Promise.all([n.e("30472"),n.e("95635")]).then(n.bind(n,746939))},{ssr:!1},function(e){return 746939},void 0,void 0),j=(0,p.A)(function(){return n.e("92416").then(n.bind(n,955171))},{ssr:!1},function(e){return 955171},void 0,void 0),P=(0,p.A)(function(){return Promise.all([n.e("61749"),n.e("29789"),n.e("4414")]).then(n.bind(n,804357))},{ssr:!1},function(e){return 804357},void 0,void 0),S=(0,p.A)(function(){return n.e("20473").then(n.bind(n,802880))},{ssr:!1},function(e){return 802880},void 0,void 0),C=(0,p.A)(function(){return n.e("47128").then(n.bind(n,930379))},{ssr:!1},function(e){return 930379},void 0,void 0),O=(0,p.A)(function(){return n.e("57125").then(n.bind(n,889476))},{ssr:!1},function(e){return 889476},void 0,void 0),I=(0,p.A)(function(){return n.e("55833").then(n.bind(n,502176))},{ssr:!1},function(e){return 502176},void 0,void 0),T=[505933,506173,506124,506436,508591],E=function(e){var t,n=e.complete,r=e.dismiss,a=e.experience,s=e.placementId,p=a.experience_id,h=a.display_data,y=function(e){switch(e){case 504721:return C;case 504569:return S;case 504032:return O;case 502271:return w;case 505093:return I;default:return x}}(p),b=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(p),E=(0,l.NM)().setObserverRef;return(0,m.jsxs)(o.az,{ref:E,children:[!T.includes(p)&&(0,m.jsx)(c.Ay,{accessibilityModalLabel:"",onDismiss:r,size:b,children:(0,m.jsx)(y,g(g({},(0,u.A)(d.A)(h)),{},{experienceId:p,handleComplete:n,handleDismiss:r,placementId:s}))}),506124===p&&(0,m.jsx)(A,g({handleComplete:n,handleDismiss:r,isDesktop:!0,isGooglePrimary:!0},(0,u.A)(d.A)(h))),(506173===p||506436===p)&&(0,m.jsx)(A,g({handleComplete:n,handleDismiss:r,isDesktop:!0,isGooglePrimary:!1},(0,u.A)(d.A)(h))),508591===p&&(0,m.jsx)(P,{experienceId:508591,onSubmitSurvey:(t=_().m(function e(){return _().w(function(e){for(;;)switch(e.n){case 0:(0,i.A)((0,f.A)({site:"www",path:"/business/marketing-plan"}));case 1:return e.a(2)}},e)}),function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){v(i,r,o,a,l,"next",e)}function l(e){v(i,r,o,a,l,"throw",e)}a(void 0)})}),placementId:s,viewType:251}),505933===p&&(0,m.jsx)(j,{handleComplete:function(){n(),(0,i.A)((0,f.A)({site:"sterling",path:"/reporting/"}))},handleDismiss:r,onAdsReportingSurface:!1})]})};function k(e){var t=e.placementId,n=(0,s.A)(t),o=n.enableExperienceSession,i=n.endOnSurfaceChange;return(0,m.jsx)(r.Fragment,{children:(0,m.jsx)(a.Je,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505933,506173,506124,506436,508591],enableExperienceSession:o,placementId:t,sessionEndOnSurfaceChange:i,children:function(e){var n=e.complete,r=e.dismiss,o=e.experience;return(0,m.jsx)(E,{complete:n,dismiss:r,experience:o,placementId:t})}})})}},874566(e,t,n){"use strict";n.d(t,{A:function(){return s}});var r=n(867076);function o(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",a=n.toStringTag||"@@toStringTag";function l(n,r,o,a){var l=Object.create((r&&r.prototype instanceof c?r:c).prototype);return i(l,"_invoke",function(n,r,o){var i,a,l,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,a=0,l=e,f.n=n,s}};function p(n,r){for(a=n,l=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,m=i[2];n>3?(o=m===r)&&(l=i[(a=i[4])?5:(a=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(a=0,f.v=r,f.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,a=0))}if(o||n>1)return s;throw d=!0,r}return function(o,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),a=u,l=m;(t=a<2?e:l)||!d;){i||(a?a<3?(a>1&&(f.n=-1),p(a,l)):f.n=l:f.v=l);try{if(c=2,i){if(a||(o="next"),t=i[o]){if(!(t=t.call(i,l)))throw TypeError("iterator result is not an object");if(!t.done)return t;l=t.value,a<2&&(a=0)}else 1===a&&(t=i.return)&&t.call(i),a<2&&(l=TypeError("The iterator does not provide a '"+o+"' method"),a=1);i=e}else if((t=(d=f.n<0)?l:n.call(r,f))!==s)break}catch(t){i=e,a=1,l=t}finally{c=1}}return{value:t,done:d}}}(n,o,a),!0),l}var s={};function c(){}function u(){}function d(){}t=Object.getPrototypeOf;var f=d.prototype=c.prototype=Object.create([][r]?t(t([][r]())):(i(t={},r,function(){return this}),t));function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,i(e,a,"GeneratorFunction")),e.prototype=Object.create(f),e}return u.prototype=d,i(f,"constructor",d),i(d,"constructor",u),u.displayName="GeneratorFunction",i(d,a,"GeneratorFunction"),i(f),i(f,a,"Generator"),i(f,r,function(){return this}),i(f,"toString",function(){return"[object Generator]"}),(o=function(){return{w:l,m:p}})()}function i(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(i=function(e,t,n,r){function a(t,n){i(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(a("next",0),a("throw",1),a("return",2))})(e,t,n,r)}function a(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function l(e){a(i,r,o,l,s,"next",e)}function s(e){a(i,r,o,l,s,"throw",e)}l(void 0)})}}function s(e,t){return c.apply(this,arguments)}function c(){return(c=l(o().m(function e(t,n){var i,a,s;return o().w(function(e){for(;;)switch(e.n){case 0:return i=function(){var e=l(o().m(function e(){var t;return o().w(function(e){for(;;)if(0===e.n)return t={name:n._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}},e.a(2,r.A.create("BoardResource",t).callCreate())},e)}));return function(){return e.apply(this,arguments)}}(),e.n=1,i();case 1:return a=e.v.resource_response.data,s=function(){var e=l(o().m(function e(n){var i;return o().w(function(e){for(;;)if(0===e.n)return e.a(2,r.A.create("RepinResource",{board_id:n,description:t.description||"",is_removable:null!=(i=t.promotedIsRemovable)?i:void 0,link:t.link,pin_id:t.entityId||"",title:t.title||""}).callCreate({showError:!1}))},e)}));return function(t){return e.apply(this,arguments)}}(),e.n=2,s(a.id);case 2:return e.a(2,a)}},e)}))).apply(this,arguments)}},701230(e,t,n){"use strict";n.d(t,{T5:function(){return a},TE:function(){return l},Tj:function(){return c},fE:function(){return s},wh:function(){return i},zZ:function(){return o}});var r=n(460657),o=16,i=137,a=103,l="rgba(17,17,17,0.4)",s=new r.rk(1),c=function(){return 5}},374158(e,t,n){"use strict";n.d(t,{A:function(){return U}});var r,o,i=n(157203),a=n(550247),l=function(e,t){for(var n=e;n;){if(t(n))return!0;n=n.parentElement}return!1},s=n(283650),c=[s.EV,s.R0].map(function(e){return'div[data-grid-item] [data-test-id="'.concat(e,'"] img')}).join(", "),u=n(620162),d=n(460657),f=n(476766),p=n(837855),m=n(370714),h=n(361268),_=n(879667);function y(e){var t=e.onDismiss,n=e.trackHardRefresh,r=(0,m.A)(),o=(0,u.Zp)(),i=(0,p.A)();return(0,_.jsx)(d.Wd,{zIndex:f.nH,children:(0,_.jsx)(d.mS,{accessibilityModalLabel:r._('Ad blocker modal', 'adBlockModal.modal.accessibilityModalLabel', 'Announces the ad blocker modal to the user'),heading:r._('Ad Blocker detected', 'adBlockModal.modal.header.heading', 'Main modal heading announcing ad blocker detection on the browser'),onDismiss:t,primaryAction:{accessibilityLabel:r._('Dismiss ad blocker modal', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:r._('Got it', 'adBlockModal.primaryAction.button.dismiss', 'Button for dismissing the message and closing the modal window'),onClick:t},secondaryAction:{accessibilityLabel:r._('Refresh after deactivating ad blocker', 'adBlockModal.primaryAction.button.dismiss.accessibilityLabel', 'Button for dismissing the message and closing the modal window'),label:r._('Refresh', 'adBlockModal.secondaryAction.button.refresh', 'Button for refreshing page'),onClick:function(){n(),o(0)}},type:"error",children:(0,_.jsxs)(d.so,{direction:"column",gap:6,children:[(0,_.jsx)(d.KJ,{inline:!0,children:(0,h.$w)({text:r._('Please <strong id="1">disable your ad blocker</strong> to access more features and get the full experience of Pinterest.', 'adBlockModal.modal.text.guidelines', 'Instruction to disable the ad blocker.'),jsxReplacements:{1:function(e){var t=e.innerHtmlStrings;return(0,_.jsx)(d.KJ,{inline:!0,weight:"bold",children:t},1)}}})}),(0,_.jsx)(d.KJ,{children:r._('After you disable the ad blocker, please refresh the page.', 'adBlockModal.modal.text.afterDisable', 'Instruction to refresh the page after ad blocker is disabled')}),i.isAuth&&i.isEmployee&&(0,_.jsx)(d.KJ,{italic:!0,children:(0,h.$w)({text:r._('Pinterest Employees: If you do not have an ad blocker enabled, please <a id="reportBugLink">report a bug</a> because you should not see this modal.', 'adBlockModal.modal.text.employeeReportIssue', 'Instruction to report incorrect detections'),jsxReplacements:{reportBugLink:function(e){var t=e.innerHtmlStrings;return(0,_.jsx)(d.N_,{display:"inline",externalLinkIcon:{size:"100"},href:"http://pinch/report-adblockmodal-bug",target:"blank",children:t})}}})})]})})})}var v=n(805454),b=n(467780),g=n(792307),x=n(891546),w=n(425347);function A(e){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return P(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function S(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return C(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,a}};function p(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,m=i[2];n>3?(o=m===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),l=u,s=m;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(C(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,C(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,C(u,"constructor",c),C(c,"constructor",s),s.displayName="GeneratorFunction",C(c,o,"GeneratorFunction"),C(u),C(u,o,"Generator"),C(u,r,function(){return this}),C(u,"toString",function(){return"[object Generator]"}),(S=function(){return{w:i,m:d}})()}function C(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(C=function(e,t,n,r){function i(t,n){C(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function O(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function I(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){O(i,r,o,a,l,"next",e)}function l(e){O(i,r,o,a,l,"throw",e)}a(void 0)})}}function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var k=function(){return n.e("37387").then(n.bind(n,309408))},z=function(e){var t=(0,b._8)(),n=t.country,r=t.userAgent.browserName;return function(t,o){(0,w.GV)("adblockmodal.".concat(t),{sampleRate:1,flushImmediate:"refreshed"===t,tags:E({country:n,browserName:r,surface:e},o)})}},D=function(){return new Date().toISOString()},M=function(e){var t=new Date;return t.setDate(t.getDate()-30),new Date(e)>t},R=(r=I(S().m(function e(t){var n,r;return S().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k();case 1:r=e.v.adBlockAnalyticsRecordValidator,g.Ay.setItem(a.u2,E(E({},null!=(n=g.Ay.getItem(a.u2))?n:r.cast({})),t));case 2:return e.a(2)}},e)})),function(e){return r.apply(this,arguments)}),B=(o=I(S().m(function e(t){var n,r;return S().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,k();case 1:r=e.v.adBlockModalDismissalRecordValidator,g.Ay.setItem(a.Il,E(E({},null!=(n=g.Ay.getItem(a.Il))?n:r.cast({})),t));case 2:return e.a(2)}},e)})),function(e){return o.apply(this,arguments)}),N=!1;function L(e){var t=e.detected,n=e.surface,r=e.isDismissedRecently,o=z(n);return(0,x.A)(function(){var e=g.Ay.getItem(a.u2);if(N||(o("broad_detection",{detected:t,hasSeenModal:!!(null!=e&&e.displayedAt),isDismissedRecently:r}),N=!0),!r)if(t){if(!(null!=e&&e.adblockDetectedAt)){var n={adblockDetectedAt:D()};o("detected"),null!=e&&e.displayedAt||(n=E(E({},n),{},{displayedAt:D()}),o("displayed")),R(n)}}else!(null!=e&&e.noAdBlockDetectedAt)&&(R({noAdBlockDetectedAt:D()}),null!=e&&e.adblockDetectedAt?(o("disabled"),null!=e&&e.displayedAt&&o("disabled_after_displayed")):o("not_detected"))}),null}var F=function(e){var t=z(e),n=j((0,i.useState)("UNKNOWN"),2),r=n[0],o=n[1];return(0,i.useEffect)(function(){var e=g.Ay.getItem(a.Il),t=null==e?void 0:e.dismissedAt;o(!!t&&M(t))},[]),{isDismissedRecently:r,onDismiss:function(){o(!0),B({dismissedAt:D()}),t("dismissed")}}},G=function(){var e=j((0,i.useState)("UNKNOWN"),2),t=e[0],n=e[1];return(0,x.A)(function(){setTimeout(function(){n(Array.from(document.querySelectorAll(c)).some(function(e){var t;return(((t=e).checkVisibility?!t.checkVisibility({contentVisibilityAuto:!0,opacityProperty:!0,visibilityProperty:!0}):l(t,function(e){var t=window.getComputedStyle(e);return"none"===t.display||"hidden"===t.visibility}))||l(t,function(e){return .5>=parseFloat(window.getComputedStyle(e).opacity)}))&&null===e.closest('[data-test-id="'.concat(s.Dt,'"]'))&&null===e.closest('body>div[hidden]:has(> template[data-msg^="Switched to client rendering because the server rendering errored"])')}))},0)}),t};function U(e){var t=e.surface,n=F(t),r=n.isDismissedRecently,o=n.onDismiss,a=z(t),l=(0,v.A)().checkExperiment,s=G();return"UNKNOWN"===r||"UNKNOWN"===s?null:(0,_.jsxs)(i.Fragment,{children:[s&&!r&&l("feature_gate_ads_adblockmodal").anyEnabled&&(0,_.jsx)(y,{onDismiss:o,trackHardRefresh:function(){a("refreshed")}}),(0,_.jsx)(L,{detected:s,isDismissedRecently:r,surface:t})]})}},29096(e,t,n){"use strict";function r(e){for(var t=e.gutterWidth,n=e.isRTL,r=e.itemWidth,o=e.maxColumns,i=void 0===o?16:o,a=e.minColumns,l=void 0===a?2:a,s=(void 0===r?236:r)+t,c="\n.gridCentered {\n  margin-left: auto;\n  margin-right: auto;\n}\n.gridCentered .static {\n  padding: 0 ".concat(t/2,"px;\n  position: absolute;\n  visibility: hidden;\n}\n"),u=l;u<i+1;u+=1){var d=u===l?0:u*s;c+="\n@media (min-width: ".concat(d,"px) and (max-width: ").concat((u+1)*s-1,"px) {\n  .gridCentered {\n    max-width: ").concat(u*s,"px;\n  }\n  .gridCentered .static:nth-child(-n+").concat(u,") {\n    position: static !important;\n    visibility: visible !important;\n    float: ").concat(n?"right":"left",";\n    display: block;\n  }\n}\n")}return c}n.d(t,{A:function(){return r}})},797395(e,t,n){"use strict";n.d(t,{c:function(){return c},n:function(){return s}});var r=n(157203),o=n(407918),i=n(879667);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var l=(0,r.createContext)({recaptchaV3Token:"",refreshToken:function(){}});function s(e){var t,n=e.children,s=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(""))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return a(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),c=s[0],u=s[1],d=(0,r.useCallback)(function(){(0,o.x6)(function(e){return u(e)},function(){},o.gm)},[]);(0,r.useEffect)(function(){d();var e=setInterval(d,o.oX);return function(){clearInterval(e)}},[d]);var f=(0,r.useMemo)(function(){return{recaptchaV3Token:c,refreshToken:d}},[c,d]);return(0,i.jsx)(l,{value:f,children:n})}var c=function(){return(0,r.use)(l)}},407918(e,t,n){"use strict";n.d(t,{HV:function(){return g},Ji:function(){return y},OK:function(){return u},OQ:function(){return m},gm:function(){return _},ih:function(){return f},kS:function(){return v},lU:function(){return h},oX:function(){return c},pW:function(){return p},uc:function(){return b},x6:function(){return s},z1:function(){return d}});var r=n(425347),o="onloadRecaptchaJsCallback",i="6Ldx7ZkUAAAAAF3SZ05DRL2Kdh911tCa3qFP0-0r",a="recaptcha-enterprise-src",l=function(e,t,n){(0,r.GV)("recaptcha_v3.request_token.attempt",{sampleRate:.1,tags:{action:n}}),void 0===window.grecaptcha||void 0===window.grecaptcha.enterprise?(t(Error("Error loading reCAPTCHA Enterprise")),(0,r.GV)("recaptcha_v3.request_token.js_loading_error",{sampleRate:.1,tags:{action:n}})):window.grecaptcha.enterprise.ready(function(){try{window.grecaptcha.enterprise.execute(i,{action:n}).then(e).catch(t)}catch(e){(0,r.GV)("recaptcha_v3.request_token.exec_error",{sampleRate:.1,tags:{action:n}}),t(e)}})},s=function(e,t,n){if(window[o]=function(){return l(e,t,n)},null!==document.getElementById(a))l(e,t,n);else{var r=document.createElement("script");r.id=a,r.src="".concat("https://www.recaptcha.net/recaptcha/enterprise.js","?onload=").concat(o,"&render=").concat(i);var s=document.getElementsByTagName("script")[0];s.parentNode&&s.parentNode.insertBefore(r,s)}},c=105e3,u=8e3,d=3e4,f="mweb_auth",p="mweb_login",m="mweb_signup",h="web_auth",_="web_unauth",y="mweb_reset_password",v="web_reset_password",b="mweb_change_password",g="web_change_password"},818054(e,t,n){"use strict";n.d(t,{o:function(){return o}});var r=(0,n(4513).A)("Conversations"),o=r.Provider;t.A=r.get},581596(e,t,n){"use strict";var r,o=n(186122),i=n(425347);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t,n){var r;return(r=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==a(r)?r:r+"")in e)?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=(l(l(l(l(l(l(l(l(l(l(r={},13,function(e){return!!e.view_parameter}),9105,function(e){return!!e.view_parameter}),9104,function(e){return!!e.view_parameter}),10357,function(e){return!!e.view_parameter}),10358,function(e){return!!e.view_parameter}),10359,function(e){return!!e.view_parameter}),10360,function(e){return!!e.view_parameter}),15748,function(e){return!!e.view_parameter}),110,function(e){return!!e.view_parameter}),16248,function(e){return!!e.view_parameter}),l(l(l(l(l(l(l(l(l(l(r,16677,function(e){return!!e.view_parameter}),10484,function(e){return!!e.view_parameter}),16678,function(e){return!!e.view_parameter}),102,function(e){return!!e.element&&!!e.view_parameter}),101,function(e){return!!e.element&&!!e.view_parameter}),15749,function(e){return!!e.element&&!!e.view_parameter}),8721,function(e){return!!e.element&&!!e.view_parameter}),8722,function(e){return!!e.element&&!!e.view_parameter}),120,function(e){return!!e.element&&!!e.view_parameter}),4104,function(e){return!!e.view_parameter&&!e.element}),l(l(l(l(l(l(l(r,4105,function(e){return!!e.view_parameter&&!e.element}),8900,function(e){return!!e.view_parameter&&!e.element}),16480,function(e){return!!e.view_parameter&&!e.element}),9626,function(e){return!!e.view_parameter&&!e.element}),9625,function(e){return!!e.view_parameter&&!e.element}),46,function(e){return!!e.view_parameter&&!e.element}),45,function(e){return!!e.view_parameter&&!e.element})),c=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,15950,14572,14573,14574,14575,14576,15900,43],u=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],d=function(e){var t,n=e.event_type,r=e.element,o=e.view_parameter;return Object.keys(s).includes("".concat(n))&&(!r||c.includes(r))&&(!o||u.includes(o))?(null==(t=s[n])?void 0:t.call(s,e))?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}};t.A=function(){var e=(0,o.o)().logContextEvent;return function(t){var n=t.event_type,r=t.element,o=t.view_parameter,a=t.component,l=t.view_type,s=t.aux_data,c=t.object_id_str,u=d(t);if(u){console.error(u.message),(0,i.GV)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:u.code,component:a,event_type:n,element:r,view_type:l,view_parameter:o}});return}e({component:a,event_type:n,element:r,view_parameter:o,view_type:l,aux_data:s,object_id_str:c})}}},312008(e,t,n){"use strict";n.d(t,{A:function(){return tH}});var r=n(157203),o=n(620162),i=n(460657),a=n(106386),l=n(522321),s=function(){var e=window,t=document,n="addEventListener",r="load";function o(){var e,n=t.createElement("script");n.async=!0,n.src="//radar.cedexis.com/1/14290/radar.js",null==(e=t.body)||e.appendChild(n)}(function(){for(var e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(r,o,!1):(n=e.attachEvent)&&n("on"+r,o):o())},c=n(851003),u=n(503568),d=n(883948),f=n(998476),p=n(289670),m=n(701230),h=n(874566),_=n(550247),y=n(497398),v=n(374158),b=n(52715),g=n(999345),x=n(365506),w=n(972078),A=n(810832),j=n(961772),P=n(29096),S=n(778443),C=n(837855),O=n(917860),I=n(993974),T=n(370714),E=n(227581),k=n(361268),z=n(953513),D=n(969600),M=n(76973),R=n(330501),B=n(805454),N=n(963663),L=n(333639),F=n(467780),G=n(799632),U=n(614974),W=n(792307),H=n(395394),V=n(889237),J=n(848450),K=n(822164),Y=n(281680),q=n(481989),$=n(132946),Z=n(891546),X=n(925207),Q=n(273100),ee=n(370437),et=n(26546),en=n(773643),er=n(573149),eo=n(649091),ei=n(360597),ea=n(257613),el=n(784706),es=n(265124),ec=n(169862),eu=n(512394),ed=n(425347),ef=n(667533),ep=n(879667);function em(e){return function(e){if(Array.isArray(e))return eh(e)}(e)||function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return eh(e,void 0);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?eh(e,void 0):void 0}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function e_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ey(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e_(Object(n),!0).forEach(function(t){ew(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e_(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ev(e){return(ev="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eb(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eb=function(){return!!e})()}function eg(e){return(eg=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ex(e,t){return(ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ew(e,t,n){return(t=eA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function eA(e){var t=function(e,t){if("object"!=ev(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ev(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ev(t)?t:t+""}var ej=(0,ef.A)(function(){return n.e("47641").then(n.bind(n,139285))},void 0,function(e){return 139285},"MoreIdeasTabsNavCommon",function(e){return ["47641"]}),eP=(0,ef.A)(function(){return n.e("41167").then(n.bind(n,615666))},{ssr:!1},function(e){return 615666},void 0,void 0),eS=(0,ef.A)(function(){return n.e("14205").then(n.bind(n,516940))},{ssr:!1},function(e){return 516940},void 0,void 0),eC=(0,ef.A)(function(){return Promise.all([n.e("19622"),n.e("98728"),n.e("1451")]).then(n.bind(n,507995))},{ssr:!1},function(e){return 507995},void 0,void 0),eO=(0,ef.A)(function(){return n.e("44529").then(n.bind(n,160328))},{ssr:!1},function(e){return 160328},void 0,void 0),eI=(0,ef.A)(function(){return Promise.all([n.e("91796"),n.e("73672"),n.e("24015")]).then(n.bind(n,206165))},{ssr:!1},function(e){return 206165},void 0,void 0),eT=(0,r.lazy)(function(){return n.e("63436").then(n.bind(n,927751))}),eE=(0,r.lazy)(function(){return n.e("56761").then(n.bind(n,742080))}),ek=(0,r.lazy)(function(){return n.e("54615").then(n.bind(n,922346))}),ez=(0,ef.A)(function(){return n.e("96132").then(n.bind(n,388527))},void 0,function(e){return 388527},"app-www-EUPrompt-EUPromptModal",function(e){return ["96132"]}),eD=(0,ef.A)(function(){return n.e("59478").then(n.bind(n,317517))},void 0,function(e){return 317517},"app-packages-StructuredFeed-Feed-StructuredFeed",function(e){return ["59478"]}),eM=(0,ef.A)(function(){return Promise.all([n.e("28929"),n.e("75236")]).then(n.bind(n,772257))},void 0,function(e){return 772257},"app-common-react-components-save-board-BoardMoreIdeasTabContentResourceWrapper",function(e){return ["28929","75236"]}),eR=(0,r.lazy)(function(){return n.e("80481").then(n.bind(n,227928))}),eB=(0,ef.A)(function(){return n.e("29484").then(n.bind(n,829375))},void 0,function(e){return 829375},"app-www-discover-Bubbles-BubblesGridRep",function(e){return ["29484"]}),eN=(0,ef.A)(function(){return n.e("38831").then(n.bind(n,183315))},{fallback:(0,ep.jsx)(i.az,{height:1})},function(e){return 183315},"app-common-react-components-SummaryCard-Story-StoryCard",function(e){return ["38831"]}),eL=(0,r.createRef)(),eF=function(e){var t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},eG=function(e,t){return(e||[]).slice(0,t).map(function(e){return e.id})},eU=function(e){var t;function n(){var e,t,r;if(!(this instanceof n))throw TypeError("Cannot call a class as a function");for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n,r=[].concat(i),t=eg(t),ew(e=function(e,t){if(t&&("object"==ev(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this,eb()?Reflect.construct(t,r||[],eg(this).constructor):t.apply(this,r)),"state",{hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),ew(e,"refreshData",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",n=e.props.refreshData;e.setState({refreshReason:t,isRefreshing:!0},function(){n()})}),ew(e,"handleScroll",(0,V.A)(function(){var t=e.state.hasScrolled,n=e.props,r=n.experience,o=n.lastScrollYRef,i=window.scrollY,a=o.current;i<50?e.setState({hideTabs:!1}):Math.abs(i-a)>20&&(requestAnimationFrame(function(){a>i?e.setState({hideTabs:!1}):a<i&&e.setState({hideTabs:!0})}),o.current=i),r&&502535===r.experience_id&&!t&&e.setState({hasScrolled:!0})},10)),ew(e,"onWindowFocus",function(){e.windowBlurStart>-1&&Date.now()-e.windowBlurStart>6e5&&e.refreshData("MORE_THAN_10_MINUTES"),e.windowBlurStart=-1,e.clearFaviconNotification()}),ew(e,"onWindowBlur",function(){e.windowBlurStart=Date.now(),e.prepareForFaviconUpdate()}),ew(e,"onInstallPrompt",function(t){e.installPromptEvent=t,e.setState({pwaUpsellBannerEligibility:e.getpwaUpsellBannerEligibility()})}),ew(e,"clearFaviconNotification",function(){e.faviconUpdateTimeout&&(clearTimeout(e.faviconUpdateTimeout),e.faviconUpdateTimeout=null),eF("https://s.pinimg.com/webapp/favicon_48x48-7470a30d.png")}),ew(e,"prepareForFaviconUpdate",function(){e.faviconUpdateTimeout=setTimeout(function(){var e=W.Ay.getItem(_.eX);(!e||new Date().getTime()-e>=b.Wm)&&(eF("https://s.pinimg.com/webapp/favicon-notification_48x48-caeeb45a.png"),W.Ay.setItem(_.eX,new Date().getTime()))},6e5)}),ew(e,"windowBlurStart",-1),ew(e,"faviconUpdateTimeout",null),ew(e,"loadItems",function(){var t=e.props,n=t.dataIsFetching,r=t.feedLimit,o=t.fetchMoreData,i=t.homefeedData||[];if(r&&i.length>r){e.props.setFeedLoading&&e.props.setFeedLoading(!1);return}!n&&i.length>0&&o()}),ew(e,"installPromptEvent",null),ew(e,"getColumnSpanConfig",function(t){var n,r="recently_viewed"===t.story_type&&e.props.checkExperiment("web_recently_viewed_responsive").anyEnabled;if((0,O.mQ)(t)){var o,i,a,l=null==(a=e.props.homefeedData)?void 0:a[0],s=t.id===l.id,c=(0,O.O5)(t);return c.width===c.height?{sm:2,md:2,lg:2,xl:2}:{sm:2,md:2,lg:s?3:2,xl:3}}if((null==(o=t.display_options)||null==(o=o.item_view_rep_style)?void 0:o.explore_article_rep_style)===10||r)return{sm:2,md:3,lg:3,xl:4};if("story"===t.type&&"featured_boards"===t.story_type){var u,d=(null==t||null==(u=t.objects)?void 0:u.length)||0;return{sm:2,md:2,lg:Math.min(3,d),xl:Math.min(4,d)}}return"story"===t.type&&null!=t&&null!=(i=t.display_options)&&null!=(i=i.content_display)&&null!=(i=i.grid_layout)&&i.cols?t.display_options.content_display.grid_layout.cols:null!=(n=t.columnSpan)?n:1}),ew(e,"getpwaUpsellBannerEligibility",function(){var t=e.props.requestContext,n=e.state.pwaUpsellBannerEligibility;if(!(0,N.bi)(window)&&t&&!n&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";else if(e.installPromptEvent)return"chrome"}return"notEligible"}),ew(e,"handleInstallWindowsPWA",function(t){t(),(0,ed.GV)("windows.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),ew(e,"handleInstallChromePWA",function(t){t(),(0,ed.GV)("chrome.web.upsell.completed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),ew(e,"handleDismissChromePWAUpsell",function(t){t(),(0,ed.GV)("chrome.web.upsell.dismissed"),e.setState({pwaUpsellBannerEligibility:"notEligible"})}),ew(e,"renderItem",function(t){var n,r,o,i,a=t.data,l=t.itemIdx,s=e.props,u=s.homefeedData,d=s.lfvExperiences,f=s.location,p=s.isDwebScrollPinToTopOnTapExpEnabled,m=s.homefeedPopoverAnchorRefs,h=s.viewer;if(!a||!a.type)return console.error("Invalid data received. ",l,a),null;var _=e.props.checkExperiment("hfp_business_local_nav_tabs_web").anyEnabled;if(h.isAuth&&h.isPartner&&!(null!=(n=h.partner)&&n.is_boost_a_pin_partner)&&_&&"story"===a.type&&"board_more_ideas"===a.story_type)return null;var y=null==u||null==(r=u.find(function(e){return"home_feed_tabs"===e.type}))?void 0:r.tabs,v=(0,$.A)(f.search),b=v.boardId,g=v.holidayFinds,x=y?e.getCurrentTabIndex(f,b,g,y):en.Z,w=x>=1&&(null==(o=y[x-1])?void 0:o.tab_type)==="pinterest_picks",A=!!w&&(null==(i=y[x-1])?void 0:i.action.quick_save_icon)===1,j=w&&A;switch(a.type){case"pin":var P=!!d&&!!(0,z.A)(d),S=(0,es.zy)()[a.id],C=(0,ep.jsx)(ei.A,{homefeedPopoverAnchorRefs:m,imageOnlyOption:P?"image-only":"default",parentPinKey:null,pinKey:{type:"Legacy",data:S||a},saveButtonOptions:j?{savedInfo:{boardId:void 0,pinId:a.id,title:void 0,url:void 0},type:"inline"}:void 0,shouldWrapOnProfiler:!0,slotIndex:l,surface:"AuthHomefeed",trackingParams:a.tracking_params,viewParameter:j?4055:92,viewType:1});if(p)return(0,ep.jsx)(ec.A,{children:C});return C;case"story":var O=a.story_type;if((0,ed.GV)("web_story_card_type",{sampleRate:1,tags:{story_type:O||"unknown",surface:"homefeed"}}),"BUBBLE_ONE_COL"===O)return(0,ep.jsx)(eB,{bubbles:a.objects,id:a.id,referringSource:a.referring_source,slotIndex:l,storyType:O,title:a.title,viewParameter:92,viewType:1});if("featured_boards"===O)return(0,ep.jsx)(c.default,{slotIndex:l,story:a,surface:"AuthHomefeed",viewParameter:92,viewType:1});return(0,ep.jsx)(eN,{component:j?14769:void 0,itemIdx:l,saveButtonOptions:j?{savedInfo:{boardId:void 0,pinId:a.id,title:void 0,url:void 0},type:"inline"}:void 0,story:a,surface:"AuthHomefeed",viewParameter:j?4055:92,viewType:1});default:return null}}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ex(n,e),t=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.checkExperiment,r=t.experienceClient,o=t.navigate,i=t.location,a=t.mountWebRepinPlacement,l=t.toastManagerContext;r.triggerExperimentsForPlacement(1000116),n("web_disable_cedexis_sampling").anyEnabled||s();var c=(0,$.A)(i.search);c.show_error?"board"===c.from?l.showOneToast(function(t){var n=t.hideToast;return(0,ep.jsx)(S.A,{duration:5e3,onHide:n,text:e.props.i18n._('Board not found.', 'home.boardError', 'Generic error message for board errors')})}):l.showOneToast(function(t){var n=t.hideToast;return(0,ep.jsx)(S.A,{duration:5e3,onHide:n,text:e.props.i18n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- ')})}):i.state&&"/pin-builder/"===i.state.from?i.state.boardName&&i.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,$.A)(i.search).show_yip_modal&&(o("/homefeed/",{replace:!0}),this.setState({showYipModal:!0})),window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),a()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.dataIsFetching,r=t.navigationType,o=t.homefeedData,i=this.state.refreshReason,a=e.dataIsFetching,l=e.homefeedData;if(o&&l&&a&&!n&&o.length<=l.length){var s=eG(o,10),c=eG(l,10);this.logRefreshStats(i||("POP"!==r?"ROUTE_CHANGE":"UNKNOWN"),JSON.stringify(c)===JSON.stringify(s)),this.setState({isRefreshing:!1,refreshReason:null})}}},{key:"logRefreshStats",value:function(e,t){var n=this.props,r=n.currentHistoryStack,o=n.requestContext,i={appType:"web",language:o.language||"unknown",locale:o.locale||"unknown",refreshReason:e},a=(0,f.f)(),l=null!=a&&a.time?new Date(a.time):null,s=r&&r.length>1?r[r.length-2]:{};M.default.logToServer(M.default.SERVER_LOG_TYPE.HF_REFRESH,M.default.HTTP_METHOD.POST,{refreshReason:e,lastRoute:s.match,timeSinceHomefeed:l?Date.now()-l.getTime():null,timeSinceBlur:this.windowBlurStart?Date.now()-this.windowBlurStart:null}),(0,ed.GV)("home_product.homefeed.refresh",{sampleRate:1,tags:i}),t&&(0,ed.GV)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:i})}},{key:"componentWillUnmount",value:function(){var e=this.props.unmountWebRepinPlacement;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),(0,H.V2)().setItem(y.fE,{time:Date.now(),scrollPosition:[window.scrollX,window.scrollY]}),document.removeEventListener("scroll",this.handleScroll),e()}},{key:"isHomefeed",get:function(){var e=this.props,t=e.inLocalNavigation,n=e.location,r=(0,$.A)(n.search);return!(r&&"string"==typeof r.boardId&&r.boardId)||!!t}},{key:"handlePinSuccessPinBuilder",value:function(){var e=this.props,t=e.location,n=e.toastManagerContext,r=(t.state||{}).boardName,o=(t.state||{}).imageUrl,a=(0,k.vQ)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,ep.jsx)(i.KJ,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:r},r)});n.showOneToast(function(e){var t=e.hideToast;return(0,ep.jsx)(S.A,{duration:5e3,imageUrl:o,onHide:t,text:(0,ep.jsx)(i.KJ,{children:a},"toast_".concat(r))})})}},{key:"getCurrentTabIndex",value:function(e,t,n,r){return n||"/homefeed/holiday_finds/"===e.pathname?r.findIndex(function(e){return"pinterest_picks"===e.tab_type})+1:t?r.findIndex(function(e){return(null==e?void 0:e.id)===t})+1:en.Z}},{key:"render",value:function(){var e,t,n,o,a=this,l=this.state,s=l.hasScrolled,c=l.hideTabs,d=l.isRefreshing,f=l.pwaUpsellBannerEligibility,h=l.showYipModal,_=this.props,y=_.checkExperiment,b=_.dataIsFetching,w=_.dataIsRefreshing,A=_.homefeedData,S=_.isPinRepOptimizationExpEnabled,C=_.i18n,I=_.inLocalNavigation,T=_.location,k=_.requestContext,z=_.viewer,D=_.enableExperienceSession,M=_.experienceSessionEndOnSurfaceChange,R=_.homefeedPopoverAnchorRefs,B=A||[],N=B[0],F=!!N&&"story"===N.type&&["board_more_ideas","boards_more_ideas_feed_upsell_list_cards","boards_more_ideas_feed_upsell_list_cards_square"].includes(N.story_type),G=T&&T.pathname.includes("news_hub"),W=y("hfp_business_local_nav_tabs_web").anyEnabled,H=z.isAuth&&z.isPartner&&!(null!=(e=z.partner)&&e.is_boost_a_pin_partner),V=H&&W,K=I?null==(t=(F?B.slice(1):B).find(function(e){return"home_feed_tabs"===e.type}))?void 0:t.tabs:void 0;if(!K&&V){var q=F&&N||B.find(function(e){return"story"===e.type&&"board_more_ideas"===e.story_type});if(q&&"story"===q.type&&"board_more_ideas"===q.story_type){var Z=q.objects||q.content&&q.content.objects;Z&&Array.isArray(Z)&&Z.length>0&&(K=Z.filter(function(e){return"object"===ev(e)&&null!==e&&("__typename"in e||"type"in e)&&("BoardMoreIdeasFeedUpsell"===e.__typename||"board_more_ideas_feed_upsell"===e.type)}).map(function(e){return{id:String(e.boardMoreIdeasFeedUpsellId||e.id||("BoardMoreIdeasFeedUpsell"===e.__typename&&e.id?String(e.id):"")),name:e.boardMoreIdeasFeedUpsellName||e.board_name||("BoardMoreIdeasFeedUpsell"===e.__typename&&e.name?e.name:"")||"",tab_type:"board_more_ideas"}}).filter(function(e){return e.id&&e.name}))}}F&&N.objects&&(N.objects=N.objects.filter(function(e){return(null==e?void 0:e.images)&&"70x"in e.images&&"170x"in e.images}));var X=F?B.slice(1):B;V&&(X=X.filter(function(e){return"story"!==e.type||"board_more_ideas"!==e.story_type}));var et=(0,$.A)(T.search),er=et.boardId,eo=et.holidayFinds,ei=K?this.getCurrentTabIndex(T,er,eo,K):en.Z,ea=V?ei:+!!T.pathname.includes("/today"),el=y("dweb_eu_personalized_ads_prompt").anyEnabled;return(0,ep.jsxs)(r.Fragment,{children:[(0,ep.jsx)(x.X$,{anchors:ew(ew({},3011,R.current[3011]),3012,R.current[3012]),idealDirection:"down",onAnchorTouch:"complete",placementId:11,scrollToDismiss:!0}),(0,ep.jsx)(x.Je,{customExperienceSession:!0,eligibleIds:[505801],enableExperienceSession:D,placementId:11,sessionEndOnSurfaceChange:M,children:function(e){var t=e.complete;return(0,ep.jsx)(U.A,{children:(0,ep.jsx)(eR,{complete:t})})}}),(0,ep.jsx)(x.Je,{customExperienceSession:!0,eligibleIds:[504943,505226],enableExperienceSession:D,placementId:11,sessionEndOnSurfaceChange:M,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data,o=!("is_blocking"in r)||!!r.is_blocking,i=r.message_blocking;return o||(i=r.message_dismissible),(0,ep.jsx)(eS,{complete:t,dismiss:n,isBlockingModal:o,modalDescription:i})}}),(0,ep.jsx)(x.Je,{eligibleIds:[507661],placementId:11,children:function(e){var t=e.dismiss,n=e.experience.display_data;return(0,ep.jsx)(eC,{container:"AuthHomefeed",displayData:n,onDismiss:t})}}),el&&(0,ep.jsx)(x.Je,{eligibleIds:[507007],placementId:11,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience.display_data;return(0,ep.jsx)(ez,{complete:t,dismiss:n,displayData:r})}}),(0,ep.jsx)(x.Je,{customExperienceSession:!0,eligibleIds:[505111],enableExperienceSession:D,placementId:11,sessionEndOnSurfaceChange:M,children:function(e){var t=e.complete,n=e.dismiss;return(0,ep.jsx)(r.Suspense,{children:(0,ep.jsx)(ek,{complete:t,dismiss:n})})}}),(0,ep.jsx)(x.Je,{eligibleIds:[507924],placementId:11,children:function(e){var t=e.complete,n=e.dismiss;return(0,ep.jsx)(eO,{onComplete:t,onDismiss:n})}}),(0,ep.jsx)(x.Je,{eligibleIds:[508387],placementId:11,children:function(e){var t=e.complete,n=e.dismiss,r=e.experience;return(0,ep.jsx)(eI,{complete:t,dismiss:n,experience:r})}}),"windows"===f&&(0,ep.jsx)(x.Je,{eligibleIds:[501123],placementId:11,children:function(e){var t=e.complete;return(0,ep.jsx)(r.Suspense,{children:(0,ep.jsx)(eE,{handleComplete:function(){return a.handleInstallWindowsPWA(t)},language:k.language||"",locale:k.locale||""})})}}),"chrome"===f&&(0,ep.jsx)(x.Je,{eligibleIds:[500999],placementId:11,children:function(e){var t=e.complete,n=e.dismiss;return(0,ep.jsx)(Y.A,{completeButtonText:C._('Get the app', 'Confirm button to install Chrome PWA', 'Confirm button to install Chrome PWA'),dismissButtonText:C._('Not now', 'Dismiss button for Chrome PWA upsell banner', 'Dismiss button for Chrome PWA upsell banner'),message:C._('Get our Chrome app for faster searching and saving', 'Text for banner to install Chrome PWA', 'Text for banner to install Chrome PWA'),onComplete:function(){return a.handleInstallChromePWA(t)},onDismiss:function(){return a.handleDismissChromePWAUpsell(n)}})}}),s&&(0,ep.jsx)(x.Je,{customExperienceSession:!0,eligibleIds:[502535],enableExperienceSession:D,placementId:11,sessionEndOnSurfaceChange:M,children:function(e){var t=e.complete,n=e.dismiss;return(0,ep.jsx)(r.Suspense,{children:(0,ep.jsx)(eT,{handleComplete:t,handleDismiss:n})})}}),h&&(0,ep.jsx)(g.A,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,ep.jsx)(eP,{onModalDismiss:function(){a.setState({showYipModal:!1})}})}),(0,ep.jsx)(J.A,{view:1,viewParameter:92,children:(0,ep.jsx)(r.Fragment,{children:this.isHomefeed&&(0,ep.jsxs)(i.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:O.OY}},"data-test-id":"homefeed-feed",children:[(0,ep.jsx)(ee.A,{text:this.props.i18n._('Home', 'text for accessibility hidden heading', 'text for accessibility hidden heading')}),(w||d)&&(0,ep.jsx)(i.az,{paddingY:6,children:(0,ep.jsx)(i.y$,{accessibilityLabel:this.props.i18n._('Refreshing homefeed', 'Authhomefeed.refreshSpinner', 'spinner for refreshing homefeed'),show:!0})}),z.isAuth&&H&&!G&&(0,ep.jsx)(g.A,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,ep.jsx)(Q.A,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new i.K5(this.isHomefeed?[new i.rk(5)]:[new i.rk(6)]),style:{width:"100%",backgroundColor:"var(--sema-color-background-default)",transform:c?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,ep.jsx)(i.az,{color:"default",dangerouslySetInlineStyle:{__style:{marginLeft:"calc(50% - 50vw)",marginRight:"calc(50% - 50vw)",width:"100vw"}},height:u.A,children:(0,ep.jsx)(i.az,{"data-root-margin":"more-ideas-tabs",height:u.A,marginEnd:(0,m.Tj)(),marginStart:(0,m.Tj)(),children:(0,ep.jsx)(ej,{boards:V?K:void 0,currentTabIndex:ea,fallback:(0,ep.jsx)(i.az,{height:u.A}),hfpBusinessLocalNavTabsWebEnabled:W,hideTabs:c,inLocalNavigation:I,nonFixed:!0})})})})}),F&&!(z.isAuth&&H&&W)&&(0,ep.jsx)(i.az,{marginBottom:2,marginTop:4,children:(0,ep.jsxs)("div",{className:"gridCentered",children:[(0,ep.jsx)(E.A,{unsafeCSS:(0,P.A)({gutterWidth:0,isRTL:!1,itemWidth:O.rt+O.Ii,maxColumns:X.length,minColumns:O.NZ})}),(0,ep.jsx)(eD,{disableLastGutter:!0,fallback:(0,ep.jsx)(i.az,{height:142}),feed:[N],view:1,viewParameter:92})]})}),!!(null!=(n=K)&&n.length)&&z.isAuth&&!H&&(0,ep.jsx)(Q.A,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new i.K5(this.isHomefeed?[new i.rk(5)]:[new i.rk(6)]),style:{width:"100%",backgroundColor:"var(--sema-color-background-default)",transform:c?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,ep.jsx)(i.az,{"data-root-margin":"more-ideas-tabs",marginBottom:4*(ei===en.Z),marginEnd:(0,m.Tj)(),marginStart:(0,m.Tj)(),overflow:"visible",children:(0,ep.jsx)(ej,{boards:K,currentTabIndex:ei,hideTabs:c,inLocalNavigation:I,nonFixed:!0})})}),!!(null!=(o=K)&&o.length)&&!!ei&&"pinterest_picks"!==K[ei-1].tab_type&&(0,ep.jsx)(eM,{inLocalNavigation:I,tabBoard:K[ei-1]}),ei===en.Z&&(0,ep.jsxs)(r.Fragment,{children:[(0,ep.jsx)(L.A,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:this.props.dataIsAtEnd,isPlaceholderGrid:b&&!X.length,itemCount:X.length,pinData:X,children:(0,ep.jsx)(p.A,{id:"AuthHomefeedMasonry",children:(0,ep.jsx)(j.default,{cacheKey:"homefeed",getColumnSpanConfig:S?this.getColumnSpanConfig:function(e){return a.getColumnSpanConfig(e)},isFetching:b,isLoadedAccessibilityLabel:X.length>0?this.props.i18n._('More Pins loaded for homefeed', 'authhomefeed.masonry.paginationLoaded', 'More Pins loaded for homefeed'):this.props.i18n._('Loaded homefeed', 'authhomefeed.masonry.loaded', 'Pins have loaded for homefeed'),isLoadingAccessibilityLabel:X.length>0?this.props.i18n._('Loading more Pins for homefeed', 'authhomefeed.masonry.paginationLoading', 'Loading more Pins for homefeed'):this.props.i18n._('Loading homefeed', 'authhomefeed.masonry.loading', 'Loading homefeed'),isLoadingStateEnabled:!0,items:X,loadItems:this.loadItems,masonryRef:eL,renderItem:this.renderItem})})}),X.length>0&&(0,ep.jsx)(v.A,{surface:"homefeed"})]}),(0,ep.jsx)(x.r8,{placementId:11})]})})})]})}}],function(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eA(r.key),r)}}(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}(r.PureComponent);function eW(e){var t=(0,T.A)(),n=(0,a.wA)(),i=(0,r.useRef)(0),l=(0,r.useRef)(ew(ew({},3011,null),3012,null)),s=(0,o.zy)(),c=(0,C.A)(),u=(0,F._8)(),p=(0,K.A)(),m=(0,es.zy)(),y=(0,eo.C1)(),v=(0,er.A)(),b=v.pins,g=v.clear,j=(0,q.CG)(),P=(0,x.WJ)(),S=P.mountPlacement,O=P.unmountPlacement,E=(0,B.A)().checkExperiment,k=(0,I.V)(),z=(0,A.A)(),M=(0,o.Zp)(),N=(0,o.wQ)(),L=(0,X.A)(),U=(0,f.A)().shouldMaintainHomefeed,H=(0,et.g)(),V=(0,G.A)(ey(ey({},e.homefeedResourceConfig),{},{enabledRouteRefresh:!U})),J=V.isAtEnd,Y=V.isFetching,$=V.isRefreshing,Q=V.fetchMore,ee=V.data,en=V.refresh,ei=E("hfp_local_nav_tabs_web").anyEnabled,ec=(0,d.A)();(0,Z.A)(function(){var e=ee||[];if(c.isAuth&&!c.isPartner&&(0,D.A)(c.createdAt)&&e.length>0&&1){var r=W.Ay.getItem(_.Gq);if(r||b.length>0){var o=[].concat(em(b),em(r?[{id:r}]:[]));setTimeout(function(){o.forEach(function(e){var r=e.id,o=e.nodeId;(0,h.A)({description:"",entityId:r,link:"",promotedIsRemovable:void 0,title:""},t).then(function(e){var t=e.id,i=e.url,a=e.name;n((0,ea.R)({boardId:t,url:i,title:a||"",pinId:r||"",nodeId:o}))})}),p({action:"trigger",item:"unauth-save-button-quicksave"}),n((0,el.A)(!0)),W.Ay.removeItem(_.Gq),g()},1500)}}});var ed=(0,r.useCallback)(function(){return S(1000294,{})},[S]),ef=(0,r.useCallback)(function(){return O(1000294)},[O]);(0,R.A)(s,j.showToast,t);var eh=(0,w.wQ)(11),e_=eh.enableExperienceSession,ev=eh.endOnSurfaceChange,eb=(0,eu.A)(E,"homefeed");return(0,ep.jsx)(r.Fragment,{children:(0,ep.jsx)(eU,ey(ey({},e),{},{checkExperiment:E,currentHistoryStack:k,dataIsAtEnd:J,dataIsFetching:Y,dataIsRefreshing:$,dispatch:n,enableExperienceSession:e_,experienceClient:z,experienceSessionEndOnSurfaceChange:ev,fetchMoreData:Q,headerHeight:H,homefeedData:ee,homefeedPopoverAnchorRefs:l,i18n:t,inLocalNavigation:ei,isDwebScrollPinToTopOnTapExpEnabled:eb,isPinRepOptimizationExpEnabled:ec,lastScrollYRef:i,lfvExperiences:L,location:s,mostRecentPLP:y.id?m[y.id]:null,mountWebRepinPlacement:ed,navigate:M,navigationType:N,refreshData:en,requestContext:u,toastManagerContext:j,unmountWebRepinPlacement:ef,viewer:c}))})}function eH(e){var t=(0,l.Z)(),n=(0,r.useMemo)(function(){return t()},[t]);return(0,ep.jsx)(p.A,{id:"AuthHomefeed",children:(0,ep.jsx)(eW,ey(ey({},e),{},{homefeedResourceConfig:n}))})}var eV=n(589939),eJ=n(539498),eK=function(){return(0,ep.jsxs)(r.Fragment,{children:[(0,ep.jsx)(x.Gl,{placementId:11}),(0,ep.jsx)(eV.A,{placementId:1000503}),(0,ep.jsx)(eJ.A,{placementId:1000541})]})},eY=n(44813);function eq(e){var t=e.onDismiss,n=e.onComplete,r=e.titleText,o=e.detailedText,a=e.dismissButtonText,l=e.completeButtonText,s=(0,T.A)();return(0,ep.jsx)(eY.Ay,{accessibilityModalLabel:o,closeOnOutsideClick:!1,onDismiss:t,size:"sm",children:(0,ep.jsx)(i.az,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,ep.jsxs)(i.az,{marginTop:2,children:[(0,ep.jsx)(i.az,{display:"flex",justifyContent:"center",marginTop:10,children:(0,ep.jsx)(i.In,{accessibilityLabel:s._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"primary",icon:"pinterest",size:40})}),(0,ep.jsx)(i.az,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:200,children:(0,ep.jsxs)(i.az,{color:"default",paddingX:4,paddingY:2,children:[(0,ep.jsx)(i.so,{alignItems:"start",justifyContent:"between",children:(0,ep.jsxs)(i.az,{flex:"grow",children:[(0,ep.jsx)(i._Y,{align:"center",size:"600",children:r}),(0,ep.jsx)(i.az,{paddingY:4,children:(0,ep.jsxs)(i.KJ,{align:"center",children:[" ",o," "]})})]})}),(0,ep.jsx)(i.az,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,ep.jsxs)(i.so,{gap:{row:2,column:0},justifyContent:"end",children:[(0,ep.jsx)(i.$n,{color:"secondary",onClick:t,size:"lg",text:a}),(0,ep.jsx)(i.$n,{color:"primary",onClick:n,size:"lg",text:l})]})})]})})]})})})}function e$(e){var t=e.onComplete,n=e.onDismiss,o=e.titleText,i=e.detailedText,a=e.dismissButtonText,l=e.completeButtonText;return(0,ep.jsx)(r.Fragment,{children:(0,ep.jsx)(eq,{completeButtonText:l,detailedText:i,dismissButtonText:a,onComplete:t,onDismiss:n,titleText:o})})}var eZ=function(e){var t=e.placementId,n=e.experience;return n&&n.display_data?(0,ep.jsx)(x.Je,{eligibleIds:[503750],placementId:t,children:function(e){var t=e.complete,r=e.dismiss;return(0,ep.jsx)(e$,{completeButtonText:n.display_data.complete_button_text,detailedText:n.display_data.detailed_text,dismissButtonText:n.display_data.dismiss_button_text,onComplete:t,onDismiss:r,titleText:n.display_data.title_text})}}):null},eX=n(198457),eQ=n(893665),e0=n(359580),e1=n(250913);function e2(e){return(e2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var e5=["placementId"];function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function e6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(t){var r,o;r=t,o=n[t],(r=function(e){var t=function(e,t){if("object"!=e2(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=e2(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==e2(t)?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var e4=(0,ef.A)(function(){return Promise.all([n.e("59613"),n.e("49056")]).then(n.bind(n,946974))},{ssr:!1},function(e){return 946974},void 0,void 0);function e7(e){var t=e.placementId,n=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],-1===t.indexOf(n)&&({}).propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,e5),r=(0,F._8)(),o=r.locale,i=r.country,a=(0,C.A)(),l=a.gender,s=null!=a&&a.isAuth?a.age_in_years:null;return(0,ep.jsx)(x.Je,{disableAutoView:!0,eligibleTypes:[9],placementId:t,children:function(e){var t=e.complete,r=e.dismiss,a=e.view,c=e.experience.display_data,u=c.steps||[],d=u.every(function(e){return e&&e.isCompleted}),f=Object.fromEntries(u.map(function(e){return[e.moduleName,e.isCompleted]}));return d?((0,ed.GV)("web.nux.NuxContainer.all_steps_completed",{tags:e6(e6({},f),{},{age:s,country:i,gender:l,locale:o})}),t(),null):(0,ep.jsx)(g.A,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,ep.jsx)(e4,e6(e6({},(0,e0.A)(e1.A,!0)(c)),{},{handleComplete:t,handleDismiss:r,handleView:a,hasUnauthLandingPage:c.has_landing_page},n))})}})}var e8=n(217870);function e9(e){return(e9="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){return e.replace(/[()\.\-\s]/g,"")}function tt(e,t){return null!==e&&"object"===e9(e)&&t in e&&"string"==typeof e[t]}var tn=n(368114);function tr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return to(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?to(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ti(e){var t=e.footerText,n=(0,T.A)();return(0,ep.jsxs)(i.so,{direction:"column",flex:"grow",gap:{column:2,row:0},width:"100%",children:[(0,ep.jsxs)(i.so,{alignItems:"center",gap:{row:1,column:0},justifyContent:"start",children:[(0,ep.jsx)(i.In,{accessibilityLabel:n._('Lock logo', 'experiencePhoneCollectionModal.footerText.lockLogoAccessibilityLabel', 'Accessibility label for lock logo'),color:"subtle",icon:"lock",size:12}),(0,ep.jsx)(i.KJ,{size:"100",children:n._('Your phone number won\'t show on your profile', 'experiencePhoneCollectionModal.text.privacy', 'Text body for privacy statement')})]}),(0,tn.dz)(t||"","100")]})}function ta(e){var t=e.imageUrl,n=e.headerText,o=e.subtitleText,a=e.onE164PhoneNumberChange,l=e.onSendCode,s=e.onDismiss,c=tr((0,r.useState)(""),2),u=c[0],d=c[1],f=tr((0,r.useState)(null),2),p=f[0],m=f[1],h=(0,T.A)(),_=(0,C.A)(),y=_.isAuth?_.country:void 0,v=(0,G.A)({name:"ApiResource",options:{url:"/v3/countries/phone_codes/"}}),b=v.data,g=v.isLoaded,x=v.error,w=function(e){var t=null==b?void 0:b.find(function(t){return t.code===e});return(null==t?void 0:t.phone_code)||""},A=(0,r.useMemo)(function(){if(g&&b&&y){var e=b.find(function(e){return e.code===y});return(null==e?void 0:e.code)||""}return""},[g,b,y]),j=tr((0,r.useState)(void 0),2),P=j[0],S=j[1],O=null!=P?P:A;(0,r.useEffect)(function(){x&&(0,ed.GV)("experience_phone_collection_modal.country_codes_load_error",{sampleRate:.1,tags:{error_code:x.api_error_code?String(x.api_error_code):void 0,error_message:x.message||"Unknown error"}})},[x]);var I=function(e,t){return w(e).replace(/\D/g,"").length+t.length},E=function(e,t){var n=h._('You entered an invalid phone number', 'experiencePhoneCollectionModal.phoneNumber.error', 'Phone number validation error message');if(0===t.length){m(null),a(void 0);return}var r=te(t);if(!/^\d+$/.test(r)||I(e,r)>15){m(n),a(void 0);return}var o=w(e)+r;m(null),a(o)},k=function(e){S(e),u.length>0?E(e,u):a(void 0)};return(0,ep.jsxs)(r.Fragment,{children:[(0,ep.jsx)(i.az,{width:"100%",children:(0,ep.jsx)(i._V,{alt:h._('Phone collection modal image', 'experiencePhoneCollectionModal.image.alt', 'Alt text for phone collection modal image'),fit:"cover",naturalHeight:275,naturalWidth:540,src:t})}),(0,ep.jsxs)(i.az,{marginTop:4,paddingX:6,children:[(0,ep.jsx)(i._Y,{accessibilityLevel:1,size:"600",children:n}),(0,ep.jsx)(i.az,{marginBottom:4,marginTop:2,children:(0,tn.dz)(o||"","300")}),(0,ep.jsx)(i.az,{marginBottom:4,children:(0,ep.jsx)(i.Bq,{disabled:!g||!!x,errorMessage:x?h._('Error loading country code list', 'experiencePhoneCollectionModal.countryCodeList.error', 'Error message when country code list fails to load'):void 0,id:"countryCode",label:h._('Country code', 'experiencePhoneCollectionModal.countryCode.label', 'Label for country code selection'),name:"countryCode",onChange:function(e){return k(e.value)},placeholder:h._('Choose', 'countryCodeList.selectList.countryCodePlaceholder', 'Placeholder text when country code is not selected.'),size:"lg",value:O,children:(b||[]).map(function(e){return(0,ep.jsx)(i.Bq.Option,{label:e.phone_code_label,value:e.code},e.code)})})}),(0,ep.jsx)(i.az,{marginBottom:4,children:(0,ep.jsx)(i.A_,{errorMessage:p,id:"phoneNumber",label:h._('Phone number', 'experiencePhoneCollectionModal.phoneNumber.label', 'Label for phone number input'),onChange:function(e){var t=e.value;d(t),E(O,t)},placeholder:h._('Enter your phone number', 'experiencePhoneCollectionModal.phoneNumberPlaceholder', 'Placeholder for phone number input'),size:"lg",type:"tel",value:u})}),(0,ep.jsx)(i.az,{marginBottom:1,children:(0,ep.jsxs)(i.so,{direction:"column",flex:"grow",gap:{column:2,row:0},width:"100%",children:[(0,ep.jsx)(i.$n,{color:"primary",disabled:!!p||7>I(O,te(u)),fullWidth:!0,onClick:l,text:h._('Send code', 'experiencePhoneCollectionModal.button.primary', 'Primary button text to send code')}),(0,ep.jsx)(i.$n,{color:"transparent",fullWidth:!0,onClick:s,text:h._('Not now', 'experiencePhoneCollectionModal.button.secondary', 'Dismiss button text')})]})})]})]})}var tl=new Map([["enabled_account_recovery","account_recovery"],["enabled_account_verification","account_verification"],["enabled_community_safety","community_safety"]]),ts=n(752411);function tc(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return tu(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,a}};function p(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,m=i[2];n>3?(o=m===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),l=u,s=m;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(tu(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,tu(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,tu(u,"constructor",c),tu(c,"constructor",s),s.displayName="GeneratorFunction",tu(c,o,"GeneratorFunction"),tu(u),tu(u,o,"Generator"),tu(u,r,function(){return this}),tu(u,"toString",function(){return"[object Generator]"}),(tc=function(){return{w:i,m:d}})()}function tu(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(tu=function(e,t,n,r){function i(t,n){tu(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function td(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tf(){var e=(0,T.A)();return(0,ep.jsxs)(i.so,{direction:"column",gap:{column:2,row:0},justifyContent:"between",children:[(0,ep.jsx)(i._Y,{size:"600",children:e._('Enter the code', 'experiencePhoneCollectionModal.verificationStep.title', 'Title for verification step modal')}),(0,ep.jsx)(i.KJ,{size:"300",children:e._('To confirm and help secure your account, we\'ve sent a code to your phone number.', 'experiencePhoneCollectionModal.verificationStep.subtitle', 'Subtitle for verification step modal that explains code was sent to phone number')})]})}function tp(e){var t,n,r=e.onDismiss,o=e.otpCode,a=e.e164PhoneNumber,l=e.showToast,s=(0,T.A)(),c=(t=tc().m(function e(){return tc().w(function(e){for(;;)switch(e.p=e.n){case 0:if(o){e.n=1;break}return l(s._('Please enter a code', 'experiencePhoneCollectionModal.verificationStep.confirmCode.error', 'Error message shown when no code is entered'),"error"),e.a(2);case 1:return e.p=1,e.n=2,(0,ts.A)({url:"/v3/verifications/check/",method:"POST",data:{code:o,phone_recipient:a}});case 2:l(s._('Phone number confirmed', 'experiencePhoneCollectionModal.verificationStep.confirmCode.success', 'Success message shown when verification code is confirmed'),"success"),r(),e.n=4;break;case 3:e.p=3,e.v,l(s._('That code didn\'t work. Try again.', 'experiencePhoneCollectionModal.verificationStep.confirmCode.error', 'Error message shown when confirming phone number fails'),"error");case 4:return e.a(2)}},e,null,[[1,3]])}),n=function(){var e=this,n=arguments;return new Promise(function(r,o){var i=t.apply(e,n);function a(e){td(i,r,o,a,l,"next",e)}function l(e){td(i,r,o,a,l,"throw",e)}a(void 0)})},function(){return n.apply(this,arguments)}),u=!o||6!==o.length;return(0,ep.jsxs)(i.so,{justifyContent:"end",children:[(0,ep.jsx)(i.$n,{color:"transparent",onClick:r,size:"lg",text:s._('Cancel', 'experiencePhoneCollectionModal.verificationStep.button.secondary', 'Cancel button text for verification step')}),(0,ep.jsx)(i.$n,{color:"primary",disabled:u,onClick:c,size:"lg",text:s._('Confirm', 'experiencePhoneCollectionModal.verificationStep.button.primary', 'Confirm button text for verification step')})]})}function tm(e){var t=e.onCodeChange,n=e.onResendCode,r=e.otpCode,o=(0,T.A)();return(0,ep.jsxs)(i.az,{paddingX:6,paddingY:1,children:[(0,ep.jsx)(i.A_,{id:"enter-code",onChange:function(e){t(e.value||void 0)},placeholder:o._('Enter code', 'experiencePhoneCollectionModal.verificationStep.placeholder', 'Placeholder text to send code for verification step modal'),size:"lg",type:"text",value:r||""}),(0,ep.jsx)(i.az,{marginTop:4,children:(0,ep.jsx)(i.KJ,{color:"default",size:"100",children:(0,ep.jsx)(i.N_,{href:"",onClick:function(e){e.event.preventDefault(),n()},underline:"always",children:o._('Send a new code', 'experiencePhoneCollectionModal.verificationStep.resendCode', 'Resend code text for verification step modal')})})})]})}var th=n(713466),t_=n(906938),ty=n(797395),tv=n(598269);function tb(){var e,t,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var s=Object.create((r&&r.prototype instanceof l?r:l).prototype);return tg(s,"_invoke",function(n,r,o){var i,l,s,c=0,u=o||[],d=!1,f={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,n){return i=t,l=0,s=e,f.n=n,a}};function p(n,r){for(l=n,s=r,t=0;!d&&c&&!o&&t<u.length;t++){var o,i=u[t],p=f.p,m=i[2];n>3?(o=m===r)&&(s=i[(l=i[4])?5:(l=3,3)],i[4]=i[5]=e):i[0]<=p&&((o=n<2&&p<i[1])?(l=0,f.v=r,f.n=i[1]):p<m&&(o=n<3||i[0]>r||r>m)&&(i[4]=n,i[5]=r,f.n=m,l=0))}if(o||n>1)return a;throw d=!0,r}return function(o,u,m){if(c>1)throw TypeError("Generator is already running");for(d&&1===u&&p(u,m),l=u,s=m;(t=l<2?e:s)||!d;){i||(l?l<3?(l>1&&(f.n=-1),p(l,s)):f.n=s:f.v=s);try{if(c=2,i){if(l||(o="next"),t=i[o]){if(!(t=t.call(i,s)))throw TypeError("iterator result is not an object");if(!t.done)return t;s=t.value,l<2&&(l=0)}else 1===l&&(t=i.return)&&t.call(i),l<2&&(s=TypeError("The iterator does not provide a '"+o+"' method"),l=1);i=e}else if((t=(d=f.n<0)?s:n.call(r,f))!==a)break}catch(t){i=e,l=1,s=t}finally{c=1}}return{value:t,done:d}}}(n,o,i),!0),s}var a={};function l(){}function s(){}function c(){}t=Object.getPrototypeOf;var u=c.prototype=l.prototype=Object.create([][r]?t(t([][r]())):(tg(t={},r,function(){return this}),t));function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,tg(e,o,"GeneratorFunction")),e.prototype=Object.create(u),e}return s.prototype=c,tg(u,"constructor",c),tg(c,"constructor",s),s.displayName="GeneratorFunction",tg(c,o,"GeneratorFunction"),tg(u),tg(u,o,"Generator"),tg(u,r,function(){return this}),tg(u,"toString",function(){return"[object Generator]"}),(tb=function(){return{w:i,m:d}})()}function tg(e,t,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(tg=function(e,t,n,r){function i(t,n){tg(e,t,function(e){return this._invoke(t,n,e)})}t?o?o(e,t,{value:n,enumerable:!r,configurable:!r,writable:!r}):e[t]=n:(i("next",0),i("throw",1),i("return",2))})(e,t,n,r)}function tx(e,t,n,r,o,i,a){try{var l=e[i](a),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function tw(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var i=e.apply(t,n);function a(e){tx(i,r,o,a,l,"next",e)}function l(e){tx(i,r,o,a,l,"throw",e)}a(void 0)})}}function tA(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=i.call(n)).done)&&(l.push(r.value),l.length!==t);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return tj(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tj(e,t):void 0}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tj(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tP=new i.rk(tv.d1),tS=new i.K5([tP]);function tC(e){var t,n,o,a=e.experience,l=e.placementId,s=tA((0,r.useState)(void 0),2),c=s[0],u=s[1],d=(0,T.A)(),f=(0,ty.c)(),p=f.recaptchaV3Token,m=f.refreshToken,h=tA((0,r.useState)(!1),2),_=h[0],y=h[1],v=(t=(0,q.CG)(),(0,r.useCallback)(function(e,n){t.showToast(function(t){var r=t.hideToast;return(0,ep.jsx)(S.A,{duration:4e3,onHide:r,text:e,type:n})})},[t])),b=tA((0,r.useState)(!0),2),g=b[0],x=b[1],w=tA((0,r.useState)(void 0),2),A=w[0],j=w[1],P=(0,B.A)().checkExperiment("web_identity_phone_number_collection",{dangerouslySkipActivation:!0}).group,C=d._('There was an error sending the verification code', 'experiencePhoneCollectionModal.sendCode.error', 'Error message shown when sending verification code fails'),O=(n=tw(tb().m(function e(){var t,n,r,o,i,a=arguments;return tb().w(function(e){for(;;)switch(e.p=e.n){case 0:if(t=(a.length>0&&void 0!==a[0]?a[0]:{}).onSuccess,c){e.n=1;break}return(0,ed.GV)("experience_phone_collection_modal.e164_phone_number_missing",{sampleRate:.1}),v(C,"error"),e.a(2);case 1:if(p){e.n=2;break}return(0,ed.GV)("experience_phone_collection_modal.recaptcha_token_missing",{sampleRate:.1}),v(C,"error"),e.a(2);case 2:return e.p=2,e.n=3,(0,ts.A)({url:"/v3/verifications/send/",method:"POST",data:{channel:"sms",phone_recipient:c,recaptcha_token:p,phone_value_prop:tl.get(P)||void 0}});case 3:v(d._('Code sent', 'experiencePhoneCollectionModal.verificationStep.sendCode.success', 'Success message shown when code is sent'),"success"),null==t||t(),e.n=5;break;case 4:e.p=4,i=e.v,m&&m(),r=(n=function(e,t){var n,r,o=(0,e8.A)(e,"api_error_code"),i=(0,e8.A)(e,"message");if(i&&"string"==typeof i)try{n=JSON.parse(i),(r=tt(n,"message")?n.message:tt(n,"error")?n.error:void 0)||(r=i)}catch(e){r=i}return{errorMessage:r||t,errorCode:o?String(o):"unknown error code"}}(i,C)).errorMessage,o=n.errorCode,(0,ed.GV)("experience_phone_collection_modal.send_code_error",{sampleRate:.1,tags:{error_code:o,error_message:r}}),v(r,"error");case 5:return e.a(2)}},e,null,[[2,4]])})),function(){return n.apply(this,arguments)}),I=(o=tw(tb().m(function e(){return tb().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,O({onSuccess:function(){y(!0)}});case 1:return e.a(2)}},e)})),function(){return o.apply(this,arguments)});return g&&(0,ep.jsx)(th.Ay,{eligibleTypes:[35],experience:a,placementId:l,children:function(e){var t=e.dismiss,n=function(){t(),x(!1)},r=null!=a&&a.display_data?(0,e0.A)(e1.A)(a.display_data):{},o=r.headerText,l=r.subtitleText,s=r.footerText,f=r.headerImage,p=null==f?void 0:f["564x"];return(0,ep.jsx)(i.Wd,{zIndex:tS,children:(0,ep.jsx)(t_.aF,{accessibilityModalLabel:d._('Modal to collect phone number', 'experiencePhoneCollectionModal.modal.accessibilityLabel', 'Accessibility label for phone collection modal'),footer:_?(0,ep.jsx)(tp,{e164PhoneNumber:c,onDismiss:n,otpCode:A,showToast:v}):(0,ep.jsx)(ti,{footerText:s}),heading:_?(0,ep.jsx)(tf,{}):void 0,onDismiss:n,size:"sm",children:_?(0,ep.jsx)(tm,{onCodeChange:j,onResendCode:function(){return O()},otpCode:A}):(0,ep.jsx)(ta,{headerText:o,imageUrl:p,onDismiss:n,onE164PhoneNumberChange:u,onSendCode:I,subtitleText:l})})})}})}function tO(e){var t=e.experience,n=e.placementId,r=(0,a.d4)(function(e){var r=e.experiences;return t||(n?r[n]:void 0)});return(null==r?void 0:r.type)!==35?null:(0,ep.jsx)(tC,{experience:r,placementId:n})}var tI=n(28860),tT=n(758576),tE=n(186122),tk=n(175795),tz=n(581596),tD=n(251150);function tM(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tR=(0,r.lazy)(function(){return Promise.all([n.e("59613"),n.e("49056")]).then(n.bind(n,946974))});function tB(e){var t,n=e.hideFollowedInterests,o=(0,tE.o)().logContextEvent,i=(0,a.wA)(),l=(0,C.A)(),s=(0,x.Du)(11),c=s.completeExperience,u=s.dismissExperience,d=s.experienceForPlacement,f=s.viewExperience,p=(null==d?void 0:d.experience_id)===500278,m=(0,e0.A)(e1.A,!0)((null==d?void 0:d.display_data)||{}),h=m.steps,_=m.refresh_homefeed_background,y=void 0!==_&&_,v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(!1))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return tM(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tM(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],w=v[1],A=(0,tz.A)(),j=function(){i((0,tk.Jt)("UserHomefeedResource",{options:(0,tT.A)({inNux:!0,staticFeed:!1,viewerIsPartner:l.isAuth&&l.isPartner})},null))};return(0,r.useEffect)(function(){b&&u(11,500278)},[b,u]),p?(0,ep.jsx)(g.A,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,ep.jsx)(U.A,{children:(0,ep.jsx)(tR,{handleComplete:function(){o({event_type:101,component:17,element:96,view_type:213}),p&&c(11,500278);var e=Math.floor(new Date().getTime()/1e3);i((0,tD.Fq)("USM_RELAUNCH_NUX_COMPLETED",e)),j()},handleDismiss:function(e){o({event_type:101,component:17,element:1150,view_type:213}),p&&(w(!0),"NuxPicker"===e&&A({event_type:9626,view_type:213,view_parameter:172})),y&&j()},handleView:function(){p&&f(11,500278)},hasDismissedModal:b,hideFollowedInterests:n||!1,isRenux:!0,steps:h})})}):null}var tN=function(e){var t=e.experience,n=e.isNux;return(0,ep.jsxs)(r.Fragment,{children:[n||t&&t.display_data&&t.display_data.is_partner_renux?(0,ep.jsx)(e7,{placementId:11}):(0,ep.jsx)(tB,{hideFollowedInterests:!0}),(0,ep.jsx)(x.b5,{placementId:11}),(0,ep.jsx)(eQ.A,{placementId:11}),(0,ep.jsx)(x.j9,{placementId:11}),(0,ep.jsx)(x.nU,{placementId:11}),(0,ep.jsx)(x.Vj,{placementId:11}),(0,ep.jsx)(x.aR,{placementId:11}),(0,ep.jsx)(tI.A,{placementId:11}),(0,ep.jsx)(eX.A,{placementId:11}),(0,ep.jsx)(eZ,{experience:t,placementId:11}),(0,ep.jsx)(tO,{placementId:11})]})},tL=n(644632),tF=n(818054);function tG(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tU=(0,ef.A)(function(){return n.e("99287").then(n.bind(n,41951))},{ssr:!1},function(e){return 41951},"BackgroundPinImages",function(e){return ["99287"]}),tW=(0,ef.A)(function(){return Promise.all([n.e("4507"),n.e("1413"),n.e("17862")]).then(n.bind(n,50805))},{ssr:!1},function(e){return 50805},"ExperienceBizNuxFullscreenContainer",function(e){return ["4507","1413","17862"]}),tH=(0,x.Yd)(11,function(){return{using_pwa:(0,N.bi)(window)}})(function(e){var t,a=e.experience,l=(0,o.zy)(),s=(0,o.g)(),c=(0,tF.A)(),u=c.conversationOpen,d=c.dropdownOpen;(0,tL.r)({view_type:1,view_parameter:92});var f=(0,$.A)(l.search),p=f.conversation_id,m=f.tab,h=s.conversation_id||p;(0,r.useEffect)(function(){h&&u(h)},[h]),(0,r.useEffect)(function(){"inbox"===m&&d()},[m]),(0,r.useEffect)(function(){var e=document.getElementById("rum-config");null!==e&&null!==e.textContent&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e("46589").then(n.bind(n,649668)).then(function(e){e.default()}))},[]);var _=null==a?void 0:a.experience_id,y=10105===_,v=function(e){if(Array.isArray(e))return e}(t=(0,r.useState)(null))||function(e,t){var n=null==e?null:"u">typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,l=[],s=!0,c=!1;try{for(i=(n=n.call(e)).next;!(s=(r=i.call(n)).done)&&(l.push(r.value),2!==l.length);s=!0);}catch(e){c=!0,o=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return l}}(t,0)||function(e,t){if(e){if("string"==typeof e)return tG(e,2);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tG(e,2):void 0}}(t,0)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),b=v[0],x=v[1],w=[500787,500894].includes(_);return(null===b&&x(y),y&&!1===b&&((0,ed.GV)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),x(!0)),w)?(0,ep.jsx)(g.A,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,ep.jsx)(tW,{experienceId:500787,placementId:11})}):(0,ep.jsxs)(i.az,{children:[(0,ep.jsx)(tN,{experience:a,isNux:y}),y?(0,ep.jsx)(g.A,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,ep.jsx)(tU,{inNux:y,isFlexible:!0})}):(0,ep.jsx)(r.Fragment,{children:(0,ep.jsx)(eH,{experience:a})}),(0,ep.jsx)(eK,{})]})})},257613(e,t,n){"use strict";function r(e){return{type:"PIN_QUICK_SAVE",payload:e}}function o(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{R:function(){return r},q:function(){return o}})},784706(e,t,n){"use strict";function r(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}n.d(t,{A:function(){return r}})},216178(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},146415(e,t,n){"use strict";e.exports=n(216178)},798143(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},756493(e,t,n){var r=n(798143);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},291018(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},30242(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},169851(e){e.exports=function(e){if("u">typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},795277(e){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},768109(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},117004(e,t,n){var r=n(756493),o=n(169851),i=n(342242),a=n(795277);e.exports=function(e){return r(e)||o(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},342242(e,t,n){var r=n(798143);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=({}).toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports}}]);